2025-06-01 08:02:59.498 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:03:01.516 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:03:01.586 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:03:01.588 +02:00 [INF] Hosting environment: Development
2025-06-01 08:03:01.589 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:03:46.066 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 08:03:46.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 598.4067ms
2025-06-01 08:04:05.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:04:05.582 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:04:05.684 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:04:07.985 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:04:39.104 +02:00 [ERR] An error occurred using the connection to database 'PulseERP' on server 'localhost,1433'.
2025-06-01 08:04:39.152 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-06-01 08:04:39.170 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 33481.7308ms
2025-06-01 08:04:39.175 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:04:39.218 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: TCP Provider, error: 40 - Could not open a connection to SQL Server)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 70
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 40
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
ClientConnectionId:00000000-0000-0000-0000-000000000000
2025-06-01 08:04:39.339 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:04:39.470 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 34112.1772ms
2025-06-01 08:05:14.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:05:15.019 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:05:15.030 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:05:15.492 +02:00 [ERR] An error occurred using the connection to database 'PulseERP' on server 'localhost,1433'.
2025-06-01 08:05:15.546 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SNI.TdsParserStateObjectManaged.ReadSyncOverAsync(Int32 timeoutRemaining, UInt32& error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SNI.TdsParserStateObjectManaged.ReadSyncOverAsync(Int32 timeoutRemaining, UInt32& error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-01 08:05:16.016 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 981.3142ms
2025-06-01 08:05:16.021 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:05:16.051 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.Net.Sockets.SocketException (22): Invalid argument
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)
   at System.Net.Sockets.Socket.UpdateStatusAfterSocketOptionErrorAndThrowException(SocketError error, String callerName)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SNI.SNITCPHandle.Receive(SNIPacket& packet, Int32 timeoutInMilliseconds)
   at Microsoft.Data.SqlClient.SNI.TdsParserStateObjectManaged.ReadSyncOverAsync(Int32 timeoutRemaining, UInt32& error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParser.ConsumePreLoginHandshake(SqlConnectionEncryptOption encrypt, Boolean trustServerCert, Boolean integratedSecurity, Boolean& marsCapable, Boolean& fedAuthRequired, Boolean tlsFirst, String serverCert)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 70
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 40
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:05:16.144 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:05:16.157 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 1225.712ms
2025-06-01 08:05:26.008 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:05:26.032 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:05:26.043 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:05:26.915 +02:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 08:05:27.300 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 08:05:27.355 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 1311.7187ms
2025-06-01 08:05:27.357 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:05:27.358 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IReadOnlyList`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Product, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IReadOnlyList`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Type Map configuration:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Money -> Decimal
PulseERP.Domain.ValueObjects.Money -> System.Decimal

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

   at lambda_method53(Closure, Money, Decimal, ResolutionContext)
   at lambda_method52(Closure, Object, IReadOnlyList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, IReadOnlyList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, IReadOnlyList`1, ResolutionContext)
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 42
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:05:27.366 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:05:27.368 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 1360.5218ms
2025-06-01 08:10:45.637 +02:00 [INF] Application is shutting down...
2025-06-01 08:11:17.515 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:11:18.455 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:11:18.476 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:11:18.477 +02:00 [INF] Hosting environment: Development
2025-06-01 08:11:18.484 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:11:25.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:11:25.465 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:11:25.550 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:11:27.274 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:11:29.060 +02:00 [INF] Executed DbCommand (92ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 08:11:29.360 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 08:11:29.415 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 3857.5973ms
2025-06-01 08:11:29.423 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:11:29.451 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Product, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Type Map configuration:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Money -> Decimal
PulseERP.Domain.ValueObjects.Money -> System.Decimal

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

   at lambda_method53(Closure, Money, Decimal, ResolutionContext)
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 42
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:11:29.529 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:11:29.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 4503.2061ms
2025-06-01 08:11:43.122 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 08:11:43.277 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 154.749ms
2025-06-01 08:11:43.870 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 08:11:44.155 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 285.3806ms
2025-06-01 08:11:50.191 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:11:50.225 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:11:50.226 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:11:50.570 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 08:11:50.578 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 08:11:50.588 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 361.6323ms
2025-06-01 08:11:50.591 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:11:50.595 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Product, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Type Map configuration:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Money -> Decimal
PulseERP.Domain.ValueObjects.Money -> System.Decimal

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

   at lambda_method53(Closure, Money, Decimal, ResolutionContext)
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 42
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:11:50.617 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:11:50.619 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 428.4919ms
2025-06-01 08:18:06.488 +02:00 [INF] Application is shutting down...
2025-06-01 08:18:22.595 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:18:23.329 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:18:23.333 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:18:23.334 +02:00 [INF] Hosting environment: Development
2025-06-01 08:18:23.334 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:18:28.041 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:18:28.196 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:18:28.236 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:18:29.752 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:18:30.876 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 08:18:31.077 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 08:18:31.126 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 2883.3406ms
2025-06-01 08:18:31.132 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:18:31.151 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Product, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Type Map configuration:
Product -> ProductSummary
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductSummary

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Money -> Decimal
PulseERP.Domain.ValueObjects.Money -> System.Decimal

Destination Member:
Void .ctor(System.Guid, System.String, System.String, System.String, System.Decimal, Int32, Boolean, System.String, Boolean), parameter Price

   at lambda_method53(Closure, Money, Decimal, ResolutionContext)
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method52(Closure, Object, List`1, ResolutionContext)
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 42
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:18:31.198 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:18:31.283 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 3246.347ms
2025-06-01 08:22:15.461 +02:00 [INF] Application is shutting down...
2025-06-01 08:22:44.433 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:22:45.400 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:22:45.405 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:22:45.406 +02:00 [INF] Hosting environment: Development
2025-06-01 08:22:45.407 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:23:39.226 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 08:23:39.421 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:23:39.474 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 08:23:41.338 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:23:42.535 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 08:23:42.776 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 08:23:42.813 +02:00 [INF] Retrieved products list: 2 items
2025-06-01 08:23:42.826 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 08:23:42.917 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 3434.9087ms
2025-06-01 08:23:42.923 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 08:23:42.943 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 3718.1798ms
2025-06-01 08:24:05.747 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 08:24:05.777 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 08:24:05.791 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 08:24:05.834 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 08:24:05.856 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 08:24:05.933 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 08:24:05.957 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 165.1866ms
2025-06-01 08:24:05.957 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 08:24:05.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 211.7872ms
2025-06-01 08:24:32.474 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/Customers - null null
2025-06-01 08:24:32.505 +02:00 [INF] Executing endpoint 'CustomersController.GetAll (PulseERP.API)'
2025-06-01 08:24:32.515 +02:00 [INF] Route matched with {action = "GetAll", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Customers.Models.CustomerSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.CustomerFilter) on controller CustomersController (PulseERP.API).
2025-06-01 08:24:32.623 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Customers] AS [c]
2025-06-01 08:24:32.659 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AssignedToUserId], [c].[CompanyName], [c].[CreatedAt], [c].[Email], [c].[FirstContactDate], [c].[FirstName], [c].[Industry], [c].[IsActive], [c].[IsVIP], [c].[LastInteractionDate], [c].[LastName], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdatedAt], [c].[City], [c].[Country], [c].[Street], [c].[PostalCode]
FROM [Customers] AS [c]
ORDER BY [c].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 08:24:32.671 +02:00 [INF] Retrieved 0 customers (page 1)
2025-06-01 08:24:32.676 +02:00 [INF] API: Customers list fetched with params: {"Search":null,"Status":null,"Type":null,"IsVIP":null,"AssignedToUserId":null,"PageNumber":1,"PageSize":12,"$type":"CustomerFilter"}
2025-06-01 08:24:32.680 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Customers.Models.CustomerSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 08:24:32.695 +02:00 [INF] Executed action CustomersController.GetAll (PulseERP.API) in 180.417ms
2025-06-01 08:24:32.696 +02:00 [INF] Executed endpoint 'CustomersController.GetAll (PulseERP.API)'
2025-06-01 08:24:32.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/Customers - 200 null application/json; charset=utf-8 222.7601ms
2025-06-01 08:25:31.798 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 399
2025-06-01 08:25:31.806 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:25:31.824 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:25:31.885 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 60.1562ms
2025-06-01 08:25:31.886 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:25:31.912 +02:00 [ERR] An unhandled exception has occurred while executing the request.
PulseERP.Domain.Errors.DomainException: Téléphone invalide (5-15 chiffres, option +).
   at PulseERP.Domain.ValueObjects.Phone.Create(String number) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Domain/ValueObjects/Phone.cs:line 17
   at PulseERP.Application.Services.CustomerService.CreateAsync(CreateCustomerCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/CustomerService.cs:line 67
   at CustomersController.Create(CreateCustomerCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/CustomersController.cs:line 59
   at lambda_method126(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:25:31.968 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:25:31.984 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 500 null application/problem+json; charset=utf-8 186.7438ms
2025-06-01 08:25:48.623 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 394
2025-06-01 08:25:48.624 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:25:48.624 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:25:48.636 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 11.5762ms
2025-06-01 08:25:48.636 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:25:48.637 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: Requested value 'Individual' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.Parse[TEnum](String value, Boolean ignoreCase)
   at System.Enum.Parse[TEnum](String value)
   at PulseERP.Application.Services.CustomerService.CreateAsync(CreateCustomerCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/CustomerService.cs:line 67
   at CustomersController.Create(CreateCustomerCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/CustomersController.cs:line 59
   at lambda_method126(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:25:48.640 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:25:48.640 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 500 null application/problem+json; charset=utf-8 17.5958ms
2025-06-01 08:29:31.130 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 388
2025-06-01 08:29:31.134 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:29:31.135 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:29:31.400 +02:00 [INF] Customer "de51a28b-ad41-4c52-ae00-8ba91c11a37d" added to context
2025-06-01 08:29:31.412 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 276.7186ms
2025-06-01 08:29:31.413 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:29:31.414 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'configuration')
   at StackExchange.Redis.ConfigurationOptions.DoParse(String configuration, Boolean ignoreUnknown) in /_/src/StackExchange.Redis/ConfigurationOptions.cs:line 870
   at StackExchange.Redis.ConfigurationOptions.Parse(String configuration, Boolean ignoreUnknown) in /_/src/StackExchange.Redis/ConfigurationOptions.cs:line 676
   at StackExchange.Redis.ConfigurationOptions.Parse(String configuration) in /_/src/StackExchange.Redis/ConfigurationOptions.cs:line 666
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCacheOptions.GetConfiguredOptions()
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.Connect()
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.Remove(String key)
   at PulseERP.Infrastructure.Repositories.CustomerRepository.AddAsync(Customer customer) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/CustomerRepository.cs:line 138
   at PulseERP.Application.Services.CustomerService.CreateAsync(CreateCustomerCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/CustomerService.cs:line 83
   at CustomersController.Create(CreateCustomerCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/CustomersController.cs:line 59
   at lambda_method126(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:29:31.447 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:29:31.448 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 500 null application/problem+json; charset=utf-8 318.7053ms
2025-06-01 08:29:45.610 +02:00 [INF] Application is shutting down...
2025-06-01 08:29:59.515 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:30:00.423 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:30:00.429 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:30:00.431 +02:00 [INF] Hosting environment: Development
2025-06-01 08:30:00.431 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:30:43.108 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 388
2025-06-01 08:30:43.297 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:30:43.334 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:30:45.309 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:30:45.772 +02:00 [INF] Customer "019fb2ba-3278-46c9-a395-bf3bd5956178" added to context
2025-06-01 08:30:45.799 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 2457.9682ms
2025-06-01 08:30:45.819 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:30:45.835 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'configuration')
   at StackExchange.Redis.ConfigurationOptions.DoParse(String configuration, Boolean ignoreUnknown) in /_/src/StackExchange.Redis/ConfigurationOptions.cs:line 870
   at StackExchange.Redis.ConfigurationOptions.Parse(String configuration, Boolean ignoreUnknown) in /_/src/StackExchange.Redis/ConfigurationOptions.cs:line 676
   at StackExchange.Redis.ConfigurationOptions.Parse(String configuration) in /_/src/StackExchange.Redis/ConfigurationOptions.cs:line 666
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCacheOptions.GetConfiguredOptions()
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.Connect()
   at Microsoft.Extensions.Caching.StackExchangeRedis.RedisCache.Remove(String key)
   at PulseERP.Infrastructure.Repositories.CustomerRepository.AddAsync(Customer customer) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/CustomerRepository.cs:line 138
   at PulseERP.Application.Services.CustomerService.CreateAsync(CreateCustomerCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/CustomerService.cs:line 83
   at CustomersController.Create(CreateCustomerCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/CustomersController.cs:line 59
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:30:45.905 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:30:45.981 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 500 null application/problem+json; charset=utf-8 2877.8076ms
2025-06-01 08:31:51.945 +02:00 [INF] Application is shutting down...
2025-06-01 08:36:00.593 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:36:02.818 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:36:02.864 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:36:02.873 +02:00 [INF] Hosting environment: Development
2025-06-01 08:36:02.874 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:36:11.764 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 388
2025-06-01 08:36:12.662 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:36:12.758 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:36:17.212 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:36:18.878 +02:00 [INF] Customer "49d20a2a-c7c0-4c3e-a6bf-3e3ba4bce72c" added to context
2025-06-01 08:36:22.291 +02:00 [INF] Executed DbCommand (171ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (Size = 20), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (Size = 50), @p18='?' (Size = 100), @p19='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-06-01 08:36:22.441 +02:00 [INF] Customer "49d20a2a-c7c0-4c3e-a6bf-3e3ba4bce72c" created
2025-06-01 08:36:22.496 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 9726.2796ms
2025-06-01 08:36:22.511 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:36:22.546 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Customer -> CustomerDetails
PulseERP.Domain.Entities.Customer -> PulseERP.Application.Customers.Models.CustomerDetails
   at lambda_method248(Closure, Object, CustomerDetails, ResolutionContext)
   at PulseERP.Application.Services.CustomerService.CreateAsync(CreateCustomerCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/CustomerService.cs:line 88
   at CustomersController.Create(CreateCustomerCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/CustomersController.cs:line 59
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:36:22.628 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:36:22.753 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 500 null application/problem+json; charset=utf-8 11013.4036ms
2025-06-01 08:39:40.663 +02:00 [INF] Application is shutting down...
2025-06-01 08:41:01.910 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:41:02.674 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:41:02.677 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:41:02.678 +02:00 [INF] Hosting environment: Development
2025-06-01 08:41:02.678 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:41:05.147 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 388
2025-06-01 08:41:05.370 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:41:05.447 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:41:07.500 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:41:07.906 +02:00 [INF] Customer "a738520b-3a70-4c2d-a839-051523682b42" added to context
2025-06-01 08:41:09.122 +02:00 [INF] Executed DbCommand (199ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (Size = 20), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (Size = 50), @p18='?' (Size = 100), @p19='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-06-01 08:41:09.479 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Customers' with unique index 'IX_Customers_Email'. The duplicate key value is (alice.martin@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:37598194-959e-4c59-b328-5de28289b7f9
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Customers' with unique index 'IX_Customers_Email'. The duplicate key value is (alice.martin@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:37598194-959e-4c59-b328-5de28289b7f9
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-01 08:41:09.590 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 4097.4879ms
2025-06-01 08:41:09.618 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:41:09.681 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Customers' with unique index 'IX_Customers_Email'. The duplicate key value is (alice.martin@example.com).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:37598194-959e-4c59-b328-5de28289b7f9
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.CustomerService.CreateAsync(CreateCustomerCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/CustomerService.cs:line 84
   at CustomersController.Create(CreateCustomerCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/CustomersController.cs:line 59
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:41:09.758 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:41:09.909 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 500 null application/problem+json; charset=utf-8 4765.6604ms
2025-06-01 08:43:20.429 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Customers - application/json 388
2025-06-01 08:43:20.446 +02:00 [INF] Executing endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:43:20.448 +02:00 [INF] Route matched with {action = "Create", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Create(PulseERP.Application.Customers.Commands.CreateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-01 08:43:20.542 +02:00 [INF] Customer "22c19a82-d674-4620-ac0e-3cb13bb35c94" added to context
2025-06-01 08:43:20.570 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 255), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (Size = 20), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (Size = 50), @p18='?' (Size = 100), @p19='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
2025-06-01 08:43:20.616 +02:00 [INF] Customer "22c19a82-d674-4620-ac0e-3cb13bb35c94" created
2025-06-01 08:43:20.642 +02:00 [INF] Customer created: alice.martin@example.com
2025-06-01 08:43:20.647 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Customers.Models.CustomerDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 08:43:20.717 +02:00 [INF] Executed action CustomersController.Create (PulseERP.API) in 268.3793ms
2025-06-01 08:43:20.717 +02:00 [INF] Executed endpoint 'CustomersController.Create (PulseERP.API)'
2025-06-01 08:43:20.719 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Customers - 201 null application/json; charset=utf-8 293.5716ms
2025-06-01 08:43:32.879 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/Customers - null null
2025-06-01 08:43:32.891 +02:00 [INF] Executing endpoint 'CustomersController.GetAll (PulseERP.API)'
2025-06-01 08:43:32.911 +02:00 [INF] Route matched with {action = "GetAll", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Customers.Models.CustomerSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.CustomerFilter) on controller CustomersController (PulseERP.API).
2025-06-01 08:43:33.365 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Customers] AS [c]
2025-06-01 08:43:33.485 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AssignedToUserId], [c].[CompanyName], [c].[CreatedAt], [c].[Email], [c].[FirstContactDate], [c].[FirstName], [c].[Industry], [c].[IsActive], [c].[IsVIP], [c].[LastInteractionDate], [c].[LastName], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdatedAt], [c].[City], [c].[Country], [c].[Street], [c].[PostalCode]
FROM [Customers] AS [c]
ORDER BY [c].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 08:43:33.509 +02:00 [INF] Retrieved 1 customers (page 1)
2025-06-01 08:43:33.512 +02:00 [INF] API: Customers list fetched with params: {"Search":null,"Status":null,"Type":null,"IsVIP":null,"AssignedToUserId":null,"PageNumber":1,"PageSize":12,"$type":"CustomerFilter"}
2025-06-01 08:43:33.515 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Customers.Models.CustomerSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 08:43:33.524 +02:00 [INF] Executed action CustomersController.GetAll (PulseERP.API) in 613.1115ms
2025-06-01 08:43:33.525 +02:00 [INF] Executed endpoint 'CustomersController.GetAll (PulseERP.API)'
2025-06-01 08:43:33.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/Customers - 200 null application/json; charset=utf-8 646.0838ms
2025-06-01 08:44:24.826 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 08:44:24.828 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 08:44:24.853 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 08:44:24.876 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 08:44:24.890 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 08:44:24.902 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 08:44:24.909 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 54.9059ms
2025-06-01 08:44:24.909 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 08:44:24.909 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 83.1433ms
2025-06-01 08:45:52.597 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 08:45:52.602 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 08:45:52.614 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 08:45:52.649 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 08:45:52.716 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 101.5559ms
2025-06-01 08:45:52.716 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 08:45:52.718 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Value.ToLower() == __normalized_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 135
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method326(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:45:52.727 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:45:52.728 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 132.1264ms
2025-06-01 08:53:01.907 +02:00 [INF] Application is shutting down...
2025-06-01 08:53:25.163 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 08:53:25.908 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 08:53:25.914 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 08:53:25.916 +02:00 [INF] Hosting environment: Development
2025-06-01 08:53:25.916 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 08:53:34.975 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 08:53:35.515 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 546.5768ms
2025-06-01 08:53:36.548 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 08:53:36.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 410.4328ms
2025-06-01 08:53:43.801 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 08:53:43.880 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 08:53:43.918 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 08:53:44.321 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 08:53:45.760 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 08:53:46.487 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2562.2476ms
2025-06-01 08:53:46.489 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 08:53:46.502 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Value.ToLower() == __normalized_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 133
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 08:53:46.542 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 08:53:46.598 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 2796.8817ms
2025-06-01 08:59:48.608 +02:00 [INF] Application is shutting down...
2025-06-01 09:04:02.926 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 09:04:03.793 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 09:04:03.800 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 09:04:03.801 +02:00 [INF] Hosting environment: Development
2025-06-01 09:04:03.802 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 09:04:10.140 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 09:04:10.452 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:04:10.502 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 09:04:11.027 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 09:04:12.663 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 09:04:13.475 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2963.1252ms
2025-06-01 09:04:13.502 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:04:13.537 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Value.ToLower() == __normalized_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 133
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 09:04:13.599 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 09:04:13.688 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 3554.5128ms
2025-06-01 09:04:19.810 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 09:04:19.900 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 90.4671ms
2025-06-01 09:04:20.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 09:04:20.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 336.6716ms
2025-06-01 09:04:27.490 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 09:04:27.617 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:04:27.620 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 09:04:27.638 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 09:04:27.714 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 92.9025ms
2025-06-01 09:04:27.715 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:04:27.716 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Value.ToLower() == __normalized_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 133
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 09:04:27.729 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 09:04:27.730 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 240.1814ms
2025-06-01 09:06:08.926 +02:00 [INF] Application is shutting down...
2025-06-01 09:06:33.132 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 09:06:33.751 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 09:06:33.756 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 09:06:33.757 +02:00 [INF] Hosting environment: Development
2025-06-01 09:06:33.757 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 09:06:36.825 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 09:06:37.160 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:06:37.206 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 09:06:37.612 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 09:06:39.387 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 09:06:40.266 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 3052.2492ms
2025-06-01 09:06:40.294 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:06:40.318 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => (EmailAddress)u.Email.Value.ToLower() == __email_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 132
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 09:06:40.387 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 09:06:40.485 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 3667.2431ms
2025-06-01 09:08:22.848 +02:00 [INF] Application is shutting down...
2025-06-01 09:08:52.835 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 09:08:53.520 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 09:08:53.525 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 09:08:53.526 +02:00 [INF] Hosting environment: Development
2025-06-01 09:08:53.526 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 09:08:57.297 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 09:08:57.497 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:08:57.548 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 09:08:57.904 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 09:08:59.330 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 09:09:00.009 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2451.8033ms
2025-06-01 09:09:00.058 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 09:09:00.093 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Value == __email_Value_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 130
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 09:09:00.182 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 09:09:00.254 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 2960.3958ms
2025-06-01 09:11:31.188 +02:00 [INF] Application is shutting down...
2025-06-01 15:45:44.101 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 15:45:44.547 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 15:45:44.550 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 15:45:44.551 +02:00 [INF] Hosting environment: Development
2025-06-01 15:45:44.551 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 15:46:06.815 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 15:46:06.945 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 132.218ms
2025-06-01 15:46:07.442 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 15:46:07.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 208.3991ms
2025-06-01 15:46:14.523 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 15:46:14.596 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 15:46:14.622 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 15:46:14.850 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 15:46:15.695 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 15:46:16.064 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1437.8874ms
2025-06-01 15:46:16.066 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 15:46:16.080 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.Email.Value == __email_Value_0)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 130
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 15:46:16.117 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 15:46:16.168 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 1644.291ms
2025-06-01 15:56:25.815 +02:00 [INF] Application is shutting down...
2025-06-01 15:56:46.359 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 15:56:47.243 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 15:56:47.255 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 15:56:47.256 +02:00 [INF] Hosting environment: Development
2025-06-01 15:56:47.257 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 15:57:45.823 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 15:57:45.931 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 15:57:45.955 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 15:57:46.251 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 15:57:47.311 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 15:57:48.296 +02:00 [INF] Executed DbCommand (115ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 15:57:48.974 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [LockoutEnd] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-01 15:57:48.988 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 15:57:49.010 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 15:57:49.058 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 15:57:49.129 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 15:57:49.185 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 15:57:49.195 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 15:57:49.363 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 3397.371ms
2025-06-01 15:57:49.374 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 15:57:49.404 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 3581.6839ms
2025-06-01 16:07:07.715 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:07:07.729 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:07:07.730 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:07:07.740 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:07:07.749 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 18.5953ms
2025-06-01 16:07:07.751 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:07:07.767 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.User'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.User'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:07:07.804 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:07:07.818 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 103.0235ms
2025-06-01 16:19:26.400 +02:00 [INF] Application is shutting down...
2025-06-01 16:30:07.465 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 16:30:08.168 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 16:30:08.176 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 16:30:08.177 +02:00 [INF] Hosting environment: Development
2025-06-01 16:30:08.178 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 16:30:13.702 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:30:13.875 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:30:13.915 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:30:14.219 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:30:15.786 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 16:30:17.232 +02:00 [INF] Executed DbCommand (105ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:30:18.368 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 16:30:18.399 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 16:30:18.413 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 4489.3666ms
2025-06-01 16:30:18.423 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:30:18.455 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:30:18.529 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 4831.1946ms
2025-06-01 16:30:24.292 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:30:24.434 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:30:24.434 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:30:24.488 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:30:24.497 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 61.4095ms
2025-06-01 16:30:24.497 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:30:24.505 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Each parameter in the deserialization constructor on type 'PulseERP.Domain.Entities.User' must bind to an object property or field on deserialization. Each parameter name must match with a property or field on the object. Fields are only considered when 'JsonSerializerOptions.IncludeFields' is enabled. The match can be case-insensitive.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ConstructorParameterIncompleteBinding(Type parentType)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:30:24.542 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:30:24.544 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 251.8042ms
2025-06-01 16:30:30.211 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:30:30.219 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:30:30.220 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:30:30.250 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:30:30.255 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 34.3168ms
2025-06-01 16:30:30.256 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:30:30.258 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Each parameter in the deserialization constructor on type 'PulseERP.Domain.Entities.User' must bind to an object property or field on deserialization. Each parameter name must match with a property or field on the object. Fields are only considered when 'JsonSerializerOptions.IncludeFields' is enabled. The match can be case-insensitive.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ConstructorParameterIncompleteBinding(Type parentType)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:30:30.262 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:30:30.263 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 51.6162ms
2025-06-01 16:35:37.564 +02:00 [INF] Application is shutting down...
2025-06-01 16:36:11.756 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 16:36:12.457 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 16:36:12.462 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 16:36:12.462 +02:00 [INF] Hosting environment: Development
2025-06-01 16:36:12.463 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 16:36:36.664 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:36:36.892 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:36:36.934 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:36:37.352 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:36:37.923 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 978.9394ms
2025-06-01 16:36:37.958 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:36:37.989 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.ValueObjects.EmailAddress'. Path: $.Email | LineNumber: 0 | BytePositionInLine: 49.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.ValueObjects.EmailAddress'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.TryReadAsObject(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, Object& value)
   at System.Text.Json.Serialization.Converters.LargeObjectWithParameterizedConstructorConverter`1.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:36:38.052 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:36:38.116 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 1456.667ms
2025-06-01 16:37:07.168 +02:00 [INF] Application is shutting down...
2025-06-01 16:37:23.649 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 16:37:24.662 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 16:37:24.670 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 16:37:24.671 +02:00 [INF] Hosting environment: Development
2025-06-01 16:37:24.672 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 16:38:08.793 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:38:08.915 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:38:08.947 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:38:09.207 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:38:09.501 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 547.59ms
2025-06-01 16:38:09.521 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:38:09.536 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.ValueObjects.EmailAddress'. Path: $.Email | LineNumber: 0 | BytePositionInLine: 49.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.ValueObjects.EmailAddress'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.TryReadAsObject(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, Object& value)
   at System.Text.Json.Serialization.Converters.LargeObjectWithParameterizedConstructorConverter`1.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:38:09.581 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:38:09.623 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 832.2876ms
2025-06-01 16:38:16.152 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 16:38:16.233 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 81.7108ms
2025-06-01 16:38:16.652 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 16:38:16.935 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 282.7312ms
2025-06-01 16:38:26.340 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:38:26.353 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:38:26.356 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:38:26.385 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:38:26.408 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 51.3762ms
2025-06-01 16:38:26.408 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:38:26.409 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.ValueObjects.EmailAddress'. Path: $.Email | LineNumber: 0 | BytePositionInLine: 49.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.ValueObjects.EmailAddress'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.TryReadAsObject(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, Object& value)
   at System.Text.Json.Serialization.Converters.LargeObjectWithParameterizedConstructorConverter`1.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:38:26.412 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:38:26.412 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 71.8821ms
2025-06-01 16:41:42.974 +02:00 [INF] Application is shutting down...
2025-06-01 16:41:52.836 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 16:41:53.587 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 16:41:53.590 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 16:41:53.591 +02:00 [INF] Hosting environment: Development
2025-06-01 16:41:53.591 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 16:42:00.819 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:42:00.945 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:42:00.979 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:42:01.211 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:42:01.461 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 476.736ms
2025-06-01 16:42:01.482 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:42:01.495 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Each parameter in the deserialization constructor on type 'PulseERP.Domain.ValueObjects.EmailAddress' must bind to an object property or field on deserialization. Each parameter name must match with a property or field on the object. Fields are only considered when 'JsonSerializerOptions.IncludeFields' is enabled. The match can be case-insensitive.
   at System.Text.Json.ThrowHelper.ThrowInvalidOperationException_ConstructorParameterIncompleteBinding(Type parentType)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.TryReadAsObject(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, Object& value)
   at System.Text.Json.Serialization.Converters.LargeObjectWithParameterizedConstructorConverter`1.ReadAndCacheConstructorArgument(ReadStack& state, Utf8JsonReader& reader, JsonParameterInfo jsonParameterInfo)
   at System.Text.Json.Serialization.Converters.ObjectWithParameterizedConstructorConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByEmailAsync(EmailAddress email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 128
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 107
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 16:42:01.535 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:42:01.582 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 766.2956ms
2025-06-01 16:49:29.275 +02:00 [INF] Application is shutting down...
2025-06-01 16:51:59.797 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 16:52:00.361 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 16:52:00.367 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 16:52:00.368 +02:00 [INF] Hosting environment: Development
2025-06-01 16:52:00.369 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 16:52:09.899 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:52:10.055 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:10.093 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:52:10.529 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:52:12.031 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 16:52:13.081 +02:00 [INF] Executed DbCommand (65ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:52:13.976 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 16:52:13.994 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 16:52:14.022 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 16:52:14.062 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 16:52:14.144 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 16:52:14.219 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 16:52:14.232 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 16:52:14.283 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 4185.5738ms
2025-06-01 16:52:14.289 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:14.324 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 4410.0862ms
2025-06-01 16:52:50.632 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 16:52:50.662 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:50.663 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:52:50.674 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:52:50.740 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:52:51.140 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 16:52:51.140 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 16:52:51.141 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 16:52:51.145 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 16:52:51.155 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 16:52:51.167 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 16:52:51.168 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 16:52:51.169 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 504.4606ms
2025-06-01 16:52:51.169 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:51.169 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 537.8383ms
2025-06-01 16:52:56.040 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:52:56.044 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:56.044 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:52:56.064 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:52:56.137 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:52:56.329 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 16:52:56.330 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 16:52:56.332 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 287.7667ms
2025-06-01 16:52:56.333 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:56.344 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:52:56.352 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 312.2855ms
2025-06-01 16:52:58.257 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:52:58.257 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:58.258 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:52:58.259 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:52:58.281 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:52:58.474 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 16:52:58.474 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 16:52:58.475 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 216.7969ms
2025-06-01 16:52:58.475 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:58.476 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:52:58.476 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 219.2038ms
2025-06-01 16:52:59.709 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:52:59.709 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:59.709 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:52:59.710 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:52:59.713 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:52:59.913 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 16:52:59.913 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 3
2025-06-01 16:52:59.915 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 205.4452ms
2025-06-01 16:52:59.915 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:52:59.916 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:52:59.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 207.7892ms
2025-06-01 16:53:02.863 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:53:02.863 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:53:02.864 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:53:02.864 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:53:02.868 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:53:03.057 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 16:53:03.057 +02:00 [INF] One more attempt before lockout for gmxfreakx@gmail.com
2025-06-01 16:53:03.057 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 193.6274ms
2025-06-01 16:53:03.058 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:53:03.058 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:53:03.058 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 195.1543ms
2025-06-01 16:53:05.436 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 16:53:05.437 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:53:05.437 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 16:53:05.438 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 16:53:05.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 16:53:05.659 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 16:53:05.660 +02:00 [WRN] User gmxfreakx@gmail.com just got locked out. Now: "2025-06-01T14:53:05.4421700Z", LockoutEnd: "2025-06-01T15:08:05.4421700Z", FailedAttempts: 5
2025-06-01 16:53:08.309 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2872.1402ms
2025-06-01 16:53:08.310 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 16:53:08.311 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 16:53:08.311 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 2875.2891ms
2025-06-01 17:09:34.632 +02:00 [INF] Application is shutting down...
2025-06-01 17:10:11.515 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:10:12.279 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:10:12.285 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:10:12.287 +02:00 [INF] Hosting environment: Development
2025-06-01 17:10:12.287 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:10:23.500 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 17:10:23.708 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:23.758 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 17:10:24.177 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 17:10:25.450 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 17:10:26.704 +02:00 [INF] Executed DbCommand (111ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 17:10:27.555 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [LockoutEnd] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-01 17:10:27.575 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 17:10:27.607 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 17:10:27.645 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 17:10:27.740 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 17:10:27.811 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 17:10:27.836 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 17:10:27.920 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 4152.6356ms
2025-06-01 17:10:27.929 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:27.955 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 4462.0296ms
2025-06-01 17:10:32.959 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 17:10:32.983 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:32.984 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 17:10:33.003 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 17:10:33.047 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 17:10:33.595 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 17:10:33.596 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 17:10:33.600 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 615.4446ms
2025-06-01 17:10:33.601 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:33.618 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:10:33.635 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 676.0069ms
2025-06-01 17:10:36.530 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 17:10:36.534 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:36.534 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 17:10:36.550 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 17:10:36.632 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 17:10:36.973 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 17:10:36.974 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 17:10:36.975 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 440.9112ms
2025-06-01 17:10:36.976 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:36.976 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:10:36.977 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 447.0028ms
2025-06-01 17:10:38.213 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 17:10:38.214 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:38.214 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 17:10:38.215 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 17:10:38.219 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 17:10:38.464 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 17:10:38.464 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 3
2025-06-01 17:10:38.465 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 250.6851ms
2025-06-01 17:10:38.465 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:38.466 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:10:38.466 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 252.7316ms
2025-06-01 17:10:39.614 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 17:10:39.615 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:39.615 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 17:10:39.616 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 17:10:39.620 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 17:10:39.893 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 17:10:39.893 +02:00 [INF] One more attempt before lockout for gmxfreakx@gmail.com
2025-06-01 17:10:39.893 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 278.1228ms
2025-06-01 17:10:39.894 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:39.894 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:10:39.895 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 280.116ms
2025-06-01 17:10:41.917 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 17:10:41.918 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:41.918 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 17:10:41.920 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 17:10:41.934 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 17:10:42.171 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 17:10:42.172 +02:00 [WRN] User gmxfreakx@gmail.com just got locked out. Now: "2025-06-01T15:10:41.9359000Z", LockoutEnd: "2025-06-01T15:25:41.9359000Z", FailedAttempts: 5
2025-06-01 17:10:43.503 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1584.4272ms
2025-06-01 17:10:43.503 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 17:10:43.504 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:10:43.505 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1587.2412ms
2025-06-01 17:11:48.403 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:11:48.411 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:11:48.431 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:11:48.708 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 17:11:48.763 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 17:11:48.784 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 17:11:48.801 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 369.3164ms
2025-06-01 17:11:48.801 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:11:48.801 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 398.8722ms
2025-06-01 17:14:59.443 +02:00 [INF] Application is shutting down...
2025-06-01 17:15:21.688 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:15:22.318 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:15:22.325 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:15:22.326 +02:00 [INF] Hosting environment: Development
2025-06-01 17:15:22.327 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:15:41.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:15:41.713 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:15:41.768 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:15:42.039 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 265.5743ms
2025-06-01 17:15:42.058 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:15:42.097 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Cannot dynamically create an instance of type 'PulseERP.Application.Mapping.Users.UserProfile'. Reason: No parameterless constructor defined.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.ActivatorCache.Create(RuntimeType type)
   at System.RuntimeType.IGenericCacheEntry`1.CreateAndCache(RuntimeType type)
   at System.RuntimeType.CreateInstanceDefaultCtor(Boolean publicOnly, Boolean wrapExceptions)
   at AutoMapper.MapperConfigurationExpression.AddProfile(Type profileType)
   at AutoMapper.MapperConfigurationExpression.AddMapsCore(IEnumerable`1 assembliesToScan)
   at AutoMapper.MapperConfigurationExpression.AddMaps(IEnumerable`1 assembliesToScan)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c__DisplayClass12_0.<AddAutoMapperClasses>b__5(MapperConfigurationExpression options)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 17:15:42.165 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:15:42.279 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 764.652ms
2025-06-01 17:17:47.197 +02:00 [INF] Application is shutting down...
2025-06-01 17:18:02.083 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:18:03.045 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:18:03.052 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:18:03.053 +02:00 [INF] Hosting environment: Development
2025-06-01 17:18:03.054 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:18:09.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 17:18:09.547 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 358.6063ms
2025-06-01 17:18:10.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 17:18:10.850 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 550.5212ms
2025-06-01 17:18:17.848 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:18:17.928 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:18:17.973 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:18:18.228 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 248.119ms
2025-06-01 17:18:18.230 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:18:18.245 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Cannot resolve scoped service 'PulseERP.Abstractions.Security.Interfaces.IDateTimeProvider' from root provider.
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteValidator.ValidateResolution(ServiceCallSite callSite, IServiceScope scope, IServiceScope rootScope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at PulseERP.Application.ApplicationServiceCollectionExtensions.<>c.<AddApplication>b__0_0(IServiceProvider sp, IMapperConfigurationExpression cfg) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/ApplicationServiceCollectionExtensions.cs:line 24
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c__DisplayClass12_0.<AddAutoMapperClasses>b__0(MapperConfigurationExpression options, IServiceProvider sp)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 17:18:18.292 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:18:18.361 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 512.5384ms
2025-06-01 17:19:35.788 +02:00 [INF] Application is shutting down...
2025-06-01 17:19:47.592 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:19:48.155 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:19:48.161 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:19:48.162 +02:00 [INF] Hosting environment: Development
2025-06-01 17:19:48.163 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:19:54.543 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:19:54.697 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:19:54.745 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:19:55.068 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 314.5022ms
2025-06-01 17:19:55.108 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:19:55.144 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Cannot dynamically create an instance of type 'PulseERP.Application.Mapping.Users.UserProfile'. Reason: No parameterless constructor defined.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.ActivatorCache.Create(RuntimeType type)
   at System.RuntimeType.IGenericCacheEntry`1.CreateAndCache(RuntimeType type)
   at System.RuntimeType.CreateInstanceDefaultCtor(Boolean publicOnly, Boolean wrapExceptions)
   at AutoMapper.MapperConfigurationExpression.AddProfile(Type profileType)
   at AutoMapper.MapperConfigurationExpression.AddMapsCore(IEnumerable`1 assembliesToScan)
   at AutoMapper.MapperConfigurationExpression.AddMaps(Assembly[] assembliesToScan)
   at PulseERP.Application.ApplicationServiceCollectionExtensions.<>c.<AddApplication>b__0_0(IServiceProvider sp, IMapperConfigurationExpression cfg) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/ApplicationServiceCollectionExtensions.cs:line 27
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c__DisplayClass12_0.<AddAutoMapperClasses>b__0(MapperConfigurationExpression options, IServiceProvider sp)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSiteMain(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 17:19:55.223 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:19:55.316 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 774.9256ms
2025-06-01 17:20:00.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:20:00.538 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:20:00.538 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:20:00.557 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 18.2503ms
2025-06-01 17:20:00.557 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:20:00.558 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Cannot dynamically create an instance of type 'PulseERP.Application.Mapping.Users.UserProfile'. Reason: No parameterless constructor defined.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.ActivatorCache.Create(RuntimeType type)
   at System.RuntimeType.IGenericCacheEntry`1.CreateAndCache(RuntimeType type)
   at System.RuntimeType.CreateInstanceDefaultCtor(Boolean publicOnly, Boolean wrapExceptions)
   at AutoMapper.MapperConfigurationExpression.AddProfile(Type profileType)
   at AutoMapper.MapperConfigurationExpression.AddMapsCore(IEnumerable`1 assembliesToScan)
   at AutoMapper.MapperConfigurationExpression.AddMaps(Assembly[] assembliesToScan)
   at PulseERP.Application.ApplicationServiceCollectionExtensions.<>c.<AddApplication>b__0_0(IServiceProvider sp, IMapperConfigurationExpression cfg) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/ApplicationServiceCollectionExtensions.cs:line 27
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c__DisplayClass12_0.<AddAutoMapperClasses>b__0(MapperConfigurationExpression options, IServiceProvider sp)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 17:20:00.561 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:20:00.563 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 57.9589ms
2025-06-01 17:20:35.078 +02:00 [INF] Application is shutting down...
2025-06-01 17:20:49.788 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:20:50.784 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:20:50.790 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:20:50.792 +02:00 [INF] Hosting environment: Development
2025-06-01 17:20:50.792 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:20:55.401 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 17:20:55.644 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 245.6607ms
2025-06-01 17:20:56.302 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 17:20:56.763 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 464.0055ms
2025-06-01 17:21:04.605 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:21:04.714 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:21:04.776 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:21:05.110 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 326.2355ms
2025-06-01 17:21:05.111 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:21:05.127 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Cannot dynamically create an instance of type 'PulseERP.Application.Mapping.Users.UserProfile'. Reason: No parameterless constructor defined.
   at System.RuntimeType.ActivatorCache..ctor(RuntimeType rt)
   at System.RuntimeType.ActivatorCache.Create(RuntimeType type)
   at System.RuntimeType.IGenericCacheEntry`1.CreateAndCache(RuntimeType type)
   at System.RuntimeType.CreateInstanceDefaultCtor(Boolean publicOnly, Boolean wrapExceptions)
   at AutoMapper.MapperConfigurationExpression.AddProfile(Type profileType)
   at AutoMapper.MapperConfigurationExpression.AddMapsCore(IEnumerable`1 assembliesToScan)
   at AutoMapper.MapperConfigurationExpression.AddMaps(Assembly[] assembliesToScan)
   at PulseERP.Application.ApplicationServiceCollectionExtensions.<>c.<AddApplication>b__0_0(IServiceProvider sp, IMapperConfigurationExpression cfg) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/ApplicationServiceCollectionExtensions.cs:line 29
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c__DisplayClass12_0.<AddAutoMapperClasses>b__0(MapperConfigurationExpression options, IServiceProvider sp)
   at Microsoft.Extensions.Options.OptionsFactory`1.Create(String name)
   at Microsoft.Extensions.Options.UnnamedOptionsManager`1.get_Value()
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_2(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitRootCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.CreateServiceAccessor(ServiceIdentifier serviceIdentifier)
   at System.Collections.Concurrent.ConcurrentDictionary`2.GetOrAdd(TKey key, Func`2 valueFactory)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService(IServiceProvider provider, Type serviceType)
   at Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions.GetRequiredService[T](IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ServiceCollectionExtensions.<>c.<AddAutoMapperClasses>b__12_3(IServiceProvider sp)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitFactory(FactoryCallSite factoryCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitDisposeCache(ServiceCallSite transientCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitConstructor(ConstructorCallSite constructorCallSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitCache(ServiceCallSite callSite, RuntimeResolverContext context, ServiceProviderEngineScope serviceProviderEngine, RuntimeResolverLock lockType)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.VisitScopeCache(ServiceCallSite callSite, RuntimeResolverContext context)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteVisitor`2.VisitCallSite(ServiceCallSite callSite, TArgument argument)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.CallSiteRuntimeResolver.Resolve(ServiceCallSite callSite, ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.DynamicServiceProviderEngine.<>c__DisplayClass2_0.<RealizeService>b__0(ServiceProviderEngineScope scope)
   at Microsoft.Extensions.DependencyInjection.ServiceProvider.GetService(ServiceIdentifier serviceIdentifier, ServiceProviderEngineScope serviceProviderEngineScope)
   at Microsoft.Extensions.DependencyInjection.ServiceLookup.ServiceProviderEngineScope.GetService(Type serviceType)
   at lambda_method10(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 17:21:05.167 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 17:21:05.241 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 635.6106ms
2025-06-01 17:29:16.101 +02:00 [INF] Application is shutting down...
2025-06-01 17:29:38.348 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:29:38.938 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:29:38.942 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:29:38.943 +02:00 [INF] Hosting environment: Development
2025-06-01 17:29:38.944 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:29:39.932 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:29:40.106 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:29:40.162 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:29:42.401 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 17:29:43.651 +02:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 17:29:43.835 +02:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 17:29:43.905 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 17:29:43.997 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 3828.2863ms
2025-06-01 17:29:44.003 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:29:44.034 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 4106.6818ms
2025-06-01 17:37:55.526 +02:00 [INF] Application is shutting down...
2025-06-01 17:38:42.389 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:38:43.251 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:38:43.264 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:38:43.266 +02:00 [INF] Hosting environment: Development
2025-06-01 17:38:43.267 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:38:44.910 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:38:45.134 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:38:45.214 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:38:47.182 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 17:38:48.593 +02:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 17:38:48.762 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 17:38:48.829 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 17:38:48.920 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 3697.7114ms
2025-06-01 17:38:48.928 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:38:48.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 4046.9883ms
2025-06-01 17:41:22.877 +02:00 [INF] Application is shutting down...
2025-06-01 17:57:08.801 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 17:57:10.178 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 17:57:10.192 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 17:57:10.195 +02:00 [INF] Hosting environment: Development
2025-06-01 17:57:10.196 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 17:57:14.308 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 17:57:14.710 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:57:14.781 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 17:57:16.893 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 17:57:18.622 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 17:57:18.891 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 17:57:18.991 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 17:57:19.128 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 4336.6936ms
2025-06-01 17:57:19.139 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 17:57:19.199 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 4896.5865ms
2025-06-01 20:16:13.834 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 20:16:14.051 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 20:16:14.079 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 20:16:14.545 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 20:16:14.584 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 20:16:14.620 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 20:16:14.640 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 559.7184ms
2025-06-01 20:16:14.641 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 20:16:14.643 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 816.8869ms
2025-06-01 20:16:34.730 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/brands - application/json 29
2025-06-01 20:16:34.782 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Create (PulseERP.API)'
2025-06-01 20:16:34.914 +02:00 [INF] Route matched with {action = "Create", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Create(PulseERP.Application.Brands.Commands.CreateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 20:16:36.273 +02:00 [INF] Executed DbCommand (94ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-01 20:16:36.347 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 20:16:36.424 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Create (PulseERP.API) in 1508.9902ms
2025-06-01 20:16:36.424 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Create (PulseERP.API)'
2025-06-01 20:16:36.424 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/brands - 201 null application/json; charset=utf-8 1694.7736ms
2025-06-01 20:17:12.035 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 20:17:12.039 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:17:12.053 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:17:12.098 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:17:12.178 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:17:12.626 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [LockoutEnd] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-01 20:17:12.640 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 20:17:12.698 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 20:17:12.734 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 20:17:12.810 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 20:17:12.866 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 20:17:12.869 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 20:17:12.890 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 836.8912ms
2025-06-01 20:17:12.890 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:17:12.891 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 855.3195ms
2025-06-01 20:18:54.616 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/refresh-token - application/json 149
2025-06-01 20:18:54.732 +02:00 [INF] Executing endpoint 'AuthenticationController.RefreshToken (PulseERP.API)'
2025-06-01 20:18:54.746 +02:00 [INF] Route matched with {action = "RefreshToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] RefreshToken(PulseERP.Abstractions.Security.DTOs.RefreshTokenDto) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:18:54.865 +02:00 [INF] Executed DbCommand (64ms) [Parameters=[@__tokenHash_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0
2025-06-01 20:18:54.899 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 20:18:55.108 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-01 20:18:55.162 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 20:18:55.162 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 20:18:55.166 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 20:18:55.178 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 20:18:55.180 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 20:18:55.181 +02:00 [INF] Executed action AuthenticationController.RefreshToken (PulseERP.API) in 433.9749ms
2025-06-01 20:18:55.181 +02:00 [INF] Executed endpoint 'AuthenticationController.RefreshToken (PulseERP.API)'
2025-06-01 20:18:55.181 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/refresh-token - 200 null application/json; charset=utf-8 566.0648ms
2025-06-01 20:19:48.439 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/change-password - application/json 73
2025-06-01 20:19:48.453 +02:00 [INF] Executing endpoint 'AuthenticationController.ChangePassword (PulseERP.API)'
2025-06-01 20:19:48.459 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ChangePassword(PulseERP.Abstractions.Security.DTOs.ChangePassword) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:19:48.474 +02:00 [INF] Changing password for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 20:19:48.498 +02:00 [INF] Executed action AuthenticationController.ChangePassword (PulseERP.API) in 38.4191ms
2025-06-01 20:19:48.498 +02:00 [INF] Executed endpoint 'AuthenticationController.ChangePassword (PulseERP.API)'
2025-06-01 20:19:48.520 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.User'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.User'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetByIdAsync(Guid id) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 101
   at PulseERP.Infrastructure.Identity.PasswordService.ChangePasswordAsync(Guid userId, String currentPassword, String newPassword) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/PasswordService.cs:line 57
   at AuthenticationController.ChangePassword(ChangePassword cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 94
   at lambda_method426(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 20:19:48.580 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:19:48.594 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/change-password - 500 null application/problem+json; charset=utf-8 154.2883ms
2025-06-01 20:27:54.074 +02:00 [INF] Application is shutting down...
2025-06-01 20:28:17.598 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 20:28:18.347 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 20:28:18.352 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 20:28:18.353 +02:00 [INF] Hosting environment: Development
2025-06-01 20:28:18.353 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 20:28:40.974 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/change-password - application/json 73
2025-06-01 20:28:41.188 +02:00 [INF] Executing endpoint 'AuthenticationController.ChangePassword (PulseERP.API)'
2025-06-01 20:28:41.216 +02:00 [INF] Route matched with {action = "ChangePassword", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ChangePassword(PulseERP.Abstractions.Security.DTOs.ChangePassword) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:28:41.563 +02:00 [INF] Changing password for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 20:28:42.454 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 20:28:43.675 +02:00 [INF] Executed DbCommand (195ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-01 20:28:45.234 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 20), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginAttempts] = @p2, [FirstName] = @p3, [IsActive] = @p4, [LastLoginDate] = @p5, [LastName] = @p6, [LockoutEnd] = @p7, [PasswordHash] = @p8, [Phone] = @p9, [RequirePasswordChange] = @p10, [RoleName] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-06-01 20:28:45.263 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-01 20:28:45.308 +02:00 [INF] Executed action AuthenticationController.ChangePassword (PulseERP.API) in 4084.3896ms
2025-06-01 20:28:45.315 +02:00 [INF] Executed endpoint 'AuthenticationController.ChangePassword (PulseERP.API)'
2025-06-01 20:28:45.335 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/change-password - 200 null application/json; charset=utf-8 4365.0547ms
2025-06-01 20:29:13.637 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 65
2025-06-01 20:29:13.642 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:29:13.652 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:29:13.672 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:29:13.711 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:29:14.121 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 20:29:14.123 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 20:29:14.133 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 20:29:14.160 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 20:29:14.232 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 20:29:14.292 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 20:29:14.296 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 20:29:14.318 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 666.0932ms
2025-06-01 20:29:14.319 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:29:14.321 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 684.5646ms
2025-06-01 20:31:09.650 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/reset-password - application/json 140
2025-06-01 20:31:09.662 +02:00 [INF] Executing endpoint 'AuthenticationController.ResetPasswordWithToken (PulseERP.API)'
2025-06-01 20:31:09.669 +02:00 [INF] Route matched with {action = "ResetPasswordWithToken", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ResetPasswordWithToken(PulseERP.Application.Passwords.Commands.ResetPasswordWithTokenCommand) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:09.694 +02:00 [INF] Resetting password with token
2025-06-01 20:31:09.808 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__token_0='?' (Size = 450), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 20:31:09.817 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-01 20:31:13.046 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__token_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__token_0 AND [r].[TokenType] = 1
2025-06-01 20:31:13.062 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 20), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginAttempts] = @p2, [FirstName] = @p3, [IsActive] = @p4, [LastLoginDate] = @p5, [LastName] = @p6, [LockoutEnd] = @p7, [PasswordHash] = @p8, [Phone] = @p9, [RequirePasswordChange] = @p10, [RoleName] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-06-01 20:31:13.063 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-01 20:31:13.064 +02:00 [INF] Executed action AuthenticationController.ResetPasswordWithToken (PulseERP.API) in 3394.3476ms
2025-06-01 20:31:13.064 +02:00 [INF] Executed endpoint 'AuthenticationController.ResetPasswordWithToken (PulseERP.API)'
2025-06-01 20:31:13.065 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/reset-password - 200 null application/json; charset=utf-8 3414.9195ms
2025-06-01 20:31:18.797 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 65
2025-06-01 20:31:18.798 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:18.798 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:18.799 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:18.804 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:18.995 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 20:31:18.996 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 20:31:18.998 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 200.3629ms
2025-06-01 20:31:18.999 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:19.009 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:31:19.018 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 221.4149ms
2025-06-01 20:31:29.903 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 20:31:29.904 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:29.904 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:29.905 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:29.909 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:30.101 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 20:31:30.102 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 20:31:30.102 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 20:31:30.105 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 20:31:30.111 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 20:31:30.122 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 20:31:30.122 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 20:31:30.123 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 218.0628ms
2025-06-01 20:31:30.123 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:30.123 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 220.1548ms
2025-06-01 20:31:37.147 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 20:31:37.148 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:37.148 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:37.150 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:37.155 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:37.345 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 20:31:37.345 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 20:31:37.345 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 196.8616ms
2025-06-01 20:31:37.346 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:37.346 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:31:37.346 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 199.7647ms
2025-06-01 20:31:38.529 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 20:31:38.529 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:38.530 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:38.530 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:38.534 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:38.745 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 20:31:38.745 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 20:31:38.746 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 216.2063ms
2025-06-01 20:31:38.746 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:38.747 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:31:38.747 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 218.0675ms
2025-06-01 20:31:39.776 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 20:31:39.777 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:39.777 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:39.778 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:39.785 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:39.973 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 20:31:39.973 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 3
2025-06-01 20:31:39.974 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 196.2842ms
2025-06-01 20:31:39.974 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:39.974 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:31:39.975 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 198.2834ms
2025-06-01 20:31:44.263 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 20:31:44.264 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:44.265 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:44.265 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:44.269 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:44.455 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 20:31:44.455 +02:00 [INF] One more attempt before lockout for gmxfreakx@gmail.com
2025-06-01 20:31:44.456 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 190.7826ms
2025-06-01 20:31:44.456 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:44.456 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:31:44.457 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 193.3779ms
2025-06-01 20:31:48.410 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 20:31:48.410 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:48.410 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:31:48.411 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:31:48.414 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:31:48.607 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 20:31:48.608 +02:00 [WRN] User gmxfreakx@gmail.com just got locked out. Now: "2025-06-01T18:31:48.4153280Z", LockoutEnd: "2025-06-01T18:46:48.4153280Z", FailedAttempts: 5
2025-06-01 20:31:50.386 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1975.9997ms
2025-06-01 20:31:50.387 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:31:50.388 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:31:50.388 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1978.7725ms
2025-06-01 20:47:29.809 +02:00 [INF] Application is shutting down...
2025-06-01 20:48:31.897 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 20:48:32.931 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 20:48:32.938 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 20:48:32.939 +02:00 [INF] Hosting environment: Development
2025-06-01 20:48:32.940 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 20:48:37.033 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 20:48:37.391 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:48:37.454 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 20:48:37.884 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 20:48:39.239 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 20:48:40.868 +02:00 [INF] Executed DbCommand (100ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 20:48:41.096 +02:00 [WRN] Login attempt on locked account gmxfreakx@gmail.com
2025-06-01 20:48:41.113 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 3649.5157ms
2025-06-01 20:48:41.123 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 20:48:41.146 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The conversion could not be completed because the supplied DateTime did not have the Kind property set correctly.  For example, when the Kind property is DateTimeKind.Local, the source time zone must be TimeZoneInfo.Local. (Parameter 'sourceTimeZone')
   at System.TimeZoneInfo.ConvertTime(DateTime dateTime, TimeZoneInfo sourceTimeZone, TimeZoneInfo destinationTimeZone, TimeZoneInfoOptions flags, CachedData cachedData)
   at PulseERP.Infrastructure.Provider.SystemDateTimeProvider.ToBrusselsTimeString(DateTime utcDateTime) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Provider/SystemDateTimeProvider.cs:line 22
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 123
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 20:48:41.232 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 20:48:41.336 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 4309.3784ms
2025-06-01 21:04:27.531 +02:00 [INF] Application is shutting down...
2025-06-01 21:04:53.684 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:04:54.696 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:04:54.704 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:04:54.710 +02:00 [INF] Hosting environment: Development
2025-06-01 21:04:54.711 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:05:41.106 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:05:41.295 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:05:41.324 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:05:41.583 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:05:42.393 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:05:43.289 +02:00 [INF] Executed DbCommand (80ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:05:43.410 +02:00 [WRN] Login attempt on locked account gmxfreakx@gmail.com
2025-06-01 21:05:43.424 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2093.1942ms
2025-06-01 21:05:43.428 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:05:43.440 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The conversion could not be completed because the supplied DateTime did not have the Kind property set correctly.  For example, when the Kind property is DateTimeKind.Local, the source time zone must be TimeZoneInfo.Local. (Parameter 'sourceTimeZone')
   at System.TimeZoneInfo.ConvertTime(DateTime dateTime, TimeZoneInfo sourceTimeZone, TimeZoneInfo destinationTimeZone, TimeZoneInfoOptions flags, CachedData cachedData)
   at PulseERP.Infrastructure.Provider.SystemDateTimeProvider.ConvertToLocal(DateTime utcDateTime) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Provider/SystemDateTimeProvider.cs:line 29
   at PulseERP.Infrastructure.Identity.AuthenticationService.HandleLockedAccountAsync(User user, String email) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 192
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 105
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 39
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 21:05:43.476 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:05:43.523 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 2420.1869ms
2025-06-01 21:07:51.643 +02:00 [INF] Application is shutting down...
2025-06-01 21:08:47.174 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:08:48.101 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:08:48.108 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:08:48.110 +02:00 [INF] Hosting environment: Development
2025-06-01 21:08:48.111 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:09:00.498 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:09:00.800 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:09:00.943 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:09:01.443 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:09:03.083 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:09:04.752 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:09:05.010 +02:00 [WRN] Login attempt on locked account gmxfreakx@gmail.com
2025-06-01 21:09:07.594 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 6642.1575ms
2025-06-01 21:09:07.602 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:09:07.629 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:09:07.675 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 7181.9927ms
2025-06-01 21:09:25.400 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:09:25.407 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:09:25.408 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:09:25.414 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:09:25.471 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:09:25.473 +02:00 [WRN] Login attempt on locked account gmxfreakx@gmail.com
2025-06-01 21:09:27.330 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1921.7524ms
2025-06-01 21:09:27.331 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:09:27.332 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:09:27.334 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1935.4532ms
2025-06-01 21:09:54.482 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 69
2025-06-01 21:09:54.486 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:09:54.486 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:09:54.502 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:09:54.617 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:09:55.273 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:09:55.307 +02:00 [INF] Generating access token for user "fbcfccce-0ddd-4804-ba35-178a493db16a"
2025-06-01 21:09:55.326 +02:00 [INF] Generating refresh token for user "fbcfccce-0ddd-4804-ba35-178a493db16a" from IP ::1
2025-06-01 21:09:55.375 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 21:09:55.486 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 21:09:55.490 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:09:55.538 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1051.5829ms
2025-06-01 21:09:55.544 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:09:55.545 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 1063.5921ms
2025-06-01 21:13:41.391 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 69
2025-06-01 21:13:41.405 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:13:41.407 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:13:41.417 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:13:41.799 +02:00 [INF] Executed DbCommand (329ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:13:42.270 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:13:42.271 +02:00 [INF] Generating access token for user "fbcfccce-0ddd-4804-ba35-178a493db16a"
2025-06-01 21:13:42.273 +02:00 [INF] Generating refresh token for user "fbcfccce-0ddd-4804-ba35-178a493db16a" from IP ::1
2025-06-01 21:13:42.303 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 21:13:42.426 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 21:13:42.451 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 21:13:42.453 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:13:42.456 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1048.914ms
2025-06-01 21:13:42.457 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:13:42.458 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 1067.757ms
2025-06-01 21:17:41.802 +02:00 [INF] Application is shutting down...
2025-06-01 21:17:57.931 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:17:58.610 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:17:58.620 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:17:58.623 +02:00 [INF] Hosting environment: Development
2025-06-01 21:17:58.623 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:18:04.064 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 69
2025-06-01 21:18:04.333 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:18:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:18:04.363 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:18:04 PM'.
2025-06-01 21:18:04.373 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:18:04.418 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:18:04.896 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:18:06.158 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:18:07.640 +02:00 [INF] Executed DbCommand (95ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:18:08.741 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:18:08.770 +02:00 [INF] Generating access token for user "fbcfccce-0ddd-4804-ba35-178a493db16a"
2025-06-01 21:18:08.797 +02:00 [INF] Generating refresh token for user "fbcfccce-0ddd-4804-ba35-178a493db16a" from IP ::1
2025-06-01 21:18:08.849 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 21:18:08.971 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 21:18:09.065 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 21:18:09.082 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:18:09.160 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 4734.5306ms
2025-06-01 21:18:09.168 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:18:09.193 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 5133.6723ms
2025-06-01 21:20:34.820 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:20:34.854 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:34 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:20:34.866 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:34 PM'.
2025-06-01 21:20:34.866 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:34.868 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:20:34.885 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:20:35.015 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:20:35.467 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:20:35.468 +02:00 [WRN] Invalid login attempt for gmaxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 21:20:35.471 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 602.0572ms
2025-06-01 21:20:35.471 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:35.486 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:20:35.515 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 694.5997ms
2025-06-01 21:20:36.996 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:20:37.000 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:37 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:20:37.001 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:37 PM'.
2025-06-01 21:20:37.002 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:37.002 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:20:37.018 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:20:37.085 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:20:37.316 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:20:37.316 +02:00 [WRN] Invalid login attempt for gmaxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 21:20:37.317 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 314.245ms
2025-06-01 21:20:37.317 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:37.319 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:20:37.319 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 322.4568ms
2025-06-01 21:20:38.807 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:20:38.808 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:38 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:20:38.810 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:38 PM'.
2025-06-01 21:20:38.810 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:38.810 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:20:38.811 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:20:38.817 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:20:39.003 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:20:39.004 +02:00 [WRN] Invalid login attempt for gmaxfreakx@gmail.com. FailedAttempts: 3
2025-06-01 21:20:39.004 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 193.5954ms
2025-06-01 21:20:39.005 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:39.005 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:20:39.005 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 198.2011ms
2025-06-01 21:20:40.477 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:20:40.477 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:40 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:20:40.478 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:40 PM'.
2025-06-01 21:20:40.478 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:40.478 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:20:40.480 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:20:40.484 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:20:40.689 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:20:40.689 +02:00 [INF] One more attempt before lockout for gmaxfreakx@gmail.com
2025-06-01 21:20:40.690 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 211.089ms
2025-06-01 21:20:40.690 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:40.691 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:20:40.691 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 214.212ms
2025-06-01 21:20:42.597 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:20:42.597 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:20:42.598 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:20:42 PM'.
2025-06-01 21:20:42.598 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:42.598 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:20:42.599 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:20:42.601 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:20:42.800 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 21:20:42.800 +02:00 [WRN] User gmaxfreakx@gmail.com just got locked out. Now: "2025-06-01T19:20:42.6026160Z", LockoutEnd: "2025-06-01T19:35:42.6026160Z", FailedAttempts: 5
2025-06-01 21:20:44.089 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1489.706ms
2025-06-01 21:20:44.090 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:20:44.091 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:20:44.091 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1492.9818ms
2025-06-01 21:21:20.954 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 21:21:20.963 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:21:20 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:21:20.964 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:21:20 PM'.
2025-06-01 21:21:20.964 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:21:20.989 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:21:21.217 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 21:21:21.256 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 21:21:21.280 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 290.5082ms
2025-06-01 21:21:21.280 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:21:21.281 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: The conversion could not be completed because the supplied DateTime did not have the Kind property set correctly.  For example, when the Kind property is DateTimeKind.Local, the source time zone must be TimeZoneInfo.Local. (Parameter 'sourceTimeZone')
   at System.TimeZoneInfo.ConvertTime(DateTime dateTime, TimeZoneInfo sourceTimeZone, TimeZoneInfo destinationTimeZone, TimeZoneInfoOptions flags, CachedData cachedData)
   at PulseERP.Infrastructure.Provider.SystemDateTimeProvider.ConvertToLocal(DateTime utcDateTime) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Provider/SystemDateTimeProvider.cs:line 29
   at UserService.<GetAllAsync>b__7_0(UserSummary dto) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 50
   at System.Linq.Enumerable.ListSelectIterator`2.Fill(ReadOnlySpan`1 source, Span`1 destination, Func`2 func)
   at System.Linq.Enumerable.ListSelectIterator`2.ToList()
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 48
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method289(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 21:21:21.296 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:21:21.297 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 342.9058ms
2025-06-01 21:23:27.240 +02:00 [INF] Application is shutting down...
2025-06-01 21:23:39.656 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:23:40.386 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:23:40.389 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:23:40.390 +02:00 [INF] Hosting environment: Development
2025-06-01 21:23:40.391 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:23:44.621 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 21:23:45.038 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:23:45 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:23:45.084 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:23:45 PM'.
2025-06-01 21:23:45.106 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:23:45.202 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:23:46.767 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:23:47.827 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 21:23:47.999 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 21:23:48.056 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:23:48.140 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 2930.3618ms
2025-06-01 21:23:48.146 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:23:48.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 3548.8497ms
2025-06-01 21:24:27.997 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:24:28.001 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:24:28 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:24:28.003 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:24:28 PM'.
2025-06-01 21:24:28.004 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:24:28.014 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:24:28.049 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:24:28.110 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:24:28.201 +02:00 [WRN] Login attempt on locked account gmxfreakx@gmail.com
2025-06-01 21:24:29.369 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1355.0595ms
2025-06-01 21:24:29.370 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:24:29.381 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:24:29.388 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1391.3652ms
2025-06-01 21:27:17.977 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:27:18.000 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:27:17 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:27:18.012 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:27:17 PM'.
2025-06-01 21:27:18.013 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:27:18.016 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:27:18.047 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:27:18.170 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:27:18.174 +02:00 [WRN] Login attempt on locked account gmxfreakx@gmail.com
2025-06-01 21:27:19.203 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1186.1143ms
2025-06-01 21:27:19.204 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:27:19.206 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:27:19.207 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1231.05ms
2025-06-01 21:30:46.047 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:30:46.056 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:30:46 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:30:46.060 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:30:46 PM'.
2025-06-01 21:30:46.061 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:30:46.064 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:30:46.083 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:30:46.098 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:30:46.669 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 21:30:46.754 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 21:30:46.778 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 21:30:46.815 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 21:30:46.889 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 21:30:46.891 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:30:46.904 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 839.6527ms
2025-06-01 21:30:46.904 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:30:46.905 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 858.2563ms
2025-06-01 21:30:55.729 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:30:55.730 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:30:55 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:30:55.731 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:30:55 PM'.
2025-06-01 21:30:55.731 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:30:55.732 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:30:55.733 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:30:55.736 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:30:55.941 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:30:55.942 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 21:30:55.943 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 210.9055ms
2025-06-01 21:30:55.943 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:30:55.944 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:30:55.944 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 215.2689ms
2025-06-01 21:31:42.869 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:31:42.871 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:31:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:31:42.872 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:31:42 PM'.
2025-06-01 21:31:42.872 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:31:42.872 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:31:42.873 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:31:42.877 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:31:43.086 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 21:31:43.087 +02:00 [WRN] User gmaxfreakx@gmail.com just got locked out. Now: "2025-06-01T19:31:42.8780300Z", LockoutEnd: "2025-06-01T19:46:42.8780300Z", FailedAttempts: 6
2025-06-01 21:31:44.926 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2053.8326ms
2025-06-01 21:31:44.927 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:31:44.927 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:31:44.928 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 2059.3165ms
2025-06-01 21:33:54.345 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:33:54.347 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:33:54 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:33:54.347 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:33:54 PM'.
2025-06-01 21:33:54.348 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:33:54.348 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:33:54.349 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:33:54.354 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:33:54.550 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:33:54.551 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 21:33:54.551 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 203.3281ms
2025-06-01 21:33:54.552 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:33:54.552 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:33:54.553 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 207.9103ms
2025-06-01 21:34:06.082 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:34:06.082 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:34:06 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:34:06.083 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:34:06 PM'.
2025-06-01 21:34:06.084 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:34:06.084 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:34:06.085 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:34:06.088 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:34:06.269 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 21:34:06.270 +02:00 [INF] Generating access token for user "1e113472-f3a1-4d83-b391-cb359fce9b52"
2025-06-01 21:34:06.271 +02:00 [INF] Generating refresh token for user "1e113472-f3a1-4d83-b391-cb359fce9b52" from IP ::1
2025-06-01 21:34:06.275 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 21:34:06.322 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@___time_UtcNow_1='?' (DbType = DateTime2), @__userId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
UPDATE [r]
SET [r].[Revoked] = @___time_UtcNow_1
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL
2025-06-01 21:34:06.330 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 21:34:06.330 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:34:06.331 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 246.7767ms
2025-06-01 21:34:06.331 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:34:06.331 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 249.4896ms
2025-06-01 21:34:17.381 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 69
2025-06-01 21:34:17.382 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:34:17 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:34:17.383 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:34:17 PM'.
2025-06-01 21:34:17.383 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:34:17.383 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:34:17.384 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:34:17.387 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:34:17.580 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:34:17.580 +02:00 [INF] Generating access token for user "fbcfccce-0ddd-4804-ba35-178a493db16a"
2025-06-01 21:34:17.581 +02:00 [INF] Generating refresh token for user "fbcfccce-0ddd-4804-ba35-178a493db16a" from IP ::1
2025-06-01 21:34:17.583 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @___time_UtcNow_1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = 0 AND [r].[Revoked] IS NULL AND [r].[Expires] > @___time_UtcNow_1
2025-06-01 21:34:17.589 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-01 21:34:17.589 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:34:17.589 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 206.162ms
2025-06-01 21:34:17.590 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:34:17.590 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 208.8843ms
2025-06-01 21:34:23.742 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:34:23.743 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:34:23 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:34:23.744 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:34:23 PM'.
2025-06-01 21:34:23.744 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:34:23.744 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:34:23.745 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:34:23.749 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:34:23.942 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:34:23.943 +02:00 [WRN] Invalid login attempt for gmaxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 21:34:23.943 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 199.178ms
2025-06-01 21:34:23.944 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:34:23.944 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:34:23.944 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 202.1781ms
2025-06-01 21:35:11.161 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:35:11.163 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:11 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:11.164 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:11 PM'.
2025-06-01 21:35:11.164 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:11.164 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:11.165 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:35:11.168 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:11.353 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:11.353 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 1
2025-06-01 21:35:11.354 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 189.5694ms
2025-06-01 21:35:11.354 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:11.355 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:11.355 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 193.5902ms
2025-06-01 21:35:24.548 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:35:24.549 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:24 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:24.550 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:24 PM'.
2025-06-01 21:35:24.550 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:24.551 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:24.551 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:35:24.554 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:24.737 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:24.737 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 21:35:24.738 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 186.9898ms
2025-06-01 21:35:24.738 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:24.738 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:24.738 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 190.6483ms
2025-06-01 21:35:25.399 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:35:25.400 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:25 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:25.400 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:25 PM'.
2025-06-01 21:35:25.401 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:25.401 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:25.401 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:35:25.405 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:25.608 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:25.608 +02:00 [WRN] Invalid login attempt for gmxfreakx@gmail.com. FailedAttempts: 3
2025-06-01 21:35:25.609 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 207.661ms
2025-06-01 21:35:25.609 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:25.609 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:25.610 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 210.7722ms
2025-06-01 21:35:26.309 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:35:26.309 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:26 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:26.310 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:26 PM'.
2025-06-01 21:35:26.310 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:26.310 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:26.311 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:35:26.314 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:26.517 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:26.518 +02:00 [INF] One more attempt before lockout for gmxfreakx@gmail.com
2025-06-01 21:35:26.519 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 208.3765ms
2025-06-01 21:35:26.519 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:26.519 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:26.520 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 211.2041ms
2025-06-01 21:35:27.704 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 67
2025-06-01 21:35:27.705 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:27 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:27.705 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:27 PM'.
2025-06-01 21:35:27.705 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:27.705 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:27.706 +02:00 [INF] Attempting login for email gmxfreakx@gmail.com
2025-06-01 21:35:27.709 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:27.894 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 21:35:27.894 +02:00 [WRN] User gmxfreakx@gmail.com just got locked out. Now: "2025-06-01T19:35:27.7101290Z", LockoutEnd: "2025-06-01T19:50:27.7101290Z", FailedAttempts: 5
2025-06-01 21:35:29.782 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2076.8002ms
2025-06-01 21:35:29.783 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:29.784 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:29.784 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 2080.4019ms
2025-06-01 21:35:40.963 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:35:40.964 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:40 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:40.964 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:40 PM'.
2025-06-01 21:35:40.964 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:40.965 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:40.965 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:35:40.969 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:41.163 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:41.163 +02:00 [WRN] Invalid login attempt for gmaxfreakx@gmail.com. FailedAttempts: 2
2025-06-01 21:35:41.164 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 199.0491ms
2025-06-01 21:35:41.164 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:41.165 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:41.165 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 201.6865ms
2025-06-01 21:35:42.390 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:35:42.391 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:42 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:42.391 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:42 PM'.
2025-06-01 21:35:42.391 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:42.392 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:42.392 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:35:42.395 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:42.576 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:42.577 +02:00 [WRN] Invalid login attempt for gmaxfreakx@gmail.com. FailedAttempts: 3
2025-06-01 21:35:42.577 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 185.6293ms
2025-06-01 21:35:42.577 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:42.578 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:42.578 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 188.6153ms
2025-06-01 21:35:44.119 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:35:44.119 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:44 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:44.120 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:44 PM'.
2025-06-01 21:35:44.120 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:44.121 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:44.122 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:35:44.126 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:44.356 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-01 21:35:44.356 +02:00 [INF] One more attempt before lockout for gmaxfreakx@gmail.com
2025-06-01 21:35:44.356 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 235.5101ms
2025-06-01 21:35:44.357 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:44.358 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:44.359 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 240.0043ms
2025-06-01 21:35:46.135 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 68
2025-06-01 21:35:46.135 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:46 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:35:46.136 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:35:46 PM'.
2025-06-01 21:35:46.136 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:46.136 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-01 21:35:46.137 +02:00 [INF] Attempting login for email gmaxfreakx@gmail.com
2025-06-01 21:35:46.140 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-01 21:35:46.323 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-01 21:35:46.323 +02:00 [WRN] User gmaxfreakx@gmail.com just got locked out. Now: "2025-06-01T19:35:46.1411620Z", LockoutEnd: "2025-06-01T19:50:46.1411620Z", FailedAttempts: 5
2025-06-01 21:35:47.239 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1102.2287ms
2025-06-01 21:35:47.239 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-01 21:35:47.240 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:35:47.240 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1105.7741ms
2025-06-01 21:36:54.517 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 21:36:54.525 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:36:54 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:36:54.527 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:36:54 PM'.
2025-06-01 21:36:54.528 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:36:54.529 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:36:54.545 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 21:36:54.550 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 21:36:54.553 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:36:54.555 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 25.3622ms
2025-06-01 21:36:54.555 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:36:54.555 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 38.2418ms
2025-06-01 21:37:49.777 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7232/api/users/fbcfccce-0ddd-4804-ba35-178a493db16a - null null
2025-06-01 21:37:49.779 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:37:49 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:37:49.779 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:37:49 PM'.
2025-06-01 21:37:49.780 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Delete (PulseERP.API)'
2025-06-01 21:37:49.788 +02:00 [INF] Route matched with {action = "Delete", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Delete(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:37:49.818 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-01 21:37:49.853 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p13='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (Size = 20), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginAttempts] = @p2, [FirstName] = @p3, [IsActive] = @p4, [LastLoginDate] = @p5, [LastName] = @p6, [LockoutEnd] = @p7, [PasswordHash] = @p8, [Phone] = @p9, [RequirePasswordChange] = @p10, [RoleName] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [Id] = @p13;
2025-06-01 21:37:49.854 +02:00 [INF] Deactivated user "fbcfccce-0ddd-4804-ba35-178a493db16a"
2025-06-01 21:37:49.854 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-01 21:37:49.857 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Delete (PulseERP.API) in 69.1293ms
2025-06-01 21:37:49.858 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Delete (PulseERP.API)'
2025-06-01 21:37:49.858 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7232/api/users/fbcfccce-0ddd-4804-ba35-178a493db16a - 200 null application/json; charset=utf-8 81.112ms
2025-06-01 21:37:56.757 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-01 21:37:56.758 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:37:56 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:37:56.759 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:37:56 PM'.
2025-06-01 21:37:56.759 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:37:56.759 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:37:56.763 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-01 21:37:56.767 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 21:37:56.768 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:37:56.768 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 8.7329ms
2025-06-01 21:37:56.768 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:37:56.769 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 11.4234ms
2025-06-01 21:38:04.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?IsActive=false - null null
2025-06-01 21:38:04.061 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:38:04 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:38:04.062 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:38:04 PM'.
2025-06-01 21:38:04.062 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:38:04.062 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:38:04.086 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userFilter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__userFilter_IsActive_Value_0
2025-06-01 21:38:04.103 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userFilter_IsActive_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__userFilter_IsActive_Value_0
ORDER BY [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-01 21:38:04.103 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:38:04.104 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 41.1364ms
2025-06-01 21:38:04.104 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:38:04.104 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?IsActive=false - 200 null application/json; charset=utf-8 43.0829ms
2025-06-01 21:38:14.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?IsActive=true - null null
2025-06-01 21:38:14.811 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:38:14 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:38:14.812 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:38:14 PM'.
2025-06-01 21:38:14.812 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:38:14.812 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:38:14.817 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userFilter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__userFilter_IsActive_Value_0
2025-06-01 21:38:14.821 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userFilter_IsActive_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__userFilter_IsActive_Value_0
ORDER BY [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-01 21:38:14.821 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 21:38:14.822 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 9.127ms
2025-06-01 21:38:14.822 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:38:14.822 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?IsActive=true - 200 null application/json; charset=utf-8 11.6002ms
2025-06-01 21:38:24.418 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 21:38:24.418 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:38:24 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:38:24.419 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:38:24 PM'.
2025-06-01 21:38:24.419 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:38:24.419 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:38:24.462 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 42.7162ms
2025-06-01 21:38:24.462 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:38:24.464 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.FirstName.ToLower().Contains(__lower_0) || u.LastName.ToLower().Contains(__lower_0) || u.Email.Value.ToLower().Contains(__lower_0) || u.Phone.Value.ToLower().Contains(__lower_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 74
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 21:38:24.480 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:38:24.480 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 62.6126ms
2025-06-01 21:41:03.374 +02:00 [INF] Application is shutting down...
2025-06-01 21:41:34.027 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:41:34.883 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:41:34.892 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:41:34.893 +02:00 [INF] Hosting environment: Development
2025-06-01 21:41:34.894 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:41:38.978 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 21:41:39.252 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:41:39 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:41:39.279 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:41:39 PM'.
2025-06-01 21:41:39.284 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:41:39.328 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:41:40.767 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:41:41.338 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 2005.0683ms
2025-06-01 21:41:41.355 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:41:41.363 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => u.FirstName.Contains(__lower_0) || u.LastName.Contains(__lower_0) || u.Email.Value.Contains(__lower_0) || u.Phone.Value.Contains(__lower_0))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 74
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 21:41:41.394 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:41:41.482 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 2509.2362ms
2025-06-01 21:43:43.557 +02:00 [INF] Application is shutting down...
2025-06-01 21:44:09.802 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:44:10.472 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:44:10.478 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:44:10.479 +02:00 [INF] Hosting environment: Development
2025-06-01 21:44:10.480 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:44:21.745 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 21:44:22.073 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:44:22 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:44:22.102 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:44:22 PM'.
2025-06-01 21:44:22.109 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:44:22.492 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:44:24.252 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:44:24.834 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 2334.4355ms
2025-06-01 21:44:24.853 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:44:24.862 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<User>()
    .Where(u => __Functions_0
        .Like(
            matchExpression: u.FirstName, 
            pattern: __pattern_1) || __Functions_0
        .Like(
            matchExpression: u.LastName, 
            pattern: __pattern_1) || __Functions_0
        .Like(
            matchExpression: u.Email.Value, 
            pattern: __pattern_1) || __Functions_0
        .Like(
            matchExpression: u.Phone.Value, 
            pattern: __pattern_1))' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 76
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 21:44:24.899 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:44:24.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 3250.0567ms
2025-06-01 21:47:33.825 +02:00 [INF] Application is shutting down...
2025-06-01 21:47:51.857 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 21:47:52.634 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 21:47:52.638 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 21:47:52.639 +02:00 [INF] Hosting environment: Development
2025-06-01 21:47:52.639 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 21:48:06.122 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 21:48:06.347 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:48:06 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 21:48:06.372 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 7:48:06 PM'.
2025-06-01 21:48:06.379 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:48:06.453 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 21:48:07.858 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 21:48:08.786 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-01 21:48:08.801 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 2340.3035ms
2025-06-01 21:48:08.821 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 21:48:08.836 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 76
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 21:48:08.867 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 21:48:08.953 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 2834.6709ms
2025-06-01 22:05:36.527 +02:00 [INF] Application is shutting down...
2025-06-01 22:06:23.727 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:06:25.072 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:06:25.081 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:06:25.082 +02:00 [INF] Hosting environment: Development
2025-06-01 22:06:25.083 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:06:48.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 22:06:49.257 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:06:49 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:06:49.336 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:06:49 PM'.
2025-06-01 22:06:49.371 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:06:49.477 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 22:06:51.074 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 22:06:52.211 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-01 22:06:52.223 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 2737.4051ms
2025-06-01 22:06:52.241 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:06:52.254 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 76
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:06:52.293 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:06:52.423 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 3713.854ms
2025-06-01 22:13:35.519 +02:00 [INF] Application is shutting down...
2025-06-01 22:13:52.694 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:13:53.251 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:13:53.254 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:13:53.255 +02:00 [INF] Hosting environment: Development
2025-06-01 22:13:53.255 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:14:46.172 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 22:14:46.394 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:14:46 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:14:46.417 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:14:46 PM'.
2025-06-01 22:14:46.426 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:14:46.468 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 22:14:47.892 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 22:14:48.792 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-01 22:14:48.801 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 2327.684ms
2025-06-01 22:14:48.815 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:14:48.828 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 83
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:14:48.854 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:14:48.939 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 2771.128ms
2025-06-01 22:22:18.246 +02:00 [INF] Application is shutting down...
2025-06-01 22:23:16.424 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:23:17.159 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:23:17.165 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:23:17.167 +02:00 [INF] Hosting environment: Development
2025-06-01 22:23:17.167 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:23:21.856 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 22:23:22.234 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:23:22 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:23:22.267 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:23:22 PM'.
2025-06-01 22:23:22.280 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:23:22.355 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 22:23:24.614 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 22:23:26.336 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-01 22:23:26.362 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 3993.938ms
2025-06-01 22:23:26.407 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:23:26.434 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 83
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:23:26.481 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:23:26.613 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 4761.0708ms
2025-06-01 22:23:31.037 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - null null
2025-06-01 22:23:31.048 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:23:31 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:23:31.053 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:23:31 PM'.
2025-06-01 22:23:31.055 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:23:31.056 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-01 22:23:31.138 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2025-06-01 22:23:31.142 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 85.6035ms
2025-06-01 22:23:31.143 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-01 22:23:31.144 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidCastException: Invalid cast from 'System.String' to 'PulseERP.Domain.ValueObjects.EmailAddress'.
   at System.Convert.DefaultToType(IConvertible value, Type targetType, IFormatProvider provider)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.Sanitize[T](Object value)
   at Microsoft.EntityFrameworkCore.Storage.ValueConversion.ValueConverter`2.<>c__DisplayClass7_0`2.<SanitizeConverter>b__1(Object v)
   at Microsoft.EntityFrameworkCore.Storage.RelationalTypeMapping.CreateParameter(DbCommand command, String name, Object value, Nullable`1 nullable, ParameterDirection direction)
   at Microsoft.EntityFrameworkCore.Storage.Internal.TypeMappedRelationalParameter.AddDbParameter(DbCommand command, Object value)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalParameterBase.AddDbParameter(DbCommand command, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.CreateDbCommand(RelationalCommandParameterObject parameterObject, Guid commandId, DbCommandMethod commandMethod)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.Queries.UserQueryRepository.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/Queries/UserQueryRepository.cs:line 83
   at UserService.GetAllAsync(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/UserService.cs:line 44
   at PulseERP.API.Controllers.UsersController.GetAll(UserFilter userFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 29
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:23:31.164 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:23:31.167 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?Search=bru&IsActive=false - 500 null application/problem+json; charset=utf-8 131.5166ms
2025-06-01 22:24:16.648 +02:00 [INF] Application is shutting down...
2025-06-01 22:42:44.364 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:42:44.904 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:42:44.909 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:42:44.911 +02:00 [INF] Hosting environment: Development
2025-06-01 22:42:44.912 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:43:10.271 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 22:43:10.460 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:43:10 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:43:10.482 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:43:10 PM'.
2025-06-01 22:43:10.488 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 22:43:10.540 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 22:43:11.546 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 22:43:12.326 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 22:43:12.521 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 22:43:12.545 +02:00 [INF] Retrieved products list: 0 items
2025-06-01 22:43:12.555 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 22:43:12.630 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 2082.6375ms
2025-06-01 22:43:12.636 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 22:43:12.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 2387.1548ms
2025-06-01 22:44:02.156 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 143
2025-06-01 22:44:02.163 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:44:02 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:44:02.165 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:44:02 PM'.
2025-06-01 22:44:02.165 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:44:02.184 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:44:02.549 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-01 22:44:02.778 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-01 22:44:02.879 +02:00 [INF] Product "8a0b5449-89dc-4996-9a09-f513c248d2f4" added to context
2025-06-01 22:44:02.988 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500) (DbType = AnsiString), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [BrandId1], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-01 22:44:03.008 +02:00 [INF] Product "8a0b5449-89dc-4996-9a09-f513c248d2f4" created
2025-06-01 22:44:03.021 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 836.5159ms
2025-06-01 22:44:03.023 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:44:03.050 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Product -> ProductDetails
PulseERP.Domain.Entities.Product -> PulseERP.Application.Products.Models.ProductDetails
   at lambda_method271(Closure, Object, ProductDetails, ResolutionContext)
   at PulseERP.Application.Services.ProductService.CreateAsync(CreateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 76
   at ProductsController.Create(CreateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 57
   at lambda_method56(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:44:03.080 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:44:03.099 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 942.956ms
2025-06-01 22:46:14.927 +02:00 [INF] Application is shutting down...
2025-06-01 22:46:46.817 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:46:47.812 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:46:47.821 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:46:47.822 +02:00 [INF] Hosting environment: Development
2025-06-01 22:46:47.823 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:47:11.728 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 143
2025-06-01 22:47:12.016 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:47:12 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:47:12.039 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:47:12 PM'.
2025-06-01 22:47:12.049 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:47:12.093 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:47:13.965 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 22:47:15.121 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-01 22:47:15.415 +02:00 [INF] Product "f2d7e842-b6a7-41a2-b564-f46ec08fa859" added to context
2025-06-01 22:47:15.652 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = Guid), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (Size = 500) (DbType = AnsiString), @p9='?' (DbType = Boolean), @p10='?' (Size = 100), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
INSERT INTO [Products] ([Id], [BrandId], [BrandId1], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-06-01 22:47:15.709 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Brands'. Cannot insert duplicate key in object 'dbo.Brands'. The duplicate key value is (6b704177-0e2b-4834-a53d-caad928577b6).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:bda347dc-c62e-4fb8-8acf-dbe3c0873b9b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Brands'. Cannot insert duplicate key in object 'dbo.Brands'. The duplicate key value is (6b704177-0e2b-4834-a53d-caad928577b6).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:bda347dc-c62e-4fb8-8acf-dbe3c0873b9b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-01 22:47:15.731 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 3627.8823ms
2025-06-01 22:47:15.748 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:47:15.778 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Brands'. Cannot insert duplicate key in object 'dbo.Brands'. The duplicate key value is (6b704177-0e2b-4834-a53d-caad928577b6).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:bda347dc-c62e-4fb8-8acf-dbe3c0873b9b
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.CreateAsync(CreateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 73
   at ProductsController.Create(CreateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 57
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:47:15.816 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:47:15.880 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 4155.5246ms
2025-06-01 22:49:20.624 +02:00 [INF] Application is shutting down...
2025-06-01 22:51:33.192 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:51:33.881 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:51:33.887 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:51:33.888 +02:00 [INF] Hosting environment: Development
2025-06-01 22:51:33.889 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:51:47.729 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 143
2025-06-01 22:51:47.988 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:51:47 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:51:48.017 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:51:47 PM'.
2025-06-01 22:51:48.025 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:51:48.072 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:51:48.938 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 860.2597ms
2025-06-01 22:51:48.957 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:51:48.973 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.Brand'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.Brand'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.BrandRepository.GetByNameAsync(String name) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/BrandRepository.cs:line 95
   at PulseERP.Application.Services.ProductService.CreateAsync(CreateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 60
   at ProductsController.Create(CreateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 57
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:51:49.008 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:51:49.056 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 1330.5021ms
2025-06-01 22:52:42.913 +02:00 [INF] Application is shutting down...
2025-06-01 22:52:56.916 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:52:57.536 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:52:57.544 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:52:57.545 +02:00 [INF] Hosting environment: Development
2025-06-01 22:52:57.546 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:53:08.858 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 143
2025-06-01 22:53:09.024 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:53:09 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:53:09.051 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:53:09 PM'.
2025-06-01 22:53:09.059 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:53:09.108 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:53:10.117 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 1002.3011ms
2025-06-01 22:53:10.137 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:53:10.156 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.Brand'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.Brand'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.BrandRepository.GetByNameAsync(String name) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/BrandRepository.cs:line 95
   at PulseERP.Application.Services.ProductService.CreateAsync(CreateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 60
   at ProductsController.Create(CreateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 57
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:53:10.185 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:53:10.236 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 1379.4481ms
2025-06-01 22:53:44.716 +02:00 [INF] Application is shutting down...
2025-06-01 22:53:59.903 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:54:01.021 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:54:01.033 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:54:01.034 +02:00 [INF] Hosting environment: Development
2025-06-01 22:54:01.035 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:54:05.994 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 143
2025-06-01 22:54:06.257 +02:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:54:06 PM'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-06-01 22:54:06.302 +02:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '6/1/2025 7:17:12 PM', Current time (UTC): '6/1/2025 8:54:06 PM'.
2025-06-01 22:54:06.468 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:54:06.694 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:54:07.865 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 1154.6798ms
2025-06-01 22:54:07.918 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:54:07.948 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.Brand'. Path: $ | LineNumber: 0 | BytePositionInLine: 1.
 ---> System.NotSupportedException: Deserialization of types without a parameterless constructor, a singular parameterized constructor, or a parameterized constructor annotated with 'JsonConstructorAttribute' is not supported. Type 'PulseERP.Domain.Entities.Brand'.
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException(ReadStack& state, Utf8JsonReader& reader, Exception innerException)
   at System.Text.Json.ThrowHelper.ThrowNotSupportedException_DeserializeNoConstructor(JsonTypeInfo typeInfo, Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value, Boolean& isPopulatedValue)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, T& value, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.Metadata.JsonTypeInfo`1.Deserialize(Utf8JsonReader& reader, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 utf8Json, JsonTypeInfo`1 jsonTypeInfo, Nullable`1 actualByteCount)
   at System.Text.Json.JsonSerializer.ReadFromSpan[TValue](ReadOnlySpan`1 json, JsonTypeInfo`1 jsonTypeInfo)
   at PulseERP.Infrastructure.Repositories.BrandRepository.GetByNameAsync(String name) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/BrandRepository.cs:line 95
   at PulseERP.Application.Services.ProductService.CreateAsync(CreateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 60
   at ProductsController.Create(CreateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 57
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 22:54:07.988 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 22:54:08.056 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 2061.1669ms
2025-06-01 22:57:31.902 +02:00 [INF] Application is shutting down...
2025-06-01 22:57:44.769 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 22:57:45.305 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 22:57:45.308 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 22:57:45.309 +02:00 [INF] Hosting environment: Development
2025-06-01 22:57:45.309 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 22:58:27.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 22:58:27.541 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 189.3017ms
2025-06-01 22:58:28.304 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 22:58:28.759 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 455.3291ms
2025-06-01 22:58:36.256 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 143
2025-06-01 22:58:36.314 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:58:36.342 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:58:38.130 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 22:58:39.439 +02:00 [INF] Executed DbCommand (90ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-01 22:58:40.040 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-01 22:58:40.151 +02:00 [INF] Product "24671f7e-ca07-4f35-bb8a-da9f2d256ce2" added to context
2025-06-01 22:58:40.206 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500) (DbType = AnsiString), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [BrandId1], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-01 22:58:40.211 +02:00 [INF] Product "24671f7e-ca07-4f35-bb8a-da9f2d256ce2" created
2025-06-01 22:58:40.224 +02:00 [INF] Product created: Samsung
2025-06-01 22:58:40.235 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 22:58:40.312 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 3963.6205ms
2025-06-01 22:58:40.314 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:58:40.327 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 4071.329ms
2025-06-01 22:59:13.596 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 150
2025-06-01 22:59:13.600 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:59:13.600 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:59:13.627 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-01 22:59:13.642 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-01 22:59:13.643 +02:00 [INF] Product "b5ee9eb0-8de2-4ecf-a537-1e6dd544d8bf" added to context
2025-06-01 22:59:13.648 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500) (DbType = AnsiString), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [BrandId1], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-06-01 22:59:13.649 +02:00 [INF] Product "b5ee9eb0-8de2-4ecf-a537-1e6dd544d8bf" created
2025-06-01 22:59:13.650 +02:00 [INF] Product created: Ecran 55 Pouces
2025-06-01 22:59:13.650 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 22:59:13.651 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 50.3758ms
2025-06-01 22:59:13.651 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:59:13.652 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 55.6803ms
2025-06-01 22:59:42.739 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 146
2025-06-01 22:59:42.743 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:59:42.743 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-01 22:59:42.815 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-01 22:59:42.823 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-01 22:59:42.824 +02:00 [INF] Product "d2a0e6f6-86c8-45ec-a9d2-6f2ae954ee97" added to context
2025-06-01 22:59:42.836 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = Guid), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500) (DbType = AnsiString), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [BrandId1], [CreatedAt], [Description], [IsService], [Name], [Price], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive], INSERTED.[Quantity]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-01 22:59:42.840 +02:00 [INF] Product "d2a0e6f6-86c8-45ec-a9d2-6f2ae954ee97" created
2025-06-01 22:59:42.840 +02:00 [INF] Product created: Smart Watch
2025-06-01 22:59:42.840 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 22:59:42.841 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 97.2701ms
2025-06-01 22:59:42.841 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-01 22:59:42.841 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 101.9665ms
2025-06-01 23:00:14.626 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 23:00:14.632 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 23:00:14.664 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 23:00:14.804 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 23:00:14.926 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 23:00:14.948 +02:00 [INF] Retrieved products list: 3 items
2025-06-01 23:00:14.949 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:00:14.956 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 291.6193ms
2025-06-01 23:00:14.957 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 23:00:14.957 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 331.6188ms
2025-06-01 23:00:24.777 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:00:24.778 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:00:24.783 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:00:24.796 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:00:24.808 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
ORDER BY [b].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-01 23:00:24.822 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:00:24.829 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 46.201ms
2025-06-01 23:00:24.829 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:00:24.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 52.4837ms
2025-06-01 23:01:20.476 +02:00 [INF] Application is shutting down...
2025-06-01 23:01:29.020 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:01:29.476 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:01:29.480 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:01:29.481 +02:00 [INF] Hosting environment: Development
2025-06-01 23:01:29.481 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:09:02.241 +02:00 [INF] Application is shutting down...
2025-06-01 23:09:13.849 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:09:15.162 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:09:15.168 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:09:15.169 +02:00 [INF] Hosting environment: Development
2025-06-01 23:09:15.169 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:09:21.164 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:09:21.304 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:09:21.340 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:09:22.629 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:09:23.649 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:09:23.983 +02:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:09:24.040 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:09:24.119 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 2771.1037ms
2025-06-01 23:09:24.126 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:09:24.145 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 2980.524ms
2025-06-01 23:09:45.802 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-01 23:09:45.808 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 23:09:45.823 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-01 23:09:45.876 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-01 23:09:45.921 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[BrandId1], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-01 23:09:45.945 +02:00 [INF] Retrieved products list: 3 items
2025-06-01 23:09:45.945 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:09:45.967 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 143.0542ms
2025-06-01 23:09:45.967 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-01 23:09:45.969 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 166.9888ms
2025-06-01 23:09:54.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:09:54.510 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:09:54.510 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:09:54.588 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:09:54.592 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:09:54.594 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:09:54.594 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 84.1548ms
2025-06-01 23:09:54.595 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:09:54.595 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 89.3365ms
2025-06-01 23:23:54.346 +02:00 [INF] Application is shutting down...
2025-06-01 23:24:18.671 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:24:19.359 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:24:19.363 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:24:19.364 +02:00 [INF] Hosting environment: Development
2025-06-01 23:24:19.365 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:24:23.901 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:24:24.237 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:24:24.294 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:24:26.857 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:24:28.481 +02:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:24:28.860 +02:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:24:29.028 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:24:29.155 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 4853.336ms
2025-06-01 23:24:29.163 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:24:29.184 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 5289.4709ms
2025-06-01 23:28:47.050 +02:00 [INF] Application is shutting down...
2025-06-01 23:29:10.329 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:29:11.123 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:29:11.130 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:29:11.131 +02:00 [INF] Hosting environment: Development
2025-06-01 23:29:11.131 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:29:14.892 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:29:15.080 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:29:15.129 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:29:17.115 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:29:18.779 +02:00 [INF] Executed DbCommand (74ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:29:19.350 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:29:19.438 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 4297.7491ms
2025-06-01 23:29:19.452 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:29:19.490 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IReadOnlyList`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Brand, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IReadOnlyList`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: PulseERP.Application.Brands.Models.BrandSummary needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method77(Closure, Object, IReadOnlyList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method77(Closure, Object, IReadOnlyList`1, ResolutionContext)
   at PulseERP.Application.Services.BrandService.GetAllAsync(PaginationParams pagination) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 61
   at PulseERP.API.Controllers.BrandsController.GetAll(PaginationParams paginationParams) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 23:29:19.559 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 23:29:19.678 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 500 null application/problem+json; charset=utf-8 4790.7283ms
2025-06-01 23:30:19.096 +02:00 [INF] Application is shutting down...
2025-06-01 23:31:29.740 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:31:29.873 +02:00 [INF] Application is shutting down...
2025-06-01 23:31:30.163 +02:00 [ERR] Hosting failed to start
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)
   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)
   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)
2025-06-01 23:31:59.681 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:32:00.672 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:32:00.681 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:32:00.683 +02:00 [INF] Hosting environment: Development
2025-06-01 23:32:00.683 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:32:03.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:32:03.650 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:32:03.687 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:32:05.798 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:32:07.061 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:32:07.576 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:32:51.533 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:32:51.972 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:32:51.976 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:32:51.977 +02:00 [INF] Hosting environment: Development
2025-06-01 23:32:51.978 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:32:55.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-01 23:32:56.007 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 171.5834ms
2025-06-01 23:32:56.713 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-01 23:32:57.023 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 310.9305ms
2025-06-01 23:33:05.295 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:33:05.356 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:33:05.393 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:33:06.793 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:33:07.913 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:33:08.164 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:33:53.831 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:33:54.638 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:33:54.644 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:33:54.645 +02:00 [INF] Hosting environment: Development
2025-06-01 23:33:54.645 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:33:58.501 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:33:58.674 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:33:58.731 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:34:00.444 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:34:01.502 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:34:01.832 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:34:37.792 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:34:38.377 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:34:38.380 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:34:38.381 +02:00 [INF] Hosting environment: Development
2025-06-01 23:34:38.381 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:34:43.187 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:34:43.285 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:34:43.320 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:34:44.799 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:34:45.862 +02:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:34:46.160 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:35:13.696 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:35:14.364 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:35:14.369 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:35:14.370 +02:00 [INF] Hosting environment: Development
2025-06-01 23:35:14.370 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:35:23.383 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:35:23.499 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:35:23.541 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:35:24.943 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:35:25.889 +02:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:35:26.172 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:35:26.225 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 2678.1699ms
2025-06-01 23:35:26.232 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:35:26.248 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> IReadOnlyList`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Brand, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.IReadOnlyList`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: PulseERP.Application.Brands.Models.BrandSummary needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method77(Closure, Object, IReadOnlyList`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method77(Closure, Object, IReadOnlyList`1, ResolutionContext)
   at PulseERP.Application.Services.BrandService.GetAllAsync(PaginationParams pagination) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 61
   at PulseERP.API.Controllers.BrandsController.GetAll(PaginationParams paginationParams) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 23:35:26.292 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 23:35:26.379 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 500 null application/problem+json; charset=utf-8 2999.3758ms
2025-06-01 23:38:35.748 +02:00 [INF] Application is shutting down...
2025-06-01 23:38:44.939 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:38:45.711 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:38:45.715 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:38:45.716 +02:00 [INF] Hosting environment: Development
2025-06-01 23:38:45.716 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:38:48.289 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:38:48.421 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:38:48.463 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:38:50.086 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:38:50.998 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:38:51.239 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:38:51.279 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 2809.46ms
2025-06-01 23:38:51.284 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:38:51.301 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Brand, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: PulseERP.Application.Brands.Models.BrandSummary needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method77(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method77(Closure, Object, List`1, ResolutionContext)
   at PulseERP.Application.Services.BrandService.GetAllAsync(PaginationParams pagination) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 61
   at PulseERP.API.Controllers.BrandsController.GetAll(PaginationParams paginationParams) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 23:38:51.333 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 23:38:51.400 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 500 null application/problem+json; charset=utf-8 3113.9817ms
2025-06-01 23:41:56.051 +02:00 [INF] Application is shutting down...
2025-06-01 23:42:30.002 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:42:30.521 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:42:30.525 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:42:30.526 +02:00 [INF] Hosting environment: Development
2025-06-01 23:42:30.526 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:42:42.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:42:42.967 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:42:43.000 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:42:44.269 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:42:45.199 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:42:45.458 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:42:45.506 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 2498.4498ms
2025-06-01 23:42:45.514 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:42:45.532 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Brand, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: PulseERP.Application.Brands.Models.BrandSummary needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method77(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method77(Closure, Object, List`1, ResolutionContext)
   at PulseERP.Application.Services.BrandService.GetAllAsync(PaginationParams pagination) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 61
   at PulseERP.API.Controllers.BrandsController.GetAll(PaginationParams paginationParams) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 23:42:45.578 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 23:42:45.648 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 500 null application/problem+json; charset=utf-8 2787.3683ms
2025-06-01 23:47:44.034 +02:00 [INF] Application is shutting down...
2025-06-01 23:49:45.514 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:49:46.126 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:49:46.131 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:49:46.133 +02:00 [INF] Hosting environment: Development
2025-06-01 23:49:46.133 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:50:39.192 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:50:39.353 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:50:39.384 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:50:40.884 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:50:41.724 +02:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:50:41.945 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:50:41.989 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 2599.1202ms
2025-06-01 23:50:41.995 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:50:42.009 +02:00 [ERR] An unhandled exception has occurred while executing the request.
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[PulseERP.Domain.Entities.Brand, PulseERP.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> System.ArgumentException: PulseERP.Application.Brands.Models.BrandSummary needs to have a constructor with 0 args or only optional args. Validate your configuration for details. (Parameter 'type')
   at lambda_method77(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method77(Closure, Object, List`1, ResolutionContext)
   at PulseERP.Application.Services.BrandService.GetAllAsync(PaginationParams pagination) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 61
   at PulseERP.API.Controllers.BrandsController.GetAll(PaginationParams paginationParams) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 24
   at lambda_method6(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-01 23:50:42.042 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-01 23:50:42.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 500 null application/problem+json; charset=utf-8 2918.3217ms
2025-06-01 23:51:19.558 +02:00 [INF] Application is shutting down...
2025-06-01 23:51:30.990 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-01 23:51:31.485 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-01 23:51:31.489 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-01 23:51:31.489 +02:00 [INF] Hosting environment: Development
2025-06-01 23:51:31.490 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-01 23:51:44.977 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-01 23:51:45.083 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:51:45.120 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-01 23:51:46.418 +02:00 [WRN] The foreign key property 'Product.BrandId1' was created in shadow state because a conflicting property with the simple name 'BrandId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-06-01 23:51:47.404 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-01 23:51:47.819 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[BrandId1], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId1]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-01 23:51:47.871 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-01 23:51:47.970 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 2841.4006ms
2025-06-01 23:51:47.979 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-01 23:51:48.013 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 3037.4167ms
2025-06-01 23:54:05.267 +02:00 [INF] Application is shutting down...
