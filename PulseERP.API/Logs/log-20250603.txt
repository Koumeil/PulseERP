2025-06-03 00:33:47.149 +02:00 [INF] Application is shutting down...
2025-06-03 00:39:40.329 +02:00 [ERR] [SeedExtensions] Seeding failed: Seed file not found: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/bin/Debug/net9.0/Seeds/seeds.json
System.IO.FileNotFoundException: Seed file not found: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/bin/Debug/net9.0/Seeds/seeds.json
   at PulseERP.Infrastructure.Seeds.SeedExtensions.SeedIfEmptyAsync(CoreDbContext context, ILogger logger) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Seeds/SeedExtensions.cs:line 22
2025-06-03 00:39:41.026 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 00:39:42.900 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 00:39:42.902 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:39:42.904 +02:00 [INF] Hosting environment: Development
2025-06-03 00:39:42.905 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 00:39:57.529 +02:00 [INF] Application is shutting down...
2025-06-03 00:43:04.805 +02:00 [INF] Executed DbCommand (149ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:43:05.151 +02:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.367 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.374 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.379 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.383 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.389 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.392 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.397 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.402 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.407 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.414 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.419 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.436 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.452 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.472 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.499 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.511 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.522 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.534 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.545 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:43:05.627 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:43:05.664 +02:00 [ERR] [SeedExtensions] Seeding failed: Adresse attendue : rue, ville, CP, pays.
System.ArgumentException: Adresse attendue : rue, ville, CP, pays.
   at PulseERP.Domain.ValueObjects.Adresses.Address.Create(String raw) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Domain/ValueObjects/Adresses/Address.cs:line 15
   at PulseERP.Infrastructure.Seeds.SeedExtensions.SeedIfEmptyAsync(CoreDbContext context, ILogger logger) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Seeds/SeedExtensions.cs:line 64
2025-06-03 00:43:05.879 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 00:43:06.369 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 00:43:06.370 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:43:06.371 +02:00 [INF] Hosting environment: Development
2025-06-03 00:43:06.371 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 00:52:26.688 +02:00 [INF] Application is shutting down...
2025-06-03 00:54:12.688 +02:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:54:13.023 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.253 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.263 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.268 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.273 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.278 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.282 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.289 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.294 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.300 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.306 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.311 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.317 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.322 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.327 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.332 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.339 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.345 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.351 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.359 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_Brand_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__p_Brand_0
2025-06-03 00:54:13.381 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:54:13.568 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 00:54:14.201 +02:00 [INF] Executed DbCommand (308ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (Size = 100), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (Size = 100), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Guid), @p41='?' (DbType = DateTime2), @p42='?' (Size = 100), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (Size = 100), @p51='?' (DbType = DateTime2), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (Size = 100), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (Size = 100), @p63='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = DateTime2), @p66='?' (Size = 100), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (Size = 100), @p75='?' (DbType = DateTime2), @p76='?' (DbType = Guid), @p77='?' (DbType = DateTime2), @p78='?' (Size = 100), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Guid), @p81='?' (DbType = Guid), @p82='?' (Size = 4000), @p83='?' (DbType = DateTime2), @p84='?' (Size = 255), @p85='?' (DbType = DateTime2), @p86='?' (Size = 100), @p87='?' (Size = 4000), @p88='?' (DbType = Boolean), @p89='?' (DbType = DateTime2), @p90='?' (Size = 100), @p91='?' (Size = 20), @p92='?' (Size = 4000), @p93='?' (DbType = Int32), @p94='?' (DbType = Int32), @p95='?' (DbType = DateTime2), @p96='?' (Size = 50), @p97='?' (Size = 50), @p98='?' (Size = 100), @p99='?' (Size = 20), @p100='?' (DbType = Guid), @p101='?' (DbType = Guid), @p102='?' (Size = 4000), @p103='?' (DbType = DateTime2), @p104='?' (Size = 255), @p105='?' (DbType = DateTime2), @p106='?' (Size = 100), @p107='?' (Size = 4000), @p108='?' (DbType = Boolean), @p109='?' (DbType = DateTime2), @p110='?' (Size = 100), @p111='?' (Size = 20), @p112='?' (Size = 4000), @p113='?' (DbType = Int32), @p114='?' (DbType = Int32), @p115='?' (DbType = DateTime2), @p116='?' (Size = 50), @p117='?' (Size = 50), @p118='?' (Size = 100), @p119='?' (Size = 20), @p120='?' (DbType = Guid), @p121='?' (DbType = Guid), @p122='?' (Size = 4000), @p123='?' (DbType = DateTime2), @p124='?' (Size = 255), @p125='?' (DbType = DateTime2), @p126='?' (Size = 100), @p127='?' (Size = 4000), @p128='?' (DbType = Boolean), @p129='?' (DbType = DateTime2), @p130='?' (Size = 100), @p131='?' (Size = 20), @p132='?' (Size = 4000), @p133='?' (DbType = Int32), @p134='?' (DbType = Int32), @p135='?' (DbType = DateTime2), @p136='?' (Size = 50), @p137='?' (Size = 50), @p138='?' (Size = 100), @p139='?' (Size = 20), @p140='?' (DbType = Guid), @p141='?' (DbType = Guid), @p142='?' (Size = 4000), @p143='?' (DbType = DateTime2), @p144='?' (Size = 255), @p145='?' (DbType = DateTime2), @p146='?' (Size = 100), @p147='?' (Size = 4000), @p148='?' (DbType = Boolean), @p149='?' (DbType = DateTime2), @p150='?' (Size = 100), @p151='?' (Size = 20), @p152='?' (Size = 4000), @p153='?' (DbType = Int32), @p154='?' (DbType = Int32), @p155='?' (DbType = DateTime2), @p156='?' (Size = 50), @p157='?' (Size = 50), @p158='?' (Size = 100), @p159='?' (Size = 20), @p160='?' (DbType = Guid), @p161='?' (DbType = Guid), @p162='?' (Size = 4000), @p163='?' (DbType = DateTime2), @p164='?' (Size = 255), @p165='?' (DbType = DateTime2), @p166='?' (Size = 100), @p167='?' (Size = 4000), @p168='?' (DbType = Boolean), @p169='?' (DbType = DateTime2), @p170='?' (Size = 100), @p171='?' (Size = 20), @p172='?' (Size = 4000), @p173='?' (DbType = Int32), @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime2), @p176='?' (Size = 50), @p177='?' (Size = 50), @p178='?' (Size = 100), @p179='?' (Size = 20), @p180='?' (DbType = Guid), @p181='?' (DbType = Guid), @p182='?' (Size = 4000), @p183='?' (DbType = DateTime2), @p184='?' (Size = 255), @p185='?' (DbType = DateTime2), @p186='?' (Size = 100), @p187='?' (Size = 4000), @p188='?' (DbType = Boolean), @p189='?' (DbType = DateTime2), @p190='?' (Size = 100), @p191='?' (Size = 20), @p192='?' (Size = 4000), @p193='?' (DbType = Int32), @p194='?' (DbType = Int32), @p195='?' (DbType = DateTime2), @p196='?' (Size = 50), @p197='?' (Size = 50), @p198='?' (Size = 100), @p199='?' (Size = 20), @p200='?' (DbType = Guid), @p201='?' (DbType = Guid), @p202='?' (Size = 4000), @p203='?' (DbType = DateTime2), @p204='?' (Size = 255), @p205='?' (DbType = DateTime2), @p206='?' (Size = 100), @p207='?' (Size = 4000), @p208='?' (DbType = Boolean), @p209='?' (DbType = DateTime2), @p210='?' (Size = 100), @p211='?' (Size = 20), @p212='?' (Size = 4000), @p213='?' (DbType = Int32), @p214='?' (DbType = Int32), @p215='?' (DbType = DateTime2), @p216='?' (Size = 50), @p217='?' (Size = 50), @p218='?' (Size = 100), @p219='?' (Size = 20), @p220='?' (DbType = Guid), @p221='?' (DbType = Guid), @p222='?' (Size = 4000), @p223='?' (DbType = DateTime2), @p224='?' (Size = 255), @p225='?' (DbType = DateTime2), @p226='?' (Size = 100), @p227='?' (Size = 4000), @p228='?' (DbType = Boolean), @p229='?' (DbType = DateTime2), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (Size = 4000), @p233='?' (DbType = Int32), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Size = 50), @p237='?' (Size = 50), @p238='?' (Size = 100), @p239='?' (Size = 20), @p240='?' (DbType = Guid), @p241='?' (DbType = Guid), @p242='?' (Size = 4000), @p243='?' (DbType = DateTime2), @p244='?' (Size = 255), @p245='?' (DbType = DateTime2), @p246='?' (Size = 100), @p247='?' (Size = 4000), @p248='?' (DbType = Boolean), @p249='?' (DbType = DateTime2), @p250='?' (Size = 100), @p251='?' (Size = 20), @p252='?' (Size = 4000), @p253='?' (DbType = Int32), @p254='?' (DbType = Int32), @p255='?' (DbType = DateTime2), @p256='?' (Size = 50), @p257='?' (Size = 50), @p258='?' (Size = 100), @p259='?' (Size = 20), @p260='?' (DbType = Guid), @p261='?' (DbType = Guid), @p262='?' (Size = 4000), @p263='?' (DbType = DateTime2), @p264='?' (Size = 255), @p265='?' (DbType = DateTime2), @p266='?' (Size = 100), @p267='?' (Size = 4000), @p268='?' (DbType = Boolean), @p269='?' (DbType = DateTime2), @p270='?' (Size = 100), @p271='?' (Size = 20), @p272='?' (Size = 4000), @p273='?' (DbType = Int32), @p274='?' (DbType = Int32), @p275='?' (DbType = DateTime2), @p276='?' (Size = 50), @p277='?' (Size = 50), @p278='?' (Size = 100), @p279='?' (Size = 20), @p280='?' (DbType = Guid), @p281='?' (DbType = Guid), @p282='?' (Size = 4000), @p283='?' (DbType = DateTime2), @p284='?' (Size = 255), @p285='?' (DbType = DateTime2), @p286='?' (Size = 100), @p287='?' (Size = 4000), @p288='?' (DbType = Boolean), @p289='?' (DbType = DateTime2), @p290='?' (Size = 100), @p291='?' (Size = 20), @p292='?' (Size = 4000), @p293='?' (DbType = Int32), @p294='?' (DbType = Int32), @p295='?' (DbType = DateTime2), @p296='?' (Size = 50), @p297='?' (Size = 50), @p298='?' (Size = 100), @p299='?' (Size = 20), @p300='?' (DbType = Guid), @p301='?' (DbType = Guid), @p302='?' (Size = 4000), @p303='?' (DbType = DateTime2), @p304='?' (Size = 255), @p305='?' (DbType = DateTime2), @p306='?' (Size = 100), @p307='?' (Size = 4000), @p308='?' (DbType = Boolean), @p309='?' (DbType = DateTime2), @p310='?' (Size = 100), @p311='?' (Size = 20), @p312='?' (Size = 4000), @p313='?' (DbType = Int32), @p314='?' (DbType = Int32), @p315='?' (DbType = DateTime2), @p316='?' (Size = 50), @p317='?' (Size = 50), @p318='?' (Size = 100), @p319='?' (Size = 20), @p320='?' (DbType = Guid), @p321='?' (DbType = Guid), @p322='?' (Size = 4000), @p323='?' (DbType = DateTime2), @p324='?' (Size = 255), @p325='?' (DbType = DateTime2), @p326='?' (Size = 100), @p327='?' (Size = 4000), @p328='?' (DbType = Boolean), @p329='?' (DbType = DateTime2), @p330='?' (Size = 100), @p331='?' (Size = 20), @p332='?' (Size = 4000), @p333='?' (DbType = Int32), @p334='?' (DbType = Int32), @p335='?' (DbType = DateTime2), @p336='?' (Size = 50), @p337='?' (Size = 50), @p338='?' (Size = 100), @p339='?' (Size = 20), @p340='?' (DbType = Guid), @p341='?' (DbType = Guid), @p342='?' (Size = 4000), @p343='?' (DbType = DateTime2), @p344='?' (Size = 255), @p345='?' (DbType = DateTime2), @p346='?' (Size = 100), @p347='?' (Size = 4000), @p348='?' (DbType = Boolean), @p349='?' (DbType = DateTime2), @p350='?' (Size = 100), @p351='?' (Size = 20), @p352='?' (Size = 4000), @p353='?' (DbType = Int32), @p354='?' (DbType = Int32), @p355='?' (DbType = DateTime2), @p356='?' (Size = 50), @p357='?' (Size = 50), @p358='?' (Size = 100), @p359='?' (Size = 20), @p360='?' (DbType = Guid), @p361='?' (DbType = Guid), @p362='?' (Size = 4000), @p363='?' (DbType = DateTime2), @p364='?' (Size = 255), @p365='?' (DbType = DateTime2), @p366='?' (Size = 100), @p367='?' (Size = 4000), @p368='?' (DbType = Boolean), @p369='?' (DbType = DateTime2), @p370='?' (Size = 100), @p371='?' (Size = 20), @p372='?' (Size = 4000), @p373='?' (DbType = Int32), @p374='?' (DbType = Int32), @p375='?' (DbType = DateTime2), @p376='?' (Size = 50), @p377='?' (Size = 50), @p378='?' (Size = 100), @p379='?' (Size = 20), @p380='?' (DbType = Guid), @p381='?' (DbType = Guid), @p382='?' (Size = 4000), @p383='?' (DbType = DateTime2), @p384='?' (Size = 255), @p385='?' (DbType = DateTime2), @p386='?' (Size = 100), @p387='?' (Size = 4000), @p388='?' (DbType = Boolean), @p389='?' (DbType = DateTime2), @p390='?' (Size = 100), @p391='?' (Size = 20), @p392='?' (Size = 4000), @p393='?' (DbType = Int32), @p394='?' (DbType = Int32), @p395='?' (DbType = DateTime2), @p396='?' (Size = 50), @p397='?' (Size = 50), @p398='?' (Size = 100), @p399='?' (Size = 20), @p400='?' (DbType = Guid), @p401='?' (DbType = Guid), @p402='?' (Size = 4000), @p403='?' (DbType = DateTime2), @p404='?' (Size = 255), @p405='?' (DbType = DateTime2), @p406='?' (Size = 100), @p407='?' (Size = 4000), @p408='?' (DbType = Boolean), @p409='?' (DbType = DateTime2), @p410='?' (Size = 100), @p411='?' (Size = 20), @p412='?' (Size = 4000), @p413='?' (DbType = Int32), @p414='?' (DbType = Int32), @p415='?' (DbType = DateTime2), @p416='?' (Size = 50), @p417='?' (Size = 50), @p418='?' (Size = 100), @p419='?' (Size = 20), @p420='?' (DbType = Guid), @p421='?' (DbType = Guid), @p422='?' (Size = 4000), @p423='?' (DbType = DateTime2), @p424='?' (Size = 255), @p425='?' (DbType = DateTime2), @p426='?' (Size = 100), @p427='?' (Size = 4000), @p428='?' (DbType = Boolean), @p429='?' (DbType = DateTime2), @p430='?' (Size = 100), @p431='?' (Size = 20), @p432='?' (Size = 4000), @p433='?' (DbType = Int32), @p434='?' (DbType = Int32), @p435='?' (DbType = DateTime2), @p436='?' (Size = 50), @p437='?' (Size = 50), @p438='?' (Size = 100), @p439='?' (Size = 20), @p440='?' (DbType = Guid), @p441='?' (DbType = Guid), @p442='?' (Size = 4000), @p443='?' (DbType = DateTime2), @p444='?' (Size = 255), @p445='?' (DbType = DateTime2), @p446='?' (Size = 100), @p447='?' (Size = 4000), @p448='?' (DbType = Boolean), @p449='?' (DbType = DateTime2), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (Size = 4000), @p453='?' (DbType = Int32), @p454='?' (DbType = Int32), @p455='?' (DbType = DateTime2), @p456='?' (Size = 50), @p457='?' (Size = 50), @p458='?' (Size = 100), @p459='?' (Size = 20), @p460='?' (DbType = Guid), @p461='?' (DbType = Guid), @p462='?' (Size = 4000), @p463='?' (DbType = DateTime2), @p464='?' (Size = 255), @p465='?' (DbType = DateTime2), @p466='?' (Size = 100), @p467='?' (Size = 4000), @p468='?' (DbType = Boolean), @p469='?' (DbType = DateTime2), @p470='?' (Size = 100), @p471='?' (Size = 20), @p472='?' (Size = 4000), @p473='?' (DbType = Int32), @p474='?' (DbType = Int32), @p475='?' (DbType = DateTime2), @p476='?' (Size = 50), @p477='?' (Size = 50), @p478='?' (Size = 100), @p479='?' (Size = 20), @p480='?' (DbType = Guid), @p481='?' (DbType = DateTime2), @p482='?' (Size = 255), @p483='?' (DbType = Int32), @p484='?' (Size = 100), @p485='?' (DbType = DateTime2), @p486='?' (Size = 100), @p487='?' (DbType = DateTime2), @p488='?' (Size = 4000), @p489='?' (DbType = DateTime2), @p490='?' (Size = 20), @p491='?' (DbType = Boolean), @p492='?' (Size = 50), @p493='?' (DbType = DateTime2), @p494='?' (DbType = Guid), @p495='?' (DbType = DateTime2), @p496='?' (Size = 255), @p497='?' (DbType = Int32), @p498='?' (Size = 100), @p499='?' (DbType = DateTime2), @p500='?' (Size = 100), @p501='?' (DbType = DateTime2), @p502='?' (Size = 4000), @p503='?' (DbType = DateTime2), @p504='?' (Size = 20), @p505='?' (DbType = Boolean), @p506='?' (Size = 50), @p507='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7),
(@p32, @p33, @p34, @p35, 8),
(@p36, @p37, @p38, @p39, 9),
(@p40, @p41, @p42, @p43, 10),
(@p44, @p45, @p46, @p47, 11),
(@p48, @p49, @p50, @p51, 12),
(@p52, @p53, @p54, @p55, 13),
(@p56, @p57, @p58, @p59, 14),
(@p60, @p61, @p62, @p63, 15),
(@p64, @p65, @p66, @p67, 16),
(@p68, @p69, @p70, @p71, 17),
(@p72, @p73, @p74, @p75, 18),
(@p76, @p77, @p78, @p79, 19)) AS i ([Id], [CreatedAt], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, 0),
(@p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, 1),
(@p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 2),
(@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, 3),
(@p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, 4),
(@p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, 5),
(@p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, 6),
(@p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 7),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, 8),
(@p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, 9),
(@p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, 10),
(@p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, 11),
(@p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, 12),
(@p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, 13),
(@p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, 14),
(@p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, 15),
(@p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, 16),
(@p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, 17),
(@p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, 18),
(@p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsVIP], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[Street], i.[PostalCode])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p480, @p481, @p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, 0),
(@p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, 1)) AS i ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[Phone], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-03 00:54:14.260 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6a66047d-9b16-417e-9856-4e2b067c7409
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6a66047d-9b16-417e-9856-4e2b067c7409
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 00:54:14.267 +02:00 [ERR] [SeedExtensions] Seeding failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6a66047d-9b16-417e-9856-4e2b067c7409
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Seeds.SeedExtensions.SeedIfEmptyAsync(CoreDbContext context, ILogger logger) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Seeds/SeedExtensions.cs:line 102
2025-06-03 00:54:14.446 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 00:54:14.993 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 00:54:14.994 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 00:54:14.994 +02:00 [INF] Hosting environment: Development
2025-06-03 00:54:14.995 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 00:59:18.598 +02:00 [INF] Application is shutting down...
2025-06-03 01:00:41.748 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 01:00:41.977 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:00:42.195 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:00:42.295 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:00:42.806 +02:00 [INF] Executed DbCommand (212ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (Size = 100), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (Size = 100), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Guid), @p41='?' (DbType = DateTime2), @p42='?' (Size = 100), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (Size = 100), @p51='?' (DbType = DateTime2), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (Size = 100), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (Size = 100), @p63='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = DateTime2), @p66='?' (Size = 100), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = Guid), @p74='?' (Size = 4000), @p75='?' (DbType = DateTime2), @p76='?' (Size = 255), @p77='?' (DbType = DateTime2), @p78='?' (Size = 100), @p79='?' (Size = 4000), @p80='?' (DbType = Boolean), @p81='?' (DbType = DateTime2), @p82='?' (Size = 100), @p83='?' (Size = 20), @p84='?' (Size = 4000), @p85='?' (DbType = Int32), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (Size = 50), @p89='?' (Size = 50), @p90='?' (Size = 100), @p91='?' (Size = 20), @p92='?' (DbType = Guid), @p93='?' (DbType = Guid), @p94='?' (Size = 4000), @p95='?' (DbType = DateTime2), @p96='?' (Size = 255), @p97='?' (DbType = DateTime2), @p98='?' (Size = 100), @p99='?' (Size = 4000), @p100='?' (DbType = Boolean), @p101='?' (DbType = DateTime2), @p102='?' (Size = 100), @p103='?' (Size = 20), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = Int32), @p107='?' (DbType = DateTime2), @p108='?' (Size = 50), @p109='?' (Size = 50), @p110='?' (Size = 100), @p111='?' (Size = 20), @p112='?' (DbType = Guid), @p113='?' (DbType = Guid), @p114='?' (Size = 4000), @p115='?' (DbType = DateTime2), @p116='?' (Size = 255), @p117='?' (DbType = DateTime2), @p118='?' (Size = 100), @p119='?' (Size = 4000), @p120='?' (DbType = Boolean), @p121='?' (DbType = DateTime2), @p122='?' (Size = 100), @p123='?' (Size = 20), @p124='?' (Size = 4000), @p125='?' (DbType = Int32), @p126='?' (DbType = Int32), @p127='?' (DbType = DateTime2), @p128='?' (Size = 50), @p129='?' (Size = 50), @p130='?' (Size = 100), @p131='?' (Size = 20), @p132='?' (DbType = Guid), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = DateTime2), @p136='?' (Size = 255), @p137='?' (DbType = DateTime2), @p138='?' (Size = 100), @p139='?' (Size = 4000), @p140='?' (DbType = Boolean), @p141='?' (DbType = DateTime2), @p142='?' (Size = 100), @p143='?' (Size = 20), @p144='?' (Size = 4000), @p145='?' (DbType = Int32), @p146='?' (DbType = Int32), @p147='?' (DbType = DateTime2), @p148='?' (Size = 50), @p149='?' (Size = 50), @p150='?' (Size = 100), @p151='?' (Size = 20), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (Size = 255), @p157='?' (DbType = DateTime2), @p158='?' (Size = 100), @p159='?' (Size = 4000), @p160='?' (DbType = Boolean), @p161='?' (DbType = DateTime2), @p162='?' (Size = 100), @p163='?' (Size = 20), @p164='?' (Size = 4000), @p165='?' (DbType = Int32), @p166='?' (DbType = Int32), @p167='?' (DbType = DateTime2), @p168='?' (Size = 50), @p169='?' (Size = 50), @p170='?' (Size = 100), @p171='?' (Size = 20), @p172='?' (DbType = Guid), @p173='?' (DbType = Guid), @p174='?' (Size = 4000), @p175='?' (DbType = DateTime2), @p176='?' (Size = 255), @p177='?' (DbType = DateTime2), @p178='?' (Size = 100), @p179='?' (Size = 4000), @p180='?' (DbType = Boolean), @p181='?' (DbType = DateTime2), @p182='?' (Size = 100), @p183='?' (Size = 20), @p184='?' (Size = 4000), @p185='?' (DbType = Int32), @p186='?' (DbType = Int32), @p187='?' (DbType = DateTime2), @p188='?' (Size = 50), @p189='?' (Size = 50), @p190='?' (Size = 100), @p191='?' (Size = 20), @p192='?' (DbType = Guid), @p193='?' (DbType = Guid), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 255), @p197='?' (DbType = DateTime2), @p198='?' (Size = 100), @p199='?' (Size = 4000), @p200='?' (DbType = Boolean), @p201='?' (DbType = DateTime2), @p202='?' (Size = 100), @p203='?' (Size = 20), @p204='?' (Size = 4000), @p205='?' (DbType = Int32), @p206='?' (DbType = Int32), @p207='?' (DbType = DateTime2), @p208='?' (Size = 50), @p209='?' (Size = 50), @p210='?' (Size = 100), @p211='?' (Size = 20), @p212='?' (DbType = Guid), @p213='?' (DbType = Guid), @p214='?' (Size = 4000), @p215='?' (DbType = DateTime2), @p216='?' (Size = 255), @p217='?' (DbType = DateTime2), @p218='?' (Size = 100), @p219='?' (Size = 4000), @p220='?' (DbType = Boolean), @p221='?' (DbType = DateTime2), @p222='?' (Size = 100), @p223='?' (Size = 20), @p224='?' (Size = 4000), @p225='?' (DbType = Int32), @p226='?' (DbType = Int32), @p227='?' (DbType = DateTime2), @p228='?' (Size = 50), @p229='?' (Size = 50), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (DbType = Guid), @p233='?' (DbType = Guid), @p234='?' (Size = 4000), @p235='?' (DbType = DateTime2), @p236='?' (Size = 255), @p237='?' (DbType = DateTime2), @p238='?' (Size = 100), @p239='?' (Size = 4000), @p240='?' (DbType = Boolean), @p241='?' (DbType = DateTime2), @p242='?' (Size = 100), @p243='?' (Size = 20), @p244='?' (Size = 4000), @p245='?' (DbType = Int32), @p246='?' (DbType = Int32), @p247='?' (DbType = DateTime2), @p248='?' (Size = 50), @p249='?' (Size = 50), @p250='?' (Size = 100), @p251='?' (Size = 20), @p252='?' (DbType = Guid), @p253='?' (DbType = Guid), @p254='?' (Size = 4000), @p255='?' (DbType = DateTime2), @p256='?' (Size = 255), @p257='?' (DbType = DateTime2), @p258='?' (Size = 100), @p259='?' (Size = 4000), @p260='?' (DbType = Boolean), @p261='?' (DbType = DateTime2), @p262='?' (Size = 100), @p263='?' (Size = 20), @p264='?' (Size = 4000), @p265='?' (DbType = Int32), @p266='?' (DbType = Int32), @p267='?' (DbType = DateTime2), @p268='?' (Size = 50), @p269='?' (Size = 50), @p270='?' (Size = 100), @p271='?' (Size = 20), @p272='?' (DbType = Guid), @p273='?' (DbType = Guid), @p274='?' (Size = 4000), @p275='?' (DbType = DateTime2), @p276='?' (Size = 255), @p277='?' (DbType = DateTime2), @p278='?' (Size = 100), @p279='?' (Size = 4000), @p280='?' (DbType = Boolean), @p281='?' (DbType = DateTime2), @p282='?' (Size = 100), @p283='?' (Size = 20), @p284='?' (Size = 4000), @p285='?' (DbType = Int32), @p286='?' (DbType = Int32), @p287='?' (DbType = DateTime2), @p288='?' (Size = 50), @p289='?' (Size = 50), @p290='?' (Size = 100), @p291='?' (Size = 20), @p292='?' (DbType = Guid), @p293='?' (DbType = Guid), @p294='?' (Size = 4000), @p295='?' (DbType = DateTime2), @p296='?' (Size = 255), @p297='?' (DbType = DateTime2), @p298='?' (Size = 100), @p299='?' (Size = 4000), @p300='?' (DbType = Boolean), @p301='?' (DbType = DateTime2), @p302='?' (Size = 100), @p303='?' (Size = 20), @p304='?' (Size = 4000), @p305='?' (DbType = Int32), @p306='?' (DbType = Int32), @p307='?' (DbType = DateTime2), @p308='?' (Size = 50), @p309='?' (Size = 50), @p310='?' (Size = 100), @p311='?' (Size = 20), @p312='?' (DbType = Guid), @p313='?' (DbType = Guid), @p314='?' (Size = 4000), @p315='?' (DbType = DateTime2), @p316='?' (Size = 255), @p317='?' (DbType = DateTime2), @p318='?' (Size = 100), @p319='?' (Size = 4000), @p320='?' (DbType = Boolean), @p321='?' (DbType = DateTime2), @p322='?' (Size = 100), @p323='?' (Size = 20), @p324='?' (Size = 4000), @p325='?' (DbType = Int32), @p326='?' (DbType = Int32), @p327='?' (DbType = DateTime2), @p328='?' (Size = 50), @p329='?' (Size = 50), @p330='?' (Size = 100), @p331='?' (Size = 20), @p332='?' (DbType = Guid), @p333='?' (DbType = Guid), @p334='?' (Size = 4000), @p335='?' (DbType = DateTime2), @p336='?' (Size = 255), @p337='?' (DbType = DateTime2), @p338='?' (Size = 100), @p339='?' (Size = 4000), @p340='?' (DbType = Boolean), @p341='?' (DbType = DateTime2), @p342='?' (Size = 100), @p343='?' (Size = 20), @p344='?' (Size = 4000), @p345='?' (DbType = Int32), @p346='?' (DbType = Int32), @p347='?' (DbType = DateTime2), @p348='?' (Size = 50), @p349='?' (Size = 50), @p350='?' (Size = 100), @p351='?' (Size = 20), @p352='?' (DbType = Guid), @p353='?' (DbType = Guid), @p354='?' (Size = 4000), @p355='?' (DbType = DateTime2), @p356='?' (Size = 255), @p357='?' (DbType = DateTime2), @p358='?' (Size = 100), @p359='?' (Size = 4000), @p360='?' (DbType = Boolean), @p361='?' (DbType = DateTime2), @p362='?' (Size = 100), @p363='?' (Size = 20), @p364='?' (Size = 4000), @p365='?' (DbType = Int32), @p366='?' (DbType = Int32), @p367='?' (DbType = DateTime2), @p368='?' (Size = 50), @p369='?' (Size = 50), @p370='?' (Size = 100), @p371='?' (Size = 20), @p372='?' (DbType = Guid), @p373='?' (DbType = Guid), @p374='?' (Size = 4000), @p375='?' (DbType = DateTime2), @p376='?' (Size = 255), @p377='?' (DbType = DateTime2), @p378='?' (Size = 100), @p379='?' (Size = 4000), @p380='?' (DbType = Boolean), @p381='?' (DbType = DateTime2), @p382='?' (Size = 100), @p383='?' (Size = 20), @p384='?' (Size = 4000), @p385='?' (DbType = Int32), @p386='?' (DbType = Int32), @p387='?' (DbType = DateTime2), @p388='?' (Size = 50), @p389='?' (Size = 50), @p390='?' (Size = 100), @p391='?' (Size = 20), @p392='?' (DbType = Guid), @p393='?' (DbType = Guid), @p394='?' (Size = 4000), @p395='?' (DbType = DateTime2), @p396='?' (Size = 255), @p397='?' (DbType = DateTime2), @p398='?' (Size = 100), @p399='?' (Size = 4000), @p400='?' (DbType = Boolean), @p401='?' (DbType = DateTime2), @p402='?' (Size = 100), @p403='?' (Size = 20), @p404='?' (Size = 4000), @p405='?' (DbType = Int32), @p406='?' (DbType = Int32), @p407='?' (DbType = DateTime2), @p408='?' (Size = 50), @p409='?' (Size = 50), @p410='?' (Size = 100), @p411='?' (Size = 20), @p412='?' (DbType = Guid), @p413='?' (DbType = Guid), @p414='?' (Size = 4000), @p415='?' (DbType = DateTime2), @p416='?' (Size = 255), @p417='?' (DbType = DateTime2), @p418='?' (Size = 100), @p419='?' (Size = 4000), @p420='?' (DbType = Boolean), @p421='?' (DbType = DateTime2), @p422='?' (Size = 100), @p423='?' (Size = 20), @p424='?' (Size = 4000), @p425='?' (DbType = Int32), @p426='?' (DbType = Int32), @p427='?' (DbType = DateTime2), @p428='?' (Size = 50), @p429='?' (Size = 50), @p430='?' (Size = 100), @p431='?' (Size = 20), @p432='?' (DbType = Guid), @p433='?' (DbType = Guid), @p434='?' (Size = 4000), @p435='?' (DbType = DateTime2), @p436='?' (Size = 255), @p437='?' (DbType = DateTime2), @p438='?' (Size = 100), @p439='?' (Size = 4000), @p440='?' (DbType = Boolean), @p441='?' (DbType = DateTime2), @p442='?' (Size = 100), @p443='?' (Size = 20), @p444='?' (Size = 4000), @p445='?' (DbType = Int32), @p446='?' (DbType = Int32), @p447='?' (DbType = DateTime2), @p448='?' (Size = 50), @p449='?' (Size = 50), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (DbType = Guid), @p453='?' (DbType = Guid), @p454='?' (Size = 4000), @p455='?' (DbType = DateTime2), @p456='?' (Size = 255), @p457='?' (DbType = DateTime2), @p458='?' (Size = 100), @p459='?' (Size = 4000), @p460='?' (DbType = Boolean), @p461='?' (DbType = DateTime2), @p462='?' (Size = 100), @p463='?' (Size = 20), @p464='?' (Size = 4000), @p465='?' (DbType = Int32), @p466='?' (DbType = Int32), @p467='?' (DbType = DateTime2), @p468='?' (Size = 50), @p469='?' (Size = 50), @p470='?' (Size = 100), @p471='?' (Size = 20), @p472='?' (DbType = Guid), @p473='?' (DbType = DateTime2), @p474='?' (Size = 255), @p475='?' (DbType = Int32), @p476='?' (Size = 100), @p477='?' (DbType = DateTime2), @p478='?' (Size = 100), @p479='?' (DbType = DateTime2), @p480='?' (Size = 4000), @p481='?' (DbType = DateTime2), @p482='?' (Size = 20), @p483='?' (DbType = Boolean), @p484='?' (Size = 50), @p485='?' (DbType = DateTime2), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (Size = 255), @p489='?' (DbType = Int32), @p490='?' (Size = 100), @p491='?' (DbType = DateTime2), @p492='?' (Size = 100), @p493='?' (DbType = DateTime2), @p494='?' (Size = 4000), @p495='?' (DbType = DateTime2), @p496='?' (Size = 20), @p497='?' (DbType = Boolean), @p498='?' (Size = 50), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Guid), @p501='?' (DbType = DateTime2), @p502='?' (Size = 255), @p503='?' (DbType = Int32), @p504='?' (Size = 100), @p505='?' (DbType = DateTime2), @p506='?' (Size = 100), @p507='?' (DbType = DateTime2), @p508='?' (Size = 4000), @p509='?' (DbType = DateTime2), @p510='?' (Size = 20), @p511='?' (DbType = Boolean), @p512='?' (Size = 50), @p513='?' (DbType = DateTime2), @p514='?' (DbType = Guid), @p515='?' (DbType = DateTime2), @p516='?' (Size = 255), @p517='?' (DbType = Int32), @p518='?' (Size = 100), @p519='?' (DbType = DateTime2), @p520='?' (Size = 100), @p521='?' (DbType = DateTime2), @p522='?' (Size = 4000), @p523='?' (DbType = DateTime2), @p524='?' (Size = 20), @p525='?' (DbType = Boolean), @p526='?' (Size = 50), @p527='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7),
(@p32, @p33, @p34, @p35, 8),
(@p36, @p37, @p38, @p39, 9),
(@p40, @p41, @p42, @p43, 10),
(@p44, @p45, @p46, @p47, 11),
(@p48, @p49, @p50, @p51, 12),
(@p52, @p53, @p54, @p55, 13),
(@p56, @p57, @p58, @p59, 14),
(@p60, @p61, @p62, @p63, 15),
(@p64, @p65, @p66, @p67, 16),
(@p68, @p69, @p70, @p71, 17)) AS i ([Id], [CreatedAt], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, 0),
(@p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 1),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, 2),
(@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 3),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, 4),
(@p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 5),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, 6),
(@p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, 7),
(@p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 8),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, 9),
(@p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, 10),
(@p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 11),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, 12),
(@p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, 13),
(@p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 14),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, 15),
(@p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, 16),
(@p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, 18),
(@p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsVIP], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[Street], i.[PostalCode])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 0),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, 1),
(@p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, 2),
(@p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 3)) AS i ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[Phone], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-03 01:00:42.911 +02:00 [INF] Executed DbCommand (73ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 20), @p11='?' (DbType = Boolean), @p12='?' (Size = 50), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (Size = 500) (DbType = AnsiString), @p18='?' (DbType = Boolean), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = Guid), @p26='?' (DbType = DateTime2), @p27='?' (Size = 500) (DbType = AnsiString), @p28='?' (DbType = Boolean), @p29='?' (Size = 100), @p30='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (Size = 500) (DbType = AnsiString), @p38='?' (DbType = Boolean), @p39='?' (Size = 100), @p40='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (Size = 500) (DbType = AnsiString), @p48='?' (DbType = Boolean), @p49='?' (Size = 100), @p50='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p51='?' (DbType = Int32), @p52='?' (DbType = Int32), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 500) (DbType = AnsiString), @p58='?' (DbType = Boolean), @p59='?' (Size = 100), @p60='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p61='?' (DbType = Int32), @p62='?' (DbType = Int32), @p63='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = Guid), @p66='?' (DbType = DateTime2), @p67='?' (Size = 500) (DbType = AnsiString), @p68='?' (DbType = Boolean), @p69='?' (Size = 100), @p70='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Guid), @p75='?' (DbType = Guid), @p76='?' (DbType = DateTime2), @p77='?' (Size = 500) (DbType = AnsiString), @p78='?' (DbType = Boolean), @p79='?' (Size = 100), @p80='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p81='?' (DbType = Int32), @p82='?' (DbType = Int32), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Guid), @p85='?' (DbType = Guid), @p86='?' (DbType = DateTime2), @p87='?' (Size = 500) (DbType = AnsiString), @p88='?' (DbType = Boolean), @p89='?' (Size = 100), @p90='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (DbType = Guid), @p95='?' (DbType = Guid), @p96='?' (DbType = DateTime2), @p97='?' (Size = 500) (DbType = AnsiString), @p98='?' (DbType = Boolean), @p99='?' (Size = 100), @p100='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Guid), @p105='?' (DbType = Guid), @p106='?' (DbType = DateTime2), @p107='?' (Size = 500) (DbType = AnsiString), @p108='?' (DbType = Boolean), @p109='?' (Size = 100), @p110='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (DbType = DateTime2), @p114='?' (DbType = Guid), @p115='?' (DbType = Guid), @p116='?' (DbType = DateTime2), @p117='?' (Size = 500) (DbType = AnsiString), @p118='?' (DbType = Boolean), @p119='?' (Size = 100), @p120='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p121='?' (DbType = Int32), @p122='?' (DbType = Int32), @p123='?' (DbType = DateTime2), @p124='?' (DbType = Guid), @p125='?' (DbType = Guid), @p126='?' (DbType = DateTime2), @p127='?' (Size = 500) (DbType = AnsiString), @p128='?' (DbType = Boolean), @p129='?' (Size = 100), @p130='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p131='?' (DbType = Int32), @p132='?' (DbType = Int32), @p133='?' (DbType = DateTime2), @p134='?' (DbType = Guid), @p135='?' (DbType = Guid), @p136='?' (DbType = DateTime2), @p137='?' (Size = 500) (DbType = AnsiString), @p138='?' (DbType = Boolean), @p139='?' (Size = 100), @p140='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p141='?' (DbType = Int32), @p142='?' (DbType = Int32), @p143='?' (DbType = DateTime2), @p144='?' (DbType = Guid), @p145='?' (DbType = Guid), @p146='?' (DbType = DateTime2), @p147='?' (Size = 500) (DbType = AnsiString), @p148='?' (DbType = Boolean), @p149='?' (Size = 100), @p150='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p151='?' (DbType = Int32), @p152='?' (DbType = Int32), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = Guid), @p156='?' (DbType = DateTime2), @p157='?' (Size = 500) (DbType = AnsiString), @p158='?' (DbType = Boolean), @p159='?' (Size = 100), @p160='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p161='?' (DbType = Int32), @p162='?' (DbType = Int32), @p163='?' (DbType = DateTime2), @p164='?' (DbType = Guid), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (Size = 500) (DbType = AnsiString), @p168='?' (DbType = Boolean), @p169='?' (Size = 100), @p170='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p171='?' (DbType = Int32), @p172='?' (DbType = Int32), @p173='?' (DbType = DateTime2), @p174='?' (DbType = Guid), @p175='?' (DbType = Guid), @p176='?' (DbType = DateTime2), @p177='?' (Size = 500) (DbType = AnsiString), @p178='?' (DbType = Boolean), @p179='?' (Size = 100), @p180='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p181='?' (DbType = Int32), @p182='?' (DbType = Int32), @p183='?' (DbType = DateTime2), @p184='?' (DbType = Guid), @p185='?' (DbType = Guid), @p186='?' (DbType = DateTime2), @p187='?' (Size = 500) (DbType = AnsiString), @p188='?' (DbType = Boolean), @p189='?' (Size = 100), @p190='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p191='?' (DbType = Int32), @p192='?' (DbType = Int32), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Guid), @p195='?' (DbType = Guid), @p196='?' (DbType = DateTime2), @p197='?' (Size = 500) (DbType = AnsiString), @p198='?' (DbType = Boolean), @p199='?' (Size = 100), @p200='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p201='?' (DbType = Int32), @p202='?' (DbType = Int32), @p203='?' (DbType = DateTime2), @p204='?' (DbType = Guid), @p205='?' (DbType = Guid), @p206='?' (DbType = DateTime2), @p207='?' (Size = 500) (DbType = AnsiString), @p208='?' (DbType = Boolean), @p209='?' (Size = 100), @p210='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p211='?' (DbType = Int32), @p212='?' (DbType = Int32), @p213='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
MERGE [Products] USING (
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 0),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1),
(@p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, 2),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 3),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 4),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, 5),
(@p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, 7),
(@p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, 8),
(@p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, 9),
(@p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, 10),
(@p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, 11),
(@p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 12),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, 13),
(@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, 14),
(@p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 15),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, 16),
(@p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, 17),
(@p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 18),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, 19)) AS i ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[Description], i.[IsService], i.[Name], i.[Price], i.[Quantity], i.[Status], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-03 01:00:42.959 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 01:00:43.084 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 01:00:43.511 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 01:00:43.513 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:00:43.515 +02:00 [INF] Hosting environment: Development
2025-06-03 01:00:43.516 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 01:00:57.478 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-03 01:00:57.738 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 266.766ms
2025-06-03 01:00:59.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-03 01:00:59.265 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 262.6119ms
2025-06-03 01:01:05.116 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-03 01:01:05.178 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-03 01:01:05.204 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:01:05.584 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-03 01:01:05.779 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-03 01:01:05.837 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:01:05.898 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 687.01ms
2025-06-03 01:01:05.899 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-03 01:01:05.911 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 795.5329ms
2025-06-03 01:02:58.670 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 187
2025-06-03 01:02:58.764 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-03 01:02:58.809 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 01:02:59.075 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 01:02:59.082 +02:00 [INF] Product "0c608cc0-8ddf-4cb7-8fa0-41eae49b4804" added to context
2025-06-03 01:02:59.131 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500) (DbType = AnsiString), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-03 01:02:59.142 +02:00 [INF] Product "0c608cc0-8ddf-4cb7-8fa0-41eae49b4804" created
2025-06-03 01:02:59.218 +02:00 [INF] Product created: Iphone 12
2025-06-03 01:02:59.225 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:02:59.282 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 472.052ms
2025-06-03 01:02:59.282 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-03 01:02:59.282 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 612.5507ms
2025-06-03 01:03:05.813 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 187
2025-06-03 01:03:05.817 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-03 01:03:05.817 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 01:03:05.829 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 01:03:05.830 +02:00 [INF] Product "efd5cdfb-172c-4a15-964e-3fa35f5e507e" added to context
2025-06-03 01:03:05.838 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500) (DbType = AnsiString), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-03 01:03:05.839 +02:00 [INF] Product "efd5cdfb-172c-4a15-964e-3fa35f5e507e" created
2025-06-03 01:03:05.839 +02:00 [INF] Product created: Iphone 15
2025-06-03 01:03:05.840 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:03:05.845 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 27.6818ms
2025-06-03 01:03:05.846 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-03 01:03:05.846 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 32.4719ms
2025-06-03 01:03:14.583 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 187
2025-06-03 01:03:14.583 +02:00 [INF] Executing endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-03 01:03:14.584 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Create(PulseERP.Application.Products.Commands.CreateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 01:03:14.596 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 01:03:14.597 +02:00 [INF] Product "01c81a86-f5b0-495f-9523-562860fdfeb9" added to context
2025-06-03 01:03:14.607 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (Size = 500) (DbType = AnsiString), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2025-06-03 01:03:14.608 +02:00 [INF] Product "01c81a86-f5b0-495f-9523-562860fdfeb9" created
2025-06-03 01:03:14.609 +02:00 [INF] Product created: Iphone 14
2025-06-03 01:03:14.609 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:03:14.609 +02:00 [INF] Executed action ProductsController.Create (PulseERP.API) in 25.4432ms
2025-06-03 01:03:14.610 +02:00 [INF] Executed endpoint 'ProductsController.Create (PulseERP.API)'
2025-06-03 01:03:14.611 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 27.8029ms
2025-06-03 01:03:19.569 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-03 01:03:19.570 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-03 01:03:19.570 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:03:19.634 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-03 01:03:19.639 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-03 01:03:19.641 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:03:19.641 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 71.1175ms
2025-06-03 01:03:19.642 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-03 01:03:19.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 73.4917ms
2025-06-03 01:03:45.288 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-03 01:03:45.289 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:03:45.322 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-03 01:03:45.367 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-03 01:03:45.415 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-03 01:03:45.435 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:03:45.442 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 119.248ms
2025-06-03 01:03:45.442 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:03:45.443 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 154.2263ms
2025-06-03 01:04:09.743 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 74
2025-06-03 01:04:09.744 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:04:09.750 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:04:09.788 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:04:09.7877850".
2025-06-03 01:04:09.827 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:04:09.840 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 89.5525ms
2025-06-03 01:04:09.840 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:04:09.855 +02:00 [ERR] An unhandled exception has occurred while executing the request.
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at PulseERP.Infrastructure.Identity.PasswordService.VerifyPassword(Password password, String hashedPassword) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/PasswordService.cs:line 67
   at PulseERP.Infrastructure.Identity.AuthenticationService.LoginAsync(LoginRequest request, String ipAddress, String userAgent) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Identity/AuthenticationService.cs:line 151
   at AuthenticationController.Login(LoginRequest request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/AuthenticationController.cs:line 41
   at lambda_method737(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 01:04:09.887 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:04:09.893 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 500 null application/problem+json; charset=utf-8 150.3728ms
2025-06-03 01:13:15.166 +02:00 [INF] Application is shutting down...
2025-06-03 01:15:36.448 +02:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 01:15:36.658 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:15:36.831 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:15:36.922 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:15:38.695 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Guid), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = DateTime2), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2), @p28='?' (DbType = Guid), @p29='?' (DbType = DateTime2), @p30='?' (Size = 100), @p31='?' (DbType = DateTime2), @p32='?' (DbType = Guid), @p33='?' (DbType = DateTime2), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (Size = 100), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Guid), @p41='?' (DbType = DateTime2), @p42='?' (Size = 100), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (Size = 100), @p51='?' (DbType = DateTime2), @p52='?' (DbType = Guid), @p53='?' (DbType = DateTime2), @p54='?' (Size = 100), @p55='?' (DbType = DateTime2), @p56='?' (DbType = Guid), @p57='?' (DbType = DateTime2), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (Size = 100), @p63='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = DateTime2), @p66='?' (Size = 100), @p67='?' (DbType = DateTime2), @p68='?' (DbType = Guid), @p69='?' (DbType = DateTime2), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = Guid), @p74='?' (Size = 4000), @p75='?' (DbType = DateTime2), @p76='?' (Size = 255), @p77='?' (DbType = DateTime2), @p78='?' (Size = 100), @p79='?' (Size = 4000), @p80='?' (DbType = Boolean), @p81='?' (DbType = DateTime2), @p82='?' (Size = 100), @p83='?' (Size = 20), @p84='?' (Size = 4000), @p85='?' (DbType = Int32), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (Size = 50), @p89='?' (Size = 50), @p90='?' (Size = 100), @p91='?' (Size = 20), @p92='?' (DbType = Guid), @p93='?' (DbType = Guid), @p94='?' (Size = 4000), @p95='?' (DbType = DateTime2), @p96='?' (Size = 255), @p97='?' (DbType = DateTime2), @p98='?' (Size = 100), @p99='?' (Size = 4000), @p100='?' (DbType = Boolean), @p101='?' (DbType = DateTime2), @p102='?' (Size = 100), @p103='?' (Size = 20), @p104='?' (Size = 4000), @p105='?' (DbType = Int32), @p106='?' (DbType = Int32), @p107='?' (DbType = DateTime2), @p108='?' (Size = 50), @p109='?' (Size = 50), @p110='?' (Size = 100), @p111='?' (Size = 20), @p112='?' (DbType = Guid), @p113='?' (DbType = Guid), @p114='?' (Size = 4000), @p115='?' (DbType = DateTime2), @p116='?' (Size = 255), @p117='?' (DbType = DateTime2), @p118='?' (Size = 100), @p119='?' (Size = 4000), @p120='?' (DbType = Boolean), @p121='?' (DbType = DateTime2), @p122='?' (Size = 100), @p123='?' (Size = 20), @p124='?' (Size = 4000), @p125='?' (DbType = Int32), @p126='?' (DbType = Int32), @p127='?' (DbType = DateTime2), @p128='?' (Size = 50), @p129='?' (Size = 50), @p130='?' (Size = 100), @p131='?' (Size = 20), @p132='?' (DbType = Guid), @p133='?' (DbType = Guid), @p134='?' (Size = 4000), @p135='?' (DbType = DateTime2), @p136='?' (Size = 255), @p137='?' (DbType = DateTime2), @p138='?' (Size = 100), @p139='?' (Size = 4000), @p140='?' (DbType = Boolean), @p141='?' (DbType = DateTime2), @p142='?' (Size = 100), @p143='?' (Size = 20), @p144='?' (Size = 4000), @p145='?' (DbType = Int32), @p146='?' (DbType = Int32), @p147='?' (DbType = DateTime2), @p148='?' (Size = 50), @p149='?' (Size = 50), @p150='?' (Size = 100), @p151='?' (Size = 20), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (Size = 255), @p157='?' (DbType = DateTime2), @p158='?' (Size = 100), @p159='?' (Size = 4000), @p160='?' (DbType = Boolean), @p161='?' (DbType = DateTime2), @p162='?' (Size = 100), @p163='?' (Size = 20), @p164='?' (Size = 4000), @p165='?' (DbType = Int32), @p166='?' (DbType = Int32), @p167='?' (DbType = DateTime2), @p168='?' (Size = 50), @p169='?' (Size = 50), @p170='?' (Size = 100), @p171='?' (Size = 20), @p172='?' (DbType = Guid), @p173='?' (DbType = Guid), @p174='?' (Size = 4000), @p175='?' (DbType = DateTime2), @p176='?' (Size = 255), @p177='?' (DbType = DateTime2), @p178='?' (Size = 100), @p179='?' (Size = 4000), @p180='?' (DbType = Boolean), @p181='?' (DbType = DateTime2), @p182='?' (Size = 100), @p183='?' (Size = 20), @p184='?' (Size = 4000), @p185='?' (DbType = Int32), @p186='?' (DbType = Int32), @p187='?' (DbType = DateTime2), @p188='?' (Size = 50), @p189='?' (Size = 50), @p190='?' (Size = 100), @p191='?' (Size = 20), @p192='?' (DbType = Guid), @p193='?' (DbType = Guid), @p194='?' (Size = 4000), @p195='?' (DbType = DateTime2), @p196='?' (Size = 255), @p197='?' (DbType = DateTime2), @p198='?' (Size = 100), @p199='?' (Size = 4000), @p200='?' (DbType = Boolean), @p201='?' (DbType = DateTime2), @p202='?' (Size = 100), @p203='?' (Size = 20), @p204='?' (Size = 4000), @p205='?' (DbType = Int32), @p206='?' (DbType = Int32), @p207='?' (DbType = DateTime2), @p208='?' (Size = 50), @p209='?' (Size = 50), @p210='?' (Size = 100), @p211='?' (Size = 20), @p212='?' (DbType = Guid), @p213='?' (DbType = Guid), @p214='?' (Size = 4000), @p215='?' (DbType = DateTime2), @p216='?' (Size = 255), @p217='?' (DbType = DateTime2), @p218='?' (Size = 100), @p219='?' (Size = 4000), @p220='?' (DbType = Boolean), @p221='?' (DbType = DateTime2), @p222='?' (Size = 100), @p223='?' (Size = 20), @p224='?' (Size = 4000), @p225='?' (DbType = Int32), @p226='?' (DbType = Int32), @p227='?' (DbType = DateTime2), @p228='?' (Size = 50), @p229='?' (Size = 50), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (DbType = Guid), @p233='?' (DbType = Guid), @p234='?' (Size = 4000), @p235='?' (DbType = DateTime2), @p236='?' (Size = 255), @p237='?' (DbType = DateTime2), @p238='?' (Size = 100), @p239='?' (Size = 4000), @p240='?' (DbType = Boolean), @p241='?' (DbType = DateTime2), @p242='?' (Size = 100), @p243='?' (Size = 20), @p244='?' (Size = 4000), @p245='?' (DbType = Int32), @p246='?' (DbType = Int32), @p247='?' (DbType = DateTime2), @p248='?' (Size = 50), @p249='?' (Size = 50), @p250='?' (Size = 100), @p251='?' (Size = 20), @p252='?' (DbType = Guid), @p253='?' (DbType = Guid), @p254='?' (Size = 4000), @p255='?' (DbType = DateTime2), @p256='?' (Size = 255), @p257='?' (DbType = DateTime2), @p258='?' (Size = 100), @p259='?' (Size = 4000), @p260='?' (DbType = Boolean), @p261='?' (DbType = DateTime2), @p262='?' (Size = 100), @p263='?' (Size = 20), @p264='?' (Size = 4000), @p265='?' (DbType = Int32), @p266='?' (DbType = Int32), @p267='?' (DbType = DateTime2), @p268='?' (Size = 50), @p269='?' (Size = 50), @p270='?' (Size = 100), @p271='?' (Size = 20), @p272='?' (DbType = Guid), @p273='?' (DbType = Guid), @p274='?' (Size = 4000), @p275='?' (DbType = DateTime2), @p276='?' (Size = 255), @p277='?' (DbType = DateTime2), @p278='?' (Size = 100), @p279='?' (Size = 4000), @p280='?' (DbType = Boolean), @p281='?' (DbType = DateTime2), @p282='?' (Size = 100), @p283='?' (Size = 20), @p284='?' (Size = 4000), @p285='?' (DbType = Int32), @p286='?' (DbType = Int32), @p287='?' (DbType = DateTime2), @p288='?' (Size = 50), @p289='?' (Size = 50), @p290='?' (Size = 100), @p291='?' (Size = 20), @p292='?' (DbType = Guid), @p293='?' (DbType = Guid), @p294='?' (Size = 4000), @p295='?' (DbType = DateTime2), @p296='?' (Size = 255), @p297='?' (DbType = DateTime2), @p298='?' (Size = 100), @p299='?' (Size = 4000), @p300='?' (DbType = Boolean), @p301='?' (DbType = DateTime2), @p302='?' (Size = 100), @p303='?' (Size = 20), @p304='?' (Size = 4000), @p305='?' (DbType = Int32), @p306='?' (DbType = Int32), @p307='?' (DbType = DateTime2), @p308='?' (Size = 50), @p309='?' (Size = 50), @p310='?' (Size = 100), @p311='?' (Size = 20), @p312='?' (DbType = Guid), @p313='?' (DbType = Guid), @p314='?' (Size = 4000), @p315='?' (DbType = DateTime2), @p316='?' (Size = 255), @p317='?' (DbType = DateTime2), @p318='?' (Size = 100), @p319='?' (Size = 4000), @p320='?' (DbType = Boolean), @p321='?' (DbType = DateTime2), @p322='?' (Size = 100), @p323='?' (Size = 20), @p324='?' (Size = 4000), @p325='?' (DbType = Int32), @p326='?' (DbType = Int32), @p327='?' (DbType = DateTime2), @p328='?' (Size = 50), @p329='?' (Size = 50), @p330='?' (Size = 100), @p331='?' (Size = 20), @p332='?' (DbType = Guid), @p333='?' (DbType = Guid), @p334='?' (Size = 4000), @p335='?' (DbType = DateTime2), @p336='?' (Size = 255), @p337='?' (DbType = DateTime2), @p338='?' (Size = 100), @p339='?' (Size = 4000), @p340='?' (DbType = Boolean), @p341='?' (DbType = DateTime2), @p342='?' (Size = 100), @p343='?' (Size = 20), @p344='?' (Size = 4000), @p345='?' (DbType = Int32), @p346='?' (DbType = Int32), @p347='?' (DbType = DateTime2), @p348='?' (Size = 50), @p349='?' (Size = 50), @p350='?' (Size = 100), @p351='?' (Size = 20), @p352='?' (DbType = Guid), @p353='?' (DbType = Guid), @p354='?' (Size = 4000), @p355='?' (DbType = DateTime2), @p356='?' (Size = 255), @p357='?' (DbType = DateTime2), @p358='?' (Size = 100), @p359='?' (Size = 4000), @p360='?' (DbType = Boolean), @p361='?' (DbType = DateTime2), @p362='?' (Size = 100), @p363='?' (Size = 20), @p364='?' (Size = 4000), @p365='?' (DbType = Int32), @p366='?' (DbType = Int32), @p367='?' (DbType = DateTime2), @p368='?' (Size = 50), @p369='?' (Size = 50), @p370='?' (Size = 100), @p371='?' (Size = 20), @p372='?' (DbType = Guid), @p373='?' (DbType = Guid), @p374='?' (Size = 4000), @p375='?' (DbType = DateTime2), @p376='?' (Size = 255), @p377='?' (DbType = DateTime2), @p378='?' (Size = 100), @p379='?' (Size = 4000), @p380='?' (DbType = Boolean), @p381='?' (DbType = DateTime2), @p382='?' (Size = 100), @p383='?' (Size = 20), @p384='?' (Size = 4000), @p385='?' (DbType = Int32), @p386='?' (DbType = Int32), @p387='?' (DbType = DateTime2), @p388='?' (Size = 50), @p389='?' (Size = 50), @p390='?' (Size = 100), @p391='?' (Size = 20), @p392='?' (DbType = Guid), @p393='?' (DbType = Guid), @p394='?' (Size = 4000), @p395='?' (DbType = DateTime2), @p396='?' (Size = 255), @p397='?' (DbType = DateTime2), @p398='?' (Size = 100), @p399='?' (Size = 4000), @p400='?' (DbType = Boolean), @p401='?' (DbType = DateTime2), @p402='?' (Size = 100), @p403='?' (Size = 20), @p404='?' (Size = 4000), @p405='?' (DbType = Int32), @p406='?' (DbType = Int32), @p407='?' (DbType = DateTime2), @p408='?' (Size = 50), @p409='?' (Size = 50), @p410='?' (Size = 100), @p411='?' (Size = 20), @p412='?' (DbType = Guid), @p413='?' (DbType = Guid), @p414='?' (Size = 4000), @p415='?' (DbType = DateTime2), @p416='?' (Size = 255), @p417='?' (DbType = DateTime2), @p418='?' (Size = 100), @p419='?' (Size = 4000), @p420='?' (DbType = Boolean), @p421='?' (DbType = DateTime2), @p422='?' (Size = 100), @p423='?' (Size = 20), @p424='?' (Size = 4000), @p425='?' (DbType = Int32), @p426='?' (DbType = Int32), @p427='?' (DbType = DateTime2), @p428='?' (Size = 50), @p429='?' (Size = 50), @p430='?' (Size = 100), @p431='?' (Size = 20), @p432='?' (DbType = Guid), @p433='?' (DbType = Guid), @p434='?' (Size = 4000), @p435='?' (DbType = DateTime2), @p436='?' (Size = 255), @p437='?' (DbType = DateTime2), @p438='?' (Size = 100), @p439='?' (Size = 4000), @p440='?' (DbType = Boolean), @p441='?' (DbType = DateTime2), @p442='?' (Size = 100), @p443='?' (Size = 20), @p444='?' (Size = 4000), @p445='?' (DbType = Int32), @p446='?' (DbType = Int32), @p447='?' (DbType = DateTime2), @p448='?' (Size = 50), @p449='?' (Size = 50), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (DbType = Guid), @p453='?' (DbType = Guid), @p454='?' (Size = 4000), @p455='?' (DbType = DateTime2), @p456='?' (Size = 255), @p457='?' (DbType = DateTime2), @p458='?' (Size = 100), @p459='?' (Size = 4000), @p460='?' (DbType = Boolean), @p461='?' (DbType = DateTime2), @p462='?' (Size = 100), @p463='?' (Size = 20), @p464='?' (Size = 4000), @p465='?' (DbType = Int32), @p466='?' (DbType = Int32), @p467='?' (DbType = DateTime2), @p468='?' (Size = 50), @p469='?' (Size = 50), @p470='?' (Size = 100), @p471='?' (Size = 20), @p472='?' (DbType = Guid), @p473='?' (DbType = DateTime2), @p474='?' (Size = 255), @p475='?' (DbType = Int32), @p476='?' (Size = 100), @p477='?' (DbType = DateTime2), @p478='?' (Size = 100), @p479='?' (DbType = DateTime2), @p480='?' (Size = 4000), @p481='?' (DbType = DateTime2), @p482='?' (Size = 20), @p483='?' (DbType = Boolean), @p484='?' (Size = 50), @p485='?' (DbType = DateTime2), @p486='?' (DbType = Guid), @p487='?' (DbType = DateTime2), @p488='?' (Size = 255), @p489='?' (DbType = Int32), @p490='?' (Size = 100), @p491='?' (DbType = DateTime2), @p492='?' (Size = 100), @p493='?' (DbType = DateTime2), @p494='?' (Size = 4000), @p495='?' (DbType = DateTime2), @p496='?' (Size = 20), @p497='?' (DbType = Boolean), @p498='?' (Size = 50), @p499='?' (DbType = DateTime2), @p500='?' (DbType = Guid), @p501='?' (DbType = DateTime2), @p502='?' (Size = 255), @p503='?' (DbType = Int32), @p504='?' (Size = 100), @p505='?' (DbType = DateTime2), @p506='?' (Size = 100), @p507='?' (DbType = DateTime2), @p508='?' (Size = 4000), @p509='?' (DbType = DateTime2), @p510='?' (Size = 20), @p511='?' (DbType = Boolean), @p512='?' (Size = 50), @p513='?' (DbType = DateTime2), @p514='?' (DbType = Guid), @p515='?' (DbType = DateTime2), @p516='?' (Size = 255), @p517='?' (DbType = Int32), @p518='?' (Size = 100), @p519='?' (DbType = DateTime2), @p520='?' (Size = 100), @p521='?' (DbType = DateTime2), @p522='?' (Size = 4000), @p523='?' (DbType = DateTime2), @p524='?' (Size = 20), @p525='?' (DbType = Boolean), @p526='?' (Size = 50), @p527='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, 0),
(@p4, @p5, @p6, @p7, 1),
(@p8, @p9, @p10, @p11, 2),
(@p12, @p13, @p14, @p15, 3),
(@p16, @p17, @p18, @p19, 4),
(@p20, @p21, @p22, @p23, 5),
(@p24, @p25, @p26, @p27, 6),
(@p28, @p29, @p30, @p31, 7),
(@p32, @p33, @p34, @p35, 8),
(@p36, @p37, @p38, @p39, 9),
(@p40, @p41, @p42, @p43, 10),
(@p44, @p45, @p46, @p47, 11),
(@p48, @p49, @p50, @p51, 12),
(@p52, @p53, @p54, @p55, 13),
(@p56, @p57, @p58, @p59, 14),
(@p60, @p61, @p62, @p63, 15),
(@p64, @p65, @p66, @p67, 16),
(@p68, @p69, @p70, @p71, 17)) AS i ([Id], [CreatedAt], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p72, @p73, @p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, 0),
(@p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, 1),
(@p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, 2),
(@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 3),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, 4),
(@p172, @p173, @p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, 5),
(@p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, 6),
(@p212, @p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, 7),
(@p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, 8),
(@p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, 9),
(@p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, 10),
(@p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310, @p311, 11),
(@p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, @p328, @p329, @p330, @p331, 12),
(@p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350, @p351, 13),
(@p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 14),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, 15),
(@p392, @p393, @p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, 16),
(@p412, @p413, @p414, @p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, 17),
(@p432, @p433, @p434, @p435, @p436, @p437, @p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, 18),
(@p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, @p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsVIP], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [Street], [PostalCode])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsVIP], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[Street], i.[PostalCode])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, @p482, @p483, @p484, @p485, 0),
(@p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, 1),
(@p500, @p501, @p502, @p503, @p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, 2),
(@p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, @p526, @p527, 3)) AS i ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[Phone], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-03 01:15:38.784 +02:00 [INF] Executed DbCommand (46ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 20), @p11='?' (DbType = Boolean), @p12='?' (Size = 50), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (Size = 500) (DbType = AnsiString), @p18='?' (DbType = Boolean), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = Guid), @p26='?' (DbType = DateTime2), @p27='?' (Size = 500) (DbType = AnsiString), @p28='?' (DbType = Boolean), @p29='?' (Size = 100), @p30='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime2), @p34='?' (DbType = Guid), @p35='?' (DbType = Guid), @p36='?' (DbType = DateTime2), @p37='?' (Size = 500) (DbType = AnsiString), @p38='?' (DbType = Boolean), @p39='?' (Size = 100), @p40='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p41='?' (DbType = Int32), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = Guid), @p46='?' (DbType = DateTime2), @p47='?' (Size = 500) (DbType = AnsiString), @p48='?' (DbType = Boolean), @p49='?' (Size = 100), @p50='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p51='?' (DbType = Int32), @p52='?' (DbType = Int32), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (Size = 500) (DbType = AnsiString), @p58='?' (DbType = Boolean), @p59='?' (Size = 100), @p60='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p61='?' (DbType = Int32), @p62='?' (DbType = Int32), @p63='?' (DbType = DateTime2), @p64='?' (DbType = Guid), @p65='?' (DbType = Guid), @p66='?' (DbType = DateTime2), @p67='?' (Size = 500) (DbType = AnsiString), @p68='?' (DbType = Boolean), @p69='?' (Size = 100), @p70='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p71='?' (DbType = Int32), @p72='?' (DbType = Int32), @p73='?' (DbType = DateTime2), @p74='?' (DbType = Guid), @p75='?' (DbType = Guid), @p76='?' (DbType = DateTime2), @p77='?' (Size = 500) (DbType = AnsiString), @p78='?' (DbType = Boolean), @p79='?' (Size = 100), @p80='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p81='?' (DbType = Int32), @p82='?' (DbType = Int32), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Guid), @p85='?' (DbType = Guid), @p86='?' (DbType = DateTime2), @p87='?' (Size = 500) (DbType = AnsiString), @p88='?' (DbType = Boolean), @p89='?' (Size = 100), @p90='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p91='?' (DbType = Int32), @p92='?' (DbType = Int32), @p93='?' (DbType = DateTime2), @p94='?' (DbType = Guid), @p95='?' (DbType = Guid), @p96='?' (DbType = DateTime2), @p97='?' (Size = 500) (DbType = AnsiString), @p98='?' (DbType = Boolean), @p99='?' (Size = 100), @p100='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p101='?' (DbType = Int32), @p102='?' (DbType = Int32), @p103='?' (DbType = DateTime2), @p104='?' (DbType = Guid), @p105='?' (DbType = Guid), @p106='?' (DbType = DateTime2), @p107='?' (Size = 500) (DbType = AnsiString), @p108='?' (DbType = Boolean), @p109='?' (Size = 100), @p110='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p111='?' (DbType = Int32), @p112='?' (DbType = Int32), @p113='?' (DbType = DateTime2), @p114='?' (DbType = Guid), @p115='?' (DbType = Guid), @p116='?' (DbType = DateTime2), @p117='?' (Size = 500) (DbType = AnsiString), @p118='?' (DbType = Boolean), @p119='?' (Size = 100), @p120='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p121='?' (DbType = Int32), @p122='?' (DbType = Int32), @p123='?' (DbType = DateTime2), @p124='?' (DbType = Guid), @p125='?' (DbType = Guid), @p126='?' (DbType = DateTime2), @p127='?' (Size = 500) (DbType = AnsiString), @p128='?' (DbType = Boolean), @p129='?' (Size = 100), @p130='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p131='?' (DbType = Int32), @p132='?' (DbType = Int32), @p133='?' (DbType = DateTime2), @p134='?' (DbType = Guid), @p135='?' (DbType = Guid), @p136='?' (DbType = DateTime2), @p137='?' (Size = 500) (DbType = AnsiString), @p138='?' (DbType = Boolean), @p139='?' (Size = 100), @p140='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p141='?' (DbType = Int32), @p142='?' (DbType = Int32), @p143='?' (DbType = DateTime2), @p144='?' (DbType = Guid), @p145='?' (DbType = Guid), @p146='?' (DbType = DateTime2), @p147='?' (Size = 500) (DbType = AnsiString), @p148='?' (DbType = Boolean), @p149='?' (Size = 100), @p150='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p151='?' (DbType = Int32), @p152='?' (DbType = Int32), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = Guid), @p156='?' (DbType = DateTime2), @p157='?' (Size = 500) (DbType = AnsiString), @p158='?' (DbType = Boolean), @p159='?' (Size = 100), @p160='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p161='?' (DbType = Int32), @p162='?' (DbType = Int32), @p163='?' (DbType = DateTime2), @p164='?' (DbType = Guid), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (Size = 500) (DbType = AnsiString), @p168='?' (DbType = Boolean), @p169='?' (Size = 100), @p170='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p171='?' (DbType = Int32), @p172='?' (DbType = Int32), @p173='?' (DbType = DateTime2), @p174='?' (DbType = Guid), @p175='?' (DbType = Guid), @p176='?' (DbType = DateTime2), @p177='?' (Size = 500) (DbType = AnsiString), @p178='?' (DbType = Boolean), @p179='?' (Size = 100), @p180='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p181='?' (DbType = Int32), @p182='?' (DbType = Int32), @p183='?' (DbType = DateTime2), @p184='?' (DbType = Guid), @p185='?' (DbType = Guid), @p186='?' (DbType = DateTime2), @p187='?' (Size = 500) (DbType = AnsiString), @p188='?' (DbType = Boolean), @p189='?' (Size = 100), @p190='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p191='?' (DbType = Int32), @p192='?' (DbType = Int32), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Guid), @p195='?' (DbType = Guid), @p196='?' (DbType = DateTime2), @p197='?' (Size = 500) (DbType = AnsiString), @p198='?' (DbType = Boolean), @p199='?' (Size = 100), @p200='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p201='?' (DbType = Int32), @p202='?' (DbType = Int32), @p203='?' (DbType = DateTime2), @p204='?' (DbType = Guid), @p205='?' (DbType = Guid), @p206='?' (DbType = DateTime2), @p207='?' (Size = 500) (DbType = AnsiString), @p208='?' (DbType = Boolean), @p209='?' (Size = 100), @p210='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p211='?' (DbType = Int32), @p212='?' (DbType = Int32), @p213='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
MERGE [Products] USING (
VALUES (@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 0),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, 1),
(@p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, 2),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, 3),
(@p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, 4),
(@p64, @p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, 5),
(@p74, @p75, @p76, @p77, @p78, @p79, @p80, @p81, @p82, @p83, 6),
(@p84, @p85, @p86, @p87, @p88, @p89, @p90, @p91, @p92, @p93, 7),
(@p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, @p103, 8),
(@p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, 9),
(@p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, 10),
(@p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131, @p132, @p133, 11),
(@p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, 12),
(@p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153, 13),
(@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, 14),
(@p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 15),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, 16),
(@p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, 17),
(@p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, 18),
(@p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, 19)) AS i ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [Description], [IsService], [Name], [Price], [Quantity], [Status], [UpdatedAt])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[Description], i.[IsService], i.[Name], i.[Price], i.[Quantity], i.[Status], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-03 01:15:38.851 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 01:15:39.040 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 01:15:39.528 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 01:15:39.529 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:15:39.529 +02:00 [INF] Hosting environment: Development
2025-06-03 01:15:39.530 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 01:15:44.244 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 74
2025-06-03 01:15:44.654 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:15:44.715 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:15:44.802 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:15:44.8023240".
2025-06-03 01:15:44.945 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:15:45.258 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 01:15:45.261 +02:00 [INF] User "b2836060-4018-4847-b5f2-3844c898aaaa" (khaled.chami@pulseerp.com) successfully logged in from ::1 at "2025-06-03T01:15:44.8023240".
2025-06-03 01:15:45.262 +02:00 [INF] Generating access token for user "b2836060-4018-4847-b5f2-3844c898aaaa"
2025-06-03 01:15:45.294 +02:00 [INF] Generating refresh token for user "b2836060-4018-4847-b5f2-3844c898aaaa" from IP ::1
2025-06-03 01:15:45.349 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (DbType = Int32), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-03 01:15:45.428 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 01:15:45.430 +02:00 [INF] "Refresh" token added for user "b2836060-4018-4847-b5f2-3844c898aaaa", expires "2025-06-10T01:15:45.2965240" at "2025-06-03T01:15:45.4301310".
2025-06-03 01:15:45.442 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:15:45.498 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 774.2618ms
2025-06-03 01:15:45.509 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:15:45.535 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 1293.2196ms
2025-06-03 01:16:06.849 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 73
2025-06-03 01:16:06.854 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:06.871 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:16:06.884 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:16:06.8841380".
2025-06-03 01:16:06.993 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:16:07.249 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 01:16:07.250 +02:00 [WRN] Invalid login attempt for khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T01:16:06.8841380". FailedAttempts=1
2025-06-03 01:16:07.253 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 382.0123ms
2025-06-03 01:16:07.254 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:07.269 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:16:07.283 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 433.7909ms
2025-06-03 01:16:08.167 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 73
2025-06-03 01:16:08.171 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:08.172 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:16:08.183 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:16:08.1833960".
2025-06-03 01:16:08.187 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:16:08.388 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 01:16:08.388 +02:00 [WRN] Invalid login attempt for khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T01:16:08.1833960". FailedAttempts=2
2025-06-03 01:16:08.389 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 217.0145ms
2025-06-03 01:16:08.389 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:08.390 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:16:08.391 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 223.3911ms
2025-06-03 01:16:11.344 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 73
2025-06-03 01:16:11.345 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:11.345 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:16:11.347 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:16:11.3471460".
2025-06-03 01:16:11.358 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:16:11.568 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 01:16:11.569 +02:00 [WRN] Invalid login attempt for khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T01:16:11.3471460". FailedAttempts=3
2025-06-03 01:16:11.569 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 223.7244ms
2025-06-03 01:16:11.570 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:11.570 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:16:11.570 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 226.0182ms
2025-06-03 01:16:30.661 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 73
2025-06-03 01:16:30.662 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:30.663 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:16:30.664 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:16:30.6644480".
2025-06-03 01:16:30.684 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:16:30.925 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 01:16:30.925 +02:00 [INF] SECURITY WARNING: User khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa": next failed attempt will lock account. ("2025-06-03T01:16:30.6644480", Attempts=4)
2025-06-03 01:16:30.926 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 262.9768ms
2025-06-03 01:16:30.927 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:30.927 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:16:30.928 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 266.8548ms
2025-06-03 01:16:32.891 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 73
2025-06-03 01:16:32.892 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:32.892 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 01:16:32.893 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T01:16:32.8931370".
2025-06-03 01:16:32.897 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 01:16:33.088 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-03 01:16:35.540 +02:00 [INF] Email '🔒 Your Pulse ERP account is temporarily locked' sent to khaled.chami@pulseerp.com at "2025-06-02T23:16:35.5401850Z".
2025-06-03 01:16:35.541 +02:00 [ERR] LOCKOUT: User khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" locked out at "2025-06-03T01:16:32.8931370". LockoutEnd=01:31 (CEST), FailedAttempts=5
2025-06-03 01:16:35.542 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 2650.0986ms
2025-06-03 01:16:35.542 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 01:16:35.543 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:16:35.543 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 2652.1743ms
2025-06-03 01:16:49.077 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/Customers - null null
2025-06-03 01:16:49.107 +02:00 [INF] Executing endpoint 'CustomersController.GetAll (PulseERP.API)'
2025-06-03 01:16:49.128 +02:00 [INF] Route matched with {action = "GetAll", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Customers.Models.CustomerSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.CustomerFilter) on controller CustomersController (PulseERP.API).
2025-06-03 01:16:49.402 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Customers] AS [c]
2025-06-03 01:16:49.455 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[AssignedToUserId], [c].[CompanyName], [c].[CreatedAt], [c].[Email], [c].[FirstContactDate], [c].[FirstName], [c].[Industry], [c].[IsActive], [c].[IsVIP], [c].[LastInteractionDate], [c].[LastName], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdatedAt], [c].[City], [c].[Country], [c].[Street], [c].[PostalCode]
FROM [Customers] AS [c]
ORDER BY [c].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-03 01:16:49.478 +02:00 [INF] Retrieved 12 customers (page 1)
2025-06-03 01:16:49.481 +02:00 [INF] API: Customers list fetched with params: {"Search":null,"Status":null,"Type":null,"IsVIP":null,"AssignedToUserId":null,"PageNumber":1,"PageSize":12,"$type":"CustomerFilter"}
2025-06-03 01:16:49.484 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Customers.Models.CustomerSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:16:49.506 +02:00 [INF] Executed action CustomersController.GetAll (PulseERP.API) in 378.2854ms
2025-06-03 01:16:49.507 +02:00 [INF] Executed endpoint 'CustomersController.GetAll (PulseERP.API)'
2025-06-03 01:16:49.507 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/Customers - 200 null application/json; charset=utf-8 429.9042ms
2025-06-03 01:17:56.890 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/Customers/bc4f70af-8452-43a7-bd00-005ec877fac4 - application/json 96
2025-06-03 01:17:56.893 +02:00 [INF] Executing endpoint 'CustomersController.Update (PulseERP.API)'
2025-06-03 01:17:56.975 +02:00 [INF] Route matched with {action = "Update", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] Update(System.Guid, PulseERP.Application.Customers.Commands.UpdateCustomerCommand) on controller CustomersController (PulseERP.API).
2025-06-03 01:17:57.325 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[AssignedToUserId], [c].[CompanyName], [c].[CreatedAt], [c].[Email], [c].[FirstContactDate], [c].[FirstName], [c].[Industry], [c].[IsActive], [c].[IsVIP], [c].[LastInteractionDate], [c].[LastName], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdatedAt], [c].[City], [c].[Country], [c].[Street], [c].[PostalCode]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
2025-06-03 01:17:57.376 +02:00 [INF] Customer "bc4f70af-8452-43a7-bd00-005ec877fac4" updated in context
2025-06-03 01:17:57.404 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p20='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (Size = 100), @p11='?' (Size = 20), @p12='?' (Size = 4000), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Size = 50), @p17='?' (Size = 50), @p18='?' (Size = 100), @p19='?' (Size = 20)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Customers] SET [AssignedToUserId] = @p0, [CompanyName] = @p1, [CreatedAt] = @p2, [Email] = @p3, [FirstContactDate] = @p4, [FirstName] = @p5, [Industry] = @p6, [IsActive] = @p7, [IsVIP] = @p8, [LastInteractionDate] = @p9, [LastName] = @p10, [Phone] = @p11, [Source] = @p12, [Status] = @p13, [Type] = @p14, [UpdatedAt] = @p15, [City] = @p16, [Country] = @p17, [Street] = @p18, [PostalCode] = @p19
OUTPUT 1
WHERE [Id] = @p20;
2025-06-03 01:17:57.405 +02:00 [INF] Customer "bc4f70af-8452-43a7-bd00-005ec877fac4" updated
2025-06-03 01:17:57.412 +02:00 [INF] Customer updated: "bc4f70af-8452-43a7-bd00-005ec877fac4"
2025-06-03 01:17:57.413 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Customers.Models.CustomerDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:17:57.418 +02:00 [INF] Executed action CustomersController.Update (PulseERP.API) in 442.2044ms
2025-06-03 01:17:57.418 +02:00 [INF] Executed endpoint 'CustomersController.Update (PulseERP.API)'
2025-06-03 01:17:57.419 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/Customers/bc4f70af-8452-43a7-bd00-005ec877fac4 - 200 null application/json; charset=utf-8 529.0144ms
2025-06-03 01:18:11.198 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/Customers/bc4f70af-8452-43a7-bd00-005ec877fac4 - null null
2025-06-03 01:18:11.200 +02:00 [INF] Executing endpoint 'CustomersController.GetById (PulseERP.API)'
2025-06-03 01:18:11.206 +02:00 [INF] Route matched with {action = "GetById", controller = "Customers"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Customers.Models.CustomerDetails]]] GetById(System.Guid) on controller CustomersController (PulseERP.API).
2025-06-03 01:18:11.221 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [c].[Id], [c].[AssignedToUserId], [c].[CompanyName], [c].[CreatedAt], [c].[Email], [c].[FirstContactDate], [c].[FirstName], [c].[Industry], [c].[IsActive], [c].[IsVIP], [c].[LastInteractionDate], [c].[LastName], [c].[Phone], [c].[Source], [c].[Status], [c].[Type], [c].[UpdatedAt], [c].[City], [c].[Country], [c].[Street], [c].[PostalCode]
FROM [Customers] AS [c]
WHERE [c].[Id] = @__id_0
2025-06-03 01:18:11.226 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Customers.Models.CustomerDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:18:11.227 +02:00 [INF] Executed action CustomersController.GetById (PulseERP.API) in 20.453ms
2025-06-03 01:18:11.227 +02:00 [INF] Executed endpoint 'CustomersController.GetById (PulseERP.API)'
2025-06-03 01:18:11.228 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/Customers/bc4f70af-8452-43a7-bd00-005ec877fac4 - 200 null application/json; charset=utf-8 30.1912ms
2025-06-03 01:18:23.214 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-03 01:18:23.215 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:18:23.247 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:18:23.293 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-03 01:18:23.407 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 01:18:23.427 +02:00 [INF] Retrieved products list: 12 items
2025-06-03 01:18:23.428 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:18:23.440 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 192.6881ms
2025-06-03 01:18:23.440 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:18:23.441 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 227.6263ms
2025-06-03 01:18:40.012 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Brand=appl - null null
2025-06-03 01:18:40.013 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:18:40.015 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:18:40.063 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__brandFilter_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE LOWER([b].[Name]) LIKE @__brandFilter_0_contains ESCAPE N'\'
2025-06-03 01:18:40.089 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__brandFilter_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE LOWER([b].[Name]) LIKE @__brandFilter_0_contains ESCAPE N'\'
ORDER BY [p].[Name]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:18:40.090 +02:00 [INF] Retrieved products list: 1 items
2025-06-03 01:18:40.090 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:18:40.091 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 75.3283ms
2025-06-03 01:18:40.091 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:18:40.091 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Brand=appl - 200 null application/json; charset=utf-8 79.4265ms
2025-06-03 01:19:11.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Sort=priceDesc - null null
2025-06-03 01:19:11.605 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:19:11.606 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:19:11.726 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 120.0048ms
2025-06-03 01:19:11.728 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:19:11.738 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderByDescending(p => p.Price.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 69
   at PulseERP.Application.Services.ProductService.GetAllAsync(PaginationParams pagination, ProductFilter filter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 40
   at ProductsController.GetAll(PaginationParams paginationParams, ProductFilter productFilter) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 28
   at lambda_method828(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 01:19:11.803 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:19:11.804 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Sort=priceDesc - 500 null application/problem+json; charset=utf-8 212.0365ms
2025-06-03 01:20:55.495 +02:00 [INF] Application is shutting down...
2025-06-03 01:21:14.289 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 01:21:14.720 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:21:14.741 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:21:14.755 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:21:14.814 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 01:21:14.953 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 01:21:15.479 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 01:21:15.480 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:21:15.482 +02:00 [INF] Hosting environment: Development
2025-06-03 01:21:15.483 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 01:21:18.808 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Sort=priceDesc - null null
2025-06-03 01:21:19.080 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:21:19.161 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:21:19.637 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-03 01:21:19.831 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Price] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Price] DESC
2025-06-03 01:21:19.873 +02:00 [INF] Retrieved products list: 12 items
2025-06-03 01:21:19.884 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:21:19.954 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 781.4771ms
2025-06-03 01:21:19.962 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:21:19.986 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Sort=priceDesc - 200 null application/json; charset=utf-8 1190.2592ms
2025-06-03 01:21:33.209 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Sort=priceAsc - null null
2025-06-03 01:21:33.226 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:21:33.228 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:21:33.841 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-03 01:21:33.941 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Price]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Price]
2025-06-03 01:21:33.950 +02:00 [INF] Retrieved products list: 12 items
2025-06-03 01:21:33.952 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:21:33.957 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 727.3562ms
2025-06-03 01:21:33.958 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:21:33.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Sort=priceAsc - 200 null application/json; charset=utf-8 751.5162ms
2025-06-03 01:22:30.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Search=ap - null null
2025-06-03 01:22:30.094 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:22:30.095 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:22:30.280 +02:00 [INF] Executed DbCommand (54ms) [Parameters=[@__keyword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE CAST([p].[Name] AS nvarchar(max)) LIKE @__keyword_1 OR ([p].[Description] IS NOT NULL AND CAST([p].[Description] AS nvarchar(max)) LIKE @__keyword_1)
2025-06-03 01:22:30.320 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__keyword_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE CAST([p].[Name] AS nvarchar(max)) LIKE @__keyword_1 OR ([p].[Description] IS NOT NULL AND CAST([p].[Description] AS nvarchar(max)) LIKE @__keyword_1)
    ORDER BY [p].[Name]
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 01:22:30.322 +02:00 [INF] Retrieved products list: 3 items
2025-06-03 01:22:30.323 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:22:30.325 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 229.0558ms
2025-06-03 01:22:30.325 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:22:30.326 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Search=ap - 200 null application/json; charset=utf-8 251.3357ms
2025-06-03 01:23:06.655 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?IsActive=false - null null
2025-06-03 01:23:06.657 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:23:06.713 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-03 01:23:06.758 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__filter_IsActive_Value_0
2025-06-03 01:23:06.780 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__filter_IsActive_Value_0
ORDER BY [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:23:06.793 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:23:06.799 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 86.0082ms
2025-06-03 01:23:06.800 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:23:06.800 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?IsActive=false - 200 null application/json; charset=utf-8 144.9183ms
2025-06-03 01:23:16.002 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?IsActive=true - null null
2025-06-03 01:23:16.003 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:23:16.003 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-03 01:23:16.043 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__filter_IsActive_Value_0
2025-06-03 01:23:16.046 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__filter_IsActive_Value_0
ORDER BY [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:23:16.064 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:23:16.071 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 68.1263ms
2025-06-03 01:23:16.072 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:23:16.072 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?IsActive=true - 200 null application/json; charset=utf-8 69.9181ms
2025-06-03 01:23:36.264 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users/10fdfa31-068c-4178-a158-3ee712e85171/deactivate - null 0
2025-06-03 01:23:36.267 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-03 01:23:36.294 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-03 01:23:36.541 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-03 01:23:36.623 +02:00 [INF] User "10fdfa31-068c-4178-a158-3ee712e85171" updated at "2025-06-03T01:23:36.6231540+02:00".
2025-06-03 01:23:36.723 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p14='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 20), @p11='?' (DbType = Boolean), @p12='?' (Size = 50), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [Email] = @p1, [FailedLoginAttempts] = @p2, [FirstName] = @p3, [IsActive] = @p4, [LastLoginDate] = @p5, [LastName] = @p6, [LockoutEnd] = @p7, [PasswordHash] = @p8, [PasswordLastChangedAt] = @p9, [Phone] = @p10, [RequirePasswordChange] = @p11, [RoleName] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-06-03 01:23:36.741 +02:00 [INF] Deactivated user "10fdfa31-068c-4178-a158-3ee712e85171"
2025-06-03 01:23:36.742 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-03 01:23:36.744 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 448.8433ms
2025-06-03 01:23:36.744 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-03 01:23:36.744 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users/10fdfa31-068c-4178-a158-3ee712e85171/deactivate - 200 null application/json; charset=utf-8 479.8259ms
2025-06-03 01:23:44.130 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users?IsActive=false - null null
2025-06-03 01:23:44.131 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:23:44.131 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-03 01:23:44.135 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__filter_IsActive_Value_0
2025-06-03 01:23:44.174 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__filter_IsActive_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[IsActive] = @__filter_IsActive_Value_0
ORDER BY [u].[LastName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:23:44.175 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:23:44.176 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 44.3494ms
2025-06-03 01:23:44.176 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 01:23:44.177 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users?IsActive=false - 200 null application/json; charset=utf-8 46.2289ms
2025-06-03 01:24:08.797 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/brands - null null
2025-06-03 01:24:08.798 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-03 01:24:08.804 +02:00 [INF] Route matched with {action = "GetAll", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Brands.Models.BrandSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:24:08.829 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Brands] AS [b]
2025-06-03 01:24:08.891 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [b0].[Id], [b0].[CreatedAt], [b0].[IsActive], [b0].[Name], [b0].[UpdatedAt], [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
FROM (
    SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
    FROM [Brands] AS [b]
    ORDER BY [b].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [b0]
LEFT JOIN [Products] AS [p] ON [b0].[Id] = [p].[BrandId]
ORDER BY [b0].[Name], [b0].[Id]
2025-06-03 01:24:08.908 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:24:08.920 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API) in 115.1233ms
2025-06-03 01:24:08.920 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.GetAll (PulseERP.API)'
2025-06-03 01:24:08.920 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/brands - 200 null application/json; charset=utf-8 122.5205ms
2025-06-03 01:24:27.894 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - application/json 23
2025-06-03 01:24:27.898 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:24:27.913 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:24:27.962 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 01:24:27.999 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 01:24:28.037 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10a89ca2-694f-474b-951b-14e2d3a079fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10a89ca2-694f-474b-951b-14e2d3a079fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 01:24:28.042 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 129.1804ms
2025-06-03 01:24:28.042 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:24:28.056 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:10a89ca2-694f-474b-951b-14e2d3a079fa
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.BrandService.UpdateAsync(Guid id, UpdateBrandCommand command) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 37
   at PulseERP.API.Controllers.BrandsController.Update(Guid id, UpdateBrandCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 73
   at lambda_method499(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 01:24:28.073 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:24:28.082 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - 500 null application/problem+json; charset=utf-8 188.4255ms
2025-06-03 01:30:39.899 +02:00 [INF] Application is shutting down...
2025-06-03 01:31:15.174 +02:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 01:31:15.487 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:31:15.502 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:31:15.520 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 01:31:15.625 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 01:31:15.765 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 01:31:16.130 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 01:31:16.131 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 01:31:16.132 +02:00 [INF] Hosting environment: Development
2025-06-03 01:31:16.132 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 01:31:24.566 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - application/json 23
2025-06-03 01:31:24.695 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:31:24.731 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:31:25.129 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 01:31:25.147 +02:00 [INF] Brand "bdb39d18-5c96-4bda-a355-4b2917c61cb6" updated in context
2025-06-03 01:31:25.471 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 01:31:25.522 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7874e0f9-2905-4a94-9fa9-efa0630e7e75
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7874e0f9-2905-4a94-9fa9-efa0630e7e75
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 01:31:25.543 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 801.1675ms
2025-06-03 01:31:25.553 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:31:25.580 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7874e0f9-2905-4a94-9fa9-efa0630e7e75
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.BrandService.UpdateAsync(Guid id, UpdateBrandCommand command) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 37
   at PulseERP.API.Controllers.BrandsController.Update(Guid id, UpdateBrandCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 73
   at lambda_method101(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 01:31:25.647 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:31:25.729 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - 500 null application/problem+json; charset=utf-8 1164.2458ms
2025-06-03 01:32:32.398 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - application/json 24
2025-06-03 01:32:32.472 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:32:32.482 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:32:32.704 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 01:32:32.707 +02:00 [INF] Brand "bdb39d18-5c96-4bda-a355-4b2917c61cb6" updated in context
2025-06-03 01:32:32.764 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 01:32:32.793 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:32:32.818 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 327.7525ms
2025-06-03 01:32:32.818 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:32:32.820 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - 200 null application/json; charset=utf-8 422.4271ms
2025-06-03 01:32:43.989 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Search=ap - null null
2025-06-03 01:32:44.030 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:32:44.054 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:32:44.193 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__keyword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE CAST([p].[Name] AS nvarchar(max)) LIKE @__keyword_1 OR ([p].[Description] IS NOT NULL AND CAST([p].[Description] AS nvarchar(max)) LIKE @__keyword_1)
2025-06-03 01:32:44.276 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__keyword_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE CAST([p].[Name] AS nvarchar(max)) LIKE @__keyword_1 OR ([p].[Description] IS NOT NULL AND CAST([p].[Description] AS nvarchar(max)) LIKE @__keyword_1)
    ORDER BY [p].[Name]
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 01:32:44.306 +02:00 [INF] Retrieved products list: 3 items
2025-06-03 01:32:44.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:32:44.317 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 262.782ms
2025-06-03 01:32:44.318 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:32:44.319 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Search=ap - 200 null application/json; charset=utf-8 330.1721ms
2025-06-03 01:33:08.939 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Brand=sam - null null
2025-06-03 01:33:08.941 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:33:08.941 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 01:33:08.964 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__brandFilter_0_contains='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE LOWER([b].[Name]) LIKE @__brandFilter_0_contains ESCAPE N'\'
2025-06-03 01:33:08.987 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__brandFilter_0_contains='?' (Size = 100), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE LOWER([b].[Name]) LIKE @__brandFilter_0_contains ESCAPE N'\'
ORDER BY [p].[Name]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
2025-06-03 01:33:08.988 +02:00 [INF] Retrieved products list: 3 items
2025-06-03 01:33:08.989 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:33:08.990 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 48.7502ms
2025-06-03 01:33:08.990 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 01:33:08.991 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Brand=sam - 200 null application/json; charset=utf-8 51.0462ms
2025-06-03 01:33:54.973 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - application/json 25
2025-06-03 01:33:54.974 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:33:54.974 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:33:54.982 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 01:33:54.983 +02:00 [INF] Brand "bdb39d18-5c96-4bda-a355-4b2917c61cb6" updated in context
2025-06-03 01:33:55.003 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 01:33:55.005 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 01:33:55.006 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 31.0389ms
2025-06-03 01:33:55.006 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:33:55.007 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/bdb39d18-5c96-4bda-a355-4b2917c61cb6 - 200 null application/json; charset=utf-8 33.7372ms
2025-06-03 01:34:02.284 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 25
2025-06-03 01:34:02.285 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:34:02.285 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 01:34:02.323 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 01:34:02.323 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 01:34:02.346 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 01:34:02.352 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Dinotopia).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7874e0f9-2905-4a94-9fa9-efa0630e7e75
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Dinotopia).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7874e0f9-2905-4a94-9fa9-efa0630e7e75
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 01:34:02.355 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 69.663ms
2025-06-03 01:34:02.355 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 01:34:02.356 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Dinotopia).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7874e0f9-2905-4a94-9fa9-efa0630e7e75
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.BrandService.UpdateAsync(Guid id, UpdateBrandCommand command) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 37
   at PulseERP.API.Controllers.BrandsController.Update(Guid id, UpdateBrandCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 73
   at lambda_method101(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 01:34:02.360 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 01:34:02.361 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 500 null application/problem+json; charset=utf-8 76.8407ms
2025-06-03 02:01:05.520 +02:00 [INF] Application is shutting down...
2025-06-03 02:01:43.018 +02:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 02:01:43.380 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:01:43.394 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:01:43.406 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:01:43.474 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 02:01:43.749 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 02:01:44.235 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 02:01:44.236 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 02:01:44.237 +02:00 [INF] Hosting environment: Development
2025-06-03 02:01:44.237 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 02:02:03.497 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 25
2025-06-03 02:02:03.744 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:02:03.808 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:02:04.716 +02:00 [INF] Attempting to update brand (Id: "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0") with new name: Dinotopia
2025-06-03 02:02:05.348 +02:00 [INF] Executed DbCommand (148ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:02:05.658 +02:00 [INF] Executed DbCommand (137ms) [Parameters=[@__normalized_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0 AND [b].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:02:05.660 +02:00 [WRN] Brand update failed: name 'Dinotopia' already exists for another brand.
2025-06-03 02:02:05.687 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 1866.241ms
2025-06-03 02:02:05.703 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:02:05.729 +02:00 [ERR] An unhandled exception has occurred while executing the request.
PulseERP.Domain.Errors.ConflictException: Brand update failed: name 'Dinotopia' already exists for another brand.
   at PulseERP.Application.Services.BrandService.UpdateAsync(Guid id, UpdateBrandCommand command) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 87
   at PulseERP.API.Controllers.BrandsController.Update(Guid id, UpdateBrandCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 73
   at lambda_method103(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 02:02:05.785 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 02:02:05.841 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 500 null application/problem+json; charset=utf-8 2347.8621ms
2025-06-03 02:02:17.328 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 23
2025-06-03 02:02:17.332 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:02:17.333 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:02:17.339 +02:00 [INF] Attempting to update brand (Id: "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0") with new name: Kouloss
2025-06-03 02:02:17.441 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:02:17.448 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0 AND [b].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:02:17.459 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 02:02:17.817 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 02:02:17.836 +02:00 [INF] Brand (Id: "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0") renamed to 'Kouloss' successfully
2025-06-03 02:02:17.855 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:02:17.874 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 540.957ms
2025-06-03 02:02:17.874 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:02:17.877 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 200 null application/json; charset=utf-8 548.9301ms
2025-06-03 02:02:23.131 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 23
2025-06-03 02:02:23.135 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:02:23.136 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:02:23.141 +02:00 [INF] Attempting to update brand (Id: "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0") with new name: Kouloss
2025-06-03 02:02:23.147 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:02:23.151 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100), @__excludeId_Value_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Brands] AS [b]
        WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0 AND [b].[Id] <> @__excludeId_Value_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:02:23.152 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 02:02:23.185 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 02:02:23.185 +02:00 [INF] Brand (Id: "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0") renamed to 'Kouloss' successfully
2025-06-03 02:02:23.186 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:02:23.187 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 51.0813ms
2025-06-03 02:02:23.187 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:02:23.188 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 200 null application/json; charset=utf-8 56.1115ms
2025-06-03 02:02:51.378 +02:00 [INF] Application is shutting down...
2025-06-03 02:03:21.449 +02:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 02:03:21.791 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:03:21.803 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:03:21.813 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:03:21.891 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 02:03:22.034 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 02:03:22.428 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 02:03:22.429 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 02:03:22.430 +02:00 [INF] Hosting environment: Development
2025-06-03 02:03:22.430 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 02:03:52.375 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 23
2025-06-03 02:03:52.464 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:03:52.486 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:03:52.803 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:03:52.817 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 02:03:53.051 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 02:03:53.081 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:03:53.118 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 627.1703ms
2025-06-03 02:03:53.123 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:03:53.136 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 200 null application/json; charset=utf-8 762.4381ms
2025-06-03 02:03:58.230 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 23
2025-06-03 02:03:58.235 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:03:58.235 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:03:58.324 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:03:58.324 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 02:03:58.331 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 02:03:58.333 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:03:58.333 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 97.5851ms
2025-06-03 02:03:58.334 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:03:58.334 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 200 null application/json; charset=utf-8 103.5176ms
2025-06-03 02:09:04.173 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 23
2025-06-03 02:09:04.227 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:09:04.230 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:09:04.332 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:09:04.336 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 02:09:04.613 +02:00 [INF] Executed DbCommand (211ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 02:09:04.628 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Brands.Models.BrandSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:09:04.663 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 430.9746ms
2025-06-03 02:09:04.667 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:09:04.687 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 200 null application/json; charset=utf-8 496.907ms
2025-06-03 02:09:19.829 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - application/json 23
2025-06-03 02:09:19.831 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:09:19.832 +02:00 [INF] Route matched with {action = "Update", controller = "Brands"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Brands.Models.BrandSummary]]] Update(System.Guid, PulseERP.Application.Brands.Commands.UpdateBrandCommand) on controller PulseERP.API.Controllers.BrandsController (PulseERP.API).
2025-06-03 02:09:19.941 +02:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Id] = @__id_0
2025-06-03 02:09:19.943 +02:00 [INF] Brand "ad3c0d75-20bd-4e92-891e-cc2a1fe262f0" updated in context
2025-06-03 02:09:20.068 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [IsActive] = @p1, [Name] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 02:09:20.192 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'PulseERP.Infrastructure.Database.CoreDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9954eec4-886c-4494-ae29-2e8b410526b1
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9954eec4-886c-4494-ae29-2e8b410526b1
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-06-03 02:09:20.212 +02:00 [INF] Executed action PulseERP.API.Controllers.BrandsController.Update (PulseERP.API) in 379.1991ms
2025-06-03 02:09:20.214 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.BrandsController.Update (PulseERP.API)'
2025-06-03 02:09:20.249 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Brands' with unique index 'IX_Brands_Name'. The duplicate key value is (Samsung).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9954eec4-886c-4494-ae29-2e8b410526b1
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.BrandService.UpdateAsync(Guid id, UpdateBrandCommand command) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/BrandService.cs:line 37
   at PulseERP.API.Controllers.BrandsController.Update(Guid id, UpdateBrandCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/BrandsController.cs:line 73
   at lambda_method103(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 02:09:20.304 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 02:09:20.341 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/brands/ad3c0d75-20bd-4e92-891e-cc2a1fe262f0 - 500 null application/problem+json; charset=utf-8 511.1768ms
2025-06-03 02:09:31.186 +02:00 [INF] Application is shutting down...
2025-06-03 02:14:49.457 +02:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 02:14:49.832 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:14:49.845 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:14:49.853 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:14:49.915 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 02:14:50.056 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 02:14:50.434 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 02:14:50.435 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 02:14:50.436 +02:00 [INF] Hosting environment: Development
2025-06-03 02:14:50.437 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 02:16:21.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-03 02:16:22.137 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 151.0862ms
2025-06-03 02:16:22.811 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-03 02:16:23.095 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.5409ms
2025-06-03 02:16:30.771 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-03 02:16:30.829 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 02:16:30.888 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 02:16:31.214 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-03 02:16:31.372 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 02:16:31.405 +02:00 [INF] Retrieved products list: 12 items
2025-06-03 02:16:31.414 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:16:31.458 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 565.1111ms
2025-06-03 02:16:31.459 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 02:16:31.471 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 699.8794ms
2025-06-03 02:16:51.298 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 126
2025-06-03 02:16:51.311 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:16:51.324 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 02:16:51.518 +02:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 02:16:51.547 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 02:16:51.858 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 02:16:51.885 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 560.524ms
2025-06-03 02:16:51.887 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:16:51.896 +02:00 [ERR] An unhandled exception has occurred while executing the request.
PulseERP.Domain.Errors.DomainException: Price must be positive.
   at PulseERP.Domain.Entities.Product.UpdateDetails(String name, String description, Nullable`1 price, Nullable`1 isService) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Domain/Entities/Product.cs:line 144
   at PulseERP.Application.Services.ProductService.UpdateAsync(Guid id, UpdateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 114
   at ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 79
   at lambda_method157(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 02:16:51.926 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 02:16:51.934 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 500 null application/problem+json; charset=utf-8 635.3799ms
2025-06-03 02:17:03.568 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 126
2025-06-03 02:17:03.572 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:17:03.572 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 02:17:03.586 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 02:17:03.589 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 02:17:03.642 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated in context
2025-06-03 02:17:03.732 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [IsActive] = @p3, [IsService] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [Status] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-06-03 02:17:03.737 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated
2025-06-03 02:17:03.761 +02:00 [INF] Product updated: "fdda5a91-e34b-46bf-bd09-8a1543786a55"
2025-06-03 02:17:03.762 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:17:03.772 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 199.7132ms
2025-06-03 02:17:03.772 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:17:03.772 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 200 null application/json; charset=utf-8 204.4868ms
2025-06-03 02:17:31.298 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 138
2025-06-03 02:17:31.299 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:17:31.300 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 02:17:31.305 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 02:17:31.312 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 02:17:31.323 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3);
2025-06-03 02:17:31.330 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated in context
2025-06-03 02:17:31.339 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [IsActive] = @p3, [IsService] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [Status] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-06-03 02:17:31.339 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated
2025-06-03 02:17:31.340 +02:00 [INF] Product updated: "fdda5a91-e34b-46bf-bd09-8a1543786a55"
2025-06-03 02:17:31.341 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 02:17:31.342 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 42.0679ms
2025-06-03 02:17:31.342 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:17:31.343 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 200 null application/json; charset=utf-8 45.1936ms
2025-06-03 02:17:36.390 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 138
2025-06-03 02:17:36.390 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:17:36.391 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 02:17:36.394 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 02:17:36.399 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 02:17:36.406 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 14.6569ms
2025-06-03 02:17:36.406 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 02:17:36.408 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'Brand' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at PulseERP.Infrastructure.Repositories.ProductRepository.UpdateAsync(Product product) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 105
   at PulseERP.Application.Services.ProductService.UpdateAsync(Guid id, UpdateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 139
   at ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 79
   at lambda_method157(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 02:17:36.413 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 02:17:36.414 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 500 null application/problem+json; charset=utf-8 23.781ms
2025-06-03 02:58:38.131 +02:00 [INF] Application is shutting down...
2025-06-03 02:59:04.282 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 02:59:04.590 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:59:04.602 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:59:04.612 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 02:59:04.679 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 02:59:04.792 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 02:59:05.116 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 02:59:05.117 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 02:59:05.118 +02:00 [INF] Hosting environment: Development
2025-06-03 02:59:05.118 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 03:18:46.438 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-03 03:18:46.715 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 287.0148ms
2025-06-03 03:18:47.332 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-03 03:18:47.556 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 223.6591ms
2025-06-03 03:18:56.681 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-03 03:18:56.737 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 03:18:56.779 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 03:18:57.196 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-03 03:18:57.350 +02:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 03:18:57.379 +02:00 [INF] Retrieved products list: 12 items
2025-06-03 03:18:57.387 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:18:57.425 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 639.6431ms
2025-06-03 03:18:57.425 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 03:18:57.435 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 753.6566ms
2025-06-03 03:19:09.085 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?Search=tar - null null
2025-06-03 03:19:09.088 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 03:19:09.089 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 03:19:09.210 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__keyword_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE CAST([p].[Name] AS nvarchar(max)) LIKE @__keyword_1 OR ([p].[Description] IS NOT NULL AND CAST([p].[Description] AS nvarchar(max)) LIKE @__keyword_1)
2025-06-03 03:19:09.238 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__keyword_1='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    WHERE CAST([p].[Name] AS nvarchar(max)) LIKE @__keyword_1 OR ([p].[Description] IS NOT NULL AND CAST([p].[Description] AS nvarchar(max)) LIKE @__keyword_1)
    ORDER BY [p].[Name]
    OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 03:19:09.240 +02:00 [INF] Retrieved products list: 1 items
2025-06-03 03:19:09.241 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:19:09.242 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 152.473ms
2025-06-03 03:19:09.242 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 03:19:09.242 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?Search=tar - 200 null application/json; charset=utf-8 157.5564ms
2025-06-03 03:19:35.727 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 140
2025-06-03 03:19:35.732 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:19:35.746 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 03:19:35.806 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 03:19:35.824 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 03:19:35.906 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 160.4503ms
2025-06-03 03:19:35.907 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:19:35.923 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The instance of entity type 'Brand' cannot be tracked because another instance with the same key value for {'Id'} is already being tracked. When attaching existing entities, ensure that only one entity instance with a given key value is attached. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see the conflicting key values.
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.ThrowIdentityConflict(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry, Boolean updateDuplicate)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(TKey key, InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IdentityMap`1.Add(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.StartTracking(InternalEntityEntry entry)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey, Nullable`1 fallbackState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Update(TEntity entity)
   at PulseERP.Infrastructure.Repositories.ProductRepository.UpdateAsync(Product product) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 105
   at PulseERP.Application.Services.ProductService.UpdateAsync(Guid id, UpdateProductCommand cmd) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.Application/Services/ProductService.cs:line 142
   at ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 79
   at lambda_method191(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-03 03:19:35.980 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:19:35.993 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 500 null application/problem+json; charset=utf-8 266.4318ms
2025-06-03 03:21:38.248 +02:00 [INF] Application is shutting down...
2025-06-03 03:22:00.632 +02:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 03:22:00.964 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 03:22:00.972 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 03:22:00.981 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 03:22:01.025 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 03:22:01.125 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 03:22:01.399 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 03:22:01.400 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 03:22:01.401 +02:00 [INF] Hosting environment: Development
2025-06-03 03:22:01.401 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 03:22:07.672 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 140
2025-06-03 03:22:07.742 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:07.760 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 03:22:08.114 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 03:22:08.192 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 03:22:08.203 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated in context
2025-06-03 03:22:08.538 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [IsActive] = @p3, [IsService] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [Status] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-06-03 03:22:08.552 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated
2025-06-03 03:22:08.561 +02:00 [INF] Product updated: "fdda5a91-e34b-46bf-bd09-8a1543786a55"
2025-06-03 03:22:08.568 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:22:08.600 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 836.1127ms
2025-06-03 03:22:08.606 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:08.614 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 200 null application/json; charset=utf-8 943.9845ms
2025-06-03 03:22:12.185 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 140
2025-06-03 03:22:12.189 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:12.190 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 03:22:12.282 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 03:22:12.287 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE LOWER(LTRIM(RTRIM([b].[Name]))) = @__normalized_0
2025-06-03 03:22:12.287 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated in context
2025-06-03 03:22:12.302 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [IsActive] = @p3, [IsService] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [Status] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-06-03 03:22:12.303 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated
2025-06-03 03:22:12.304 +02:00 [INF] Product updated: "fdda5a91-e34b-46bf-bd09-8a1543786a55"
2025-06-03 03:22:12.305 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:22:12.306 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 106.1979ms
2025-06-03 03:22:12.306 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:12.307 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 200 null application/json; charset=utf-8 121.4818ms
2025-06-03 03:22:29.468 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 27
2025-06-03 03:22:29.473 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:29.473 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 03:22:29.488 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 03:22:29.489 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated in context
2025-06-03 03:22:29.499 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [IsActive] = @p3, [IsService] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [Status] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-06-03 03:22:29.500 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated
2025-06-03 03:22:29.500 +02:00 [INF] Product updated: "fdda5a91-e34b-46bf-bd09-8a1543786a55"
2025-06-03 03:22:29.500 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:22:29.500 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 26.9847ms
2025-06-03 03:22:29.500 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:29.501 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 200 null application/json; charset=utf-8 32.271ms
2025-06-03 03:22:46.553 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - application/json 24
2025-06-03 03:22:46.554 +02:00 [INF] Executing endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:46.555 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Application.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Application.Products.Commands.UpdateProductCommand) on controller ProductsController (PulseERP.API).
2025-06-03 03:22:46.579 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
WHERE [p].[Id] = @__id_0
2025-06-03 03:22:46.587 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated in context
2025-06-03 03:22:46.602 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@p10='?' (DbType = Guid), @p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 500) (DbType = AnsiString), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 100), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [BrandId] = @p0, [CreatedAt] = @p1, [Description] = @p2, [IsActive] = @p3, [IsService] = @p4, [Name] = @p5, [Price] = @p6, [Quantity] = @p7, [Status] = @p8, [UpdatedAt] = @p9
OUTPUT 1
WHERE [Id] = @p10;
2025-06-03 03:22:46.603 +02:00 [INF] Product "fdda5a91-e34b-46bf-bd09-8a1543786a55" updated
2025-06-03 03:22:46.603 +02:00 [INF] Product updated: "fdda5a91-e34b-46bf-bd09-8a1543786a55"
2025-06-03 03:22:46.603 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Application.Products.Models.ProductDetails, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:22:46.604 +02:00 [INF] Executed action ProductsController.Update (PulseERP.API) in 48.8743ms
2025-06-03 03:22:46.604 +02:00 [INF] Executed endpoint 'ProductsController.Update (PulseERP.API)'
2025-06-03 03:22:46.604 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/fdda5a91-e34b-46bf-bd09-8a1543786a55 - 200 null application/json; charset=utf-8 51.5833ms
2025-06-03 03:54:48.381 +02:00 [INF] Application is shutting down...
2025-06-03 03:55:21.029 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-03 03:55:21.474 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 03:55:21.576 +02:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 03:55:21.596 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-03 03:55:21.724 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-03 03:55:21.965 +02:00 [INF] User profile is available. Using '/Users/inesmekkaoui/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-03 03:55:22.720 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-03 03:55:22.721 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-03 03:55:22.723 +02:00 [INF] Hosting environment: Development
2025-06-03 03:55:22.724 +02:00 [INF] Content root path: /Users/inesmekkaoui/Desktop/PulseERP/PulseERP.API
2025-06-03 03:55:32.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-03 03:55:32.938 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 152.8402ms
2025-06-03 03:55:33.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-03 03:55:33.886 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 282.7501ms
2025-06-03 03:55:42.202 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-03 03:55:42.289 +02:00 [INF] Executing endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 03:55:42.331 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Pagination.PaginationParams, PulseERP.Abstractions.Common.Filters.ProductFilter) on controller ProductsController (PulseERP.API).
2025-06-03 03:55:42.772 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-03 03:55:42.980 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[Description], [p0].[IsActive], [p0].[IsService], [p0].[Name], [p0].[Price], [p0].[Quantity], [p0].[Status], [p0].[UpdatedAt], [b].[Id], [b].[CreatedAt], [b].[IsActive], [b].[Name], [b].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[Description], [p].[IsActive], [p].[IsService], [p].[Name], [p].[Price], [p].[Quantity], [p].[Status], [p].[UpdatedAt]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
ORDER BY [p0].[Name]
2025-06-03 03:55:42.993 +02:00 [INF] Fetched 12 products (page 1)
2025-06-03 03:55:43.011 +02:00 [INF] Retrieved products list: 12 items
2025-06-03 03:55:43.020 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Products.Models.ProductSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:55:43.077 +02:00 [INF] Executed action ProductsController.GetAll (PulseERP.API) in 738.2699ms
2025-06-03 03:55:43.078 +02:00 [INF] Executed endpoint 'ProductsController.GetAll (PulseERP.API)'
2025-06-03 03:55:43.088 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 886.6746ms
2025-06-03 03:56:00.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-03 03:56:00.376 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 03:56:00.392 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Application.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-03 03:56:00.606 +02:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-03 03:56:00.713 +02:00 [INF] Executed DbCommand (79ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-03 03:56:00.750 +02:00 [INF] Retrieved 5 users (filter: {"Search":null,"Role":null,"IsActive":null,"Sort":null,"PageNumber":1,"PageSize":12,"$type":"UserFilter"})
2025-06-03 03:56:00.788 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Application.Users.Models.UserSummary, PulseERP.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:56:00.836 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 443.9786ms
2025-06-03 03:56:00.837 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-03 03:56:00.840 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 468.2768ms
2025-06-03 03:56:34.694 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 74
2025-06-03 03:56:34.728 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:56:34.741 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:56:34.784 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:56:34.7839350".
2025-06-03 03:56:34.853 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:56:35.455 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@p4='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LastLoginDate] = @p1, [LockoutEnd] = @p2, [UpdatedAt] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2025-06-03 03:56:35.473 +02:00 [INF] User "b2836060-4018-4847-b5f2-3844c898aaaa" (khaled.chami@pulseerp.com) successfully logged in from ::1 at "2025-06-03T03:56:34.7839350".
2025-06-03 03:56:35.474 +02:00 [INF] Generating access token for user "b2836060-4018-4847-b5f2-3844c898aaaa"
2025-06-03 03:56:35.528 +02:00 [INF] Generating refresh token for user "b2836060-4018-4847-b5f2-3844c898aaaa" from IP ::1
2025-06-03 03:56:35.746 +02:00 [INF] Executed DbCommand (160ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (DbType = Int32), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-03 03:56:35.835 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [Revoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-06-03 03:56:35.837 +02:00 [INF] Revoked all "Refresh" tokens for user "b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T03:56:35.8371400".
2025-06-03 03:56:35.904 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 03:56:35.905 +02:00 [INF] "Refresh" token added for user "b2836060-4018-4847-b5f2-3844c898aaaa", expires "2025-06-10T03:56:35.5305970" at "2025-06-03T03:56:35.9054070".
2025-06-03 03:56:35.906 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:56:35.916 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1174.7342ms
2025-06-03 03:56:35.916 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:56:35.916 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 1222.4558ms
2025-06-03 03:56:47.265 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 75
2025-06-03 03:56:47.267 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:56:47.267 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:56:47.270 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:56:47.2709610".
2025-06-03 03:56:47.281 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:56:47.606 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:56:47.607 +02:00 [WRN] Invalid login attempt for khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T03:56:47.2709610". FailedAttempts=1
2025-06-03 03:56:47.609 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 341.4568ms
2025-06-03 03:56:47.610 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:56:47.620 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:56:47.633 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 367.8378ms
2025-06-03 03:56:59.778 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 75
2025-06-03 03:56:59.779 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:56:59.779 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:56:59.787 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:56:59.7872670".
2025-06-03 03:56:59.793 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:56:59.983 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:56:59.983 +02:00 [WRN] Invalid login attempt for khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T03:56:59.7872670". FailedAttempts=2
2025-06-03 03:56:59.984 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 204.89ms
2025-06-03 03:56:59.984 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:56:59.985 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:56:59.985 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 207.0444ms
2025-06-03 03:57:00.906 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 75
2025-06-03 03:57:00.906 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:57:00.907 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:57:00.927 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:57:00.9271990".
2025-06-03 03:57:00.937 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:57:01.134 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:57:01.134 +02:00 [WRN] Invalid login attempt for khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" at "2025-06-03T03:57:00.9271990". FailedAttempts=3
2025-06-03 03:57:01.135 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 209.5514ms
2025-06-03 03:57:01.135 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:57:01.136 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:57:01.136 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 229.8712ms
2025-06-03 03:57:01.983 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 75
2025-06-03 03:57:01.983 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:57:01.984 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:57:01.984 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:57:01.9845850".
2025-06-03 03:57:01.989 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:57:02.182 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:57:02.183 +02:00 [INF] SECURITY WARNING: User khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa": next failed attempt will lock account. ("2025-06-03T03:57:01.9845850", Attempts=4)
2025-06-03 03:57:02.183 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 199.6866ms
2025-06-03 03:57:02.183 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:57:02.184 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:57:02.184 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 201.0376ms
2025-06-03 03:57:04.941 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 75
2025-06-03 03:57:04.943 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:57:04.943 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:57:04.944 +02:00 [INF] Login attempt for khaled.chami@pulseerp.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:57:04.9444230".
2025-06-03 03:57:04.948 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:57:05.149 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-03 03:57:08.346 +02:00 [INF] Email '🔒 Your Pulse ERP account is temporarily locked' sent to khaled.chami@pulseerp.com at "2025-06-03T01:57:08.3460870Z".
2025-06-03 03:57:08.347 +02:00 [ERR] LOCKOUT: User khaled.chami@pulseerp.com, UserId="b2836060-4018-4847-b5f2-3844c898aaaa" locked out at "2025-06-03T03:57:04.9444230". LockoutEnd=04:12 (CEST), FailedAttempts=5
2025-06-03 03:57:08.348 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 3404.513ms
2025-06-03 03:57:08.348 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:57:08.348 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:57:08.349 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 3408.1336ms
2025-06-03 03:57:54.714 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/register - application/json 154
2025-06-03 03:57:54.717 +02:00 [INF] Executing endpoint 'AuthenticationController.Register (PulseERP.API)'
2025-06-03 03:57:54.722 +02:00 [INF] Route matched with {action = "Register", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Register(PulseERP.Domain.Security.DTOs.RegisterRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:57:54.780 +02:00 [INF] User registration START: Email=koumayl.messaoudi@gmail.com, IP=, UA=, At="2025-06-03T03:57:54.7801000"
2025-06-03 03:57:54.962 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:57:55.147 +02:00 [INF] User "c9c9603d-3954-478c-bbb5-88339e7edb6e" created at "2025-06-03T03:57:55.1466550+02:00".
2025-06-03 03:57:55.180 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p8='?' (Size = 4000), @p9='?' (DbType = DateTime2), @p10='?' (Size = 20), @p11='?' (DbType = Boolean), @p12='?' (Size = 50), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [Email], [FailedLoginAttempts], [FirstName], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [Phone], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-06-03 03:57:56.261 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumayl.messaoudi@gmail.com at "2025-06-03T01:57:56.2614530Z".
2025-06-03 03:57:56.262 +02:00 [INF] User "c9c9603d-3954-478c-bbb5-88339e7edb6e" (koumayl.messaoudi@gmail.com) registered successfully from IP=, UA=, At="2025-06-03T03:57:56.2620500". Duration=1481.97ms
2025-06-03 03:57:56.262 +02:00 [INF] Generating access token for user "c9c9603d-3954-478c-bbb5-88339e7edb6e"
2025-06-03 03:57:56.264 +02:00 [INF] Generating refresh token for user "c9c9603d-3954-478c-bbb5-88339e7edb6e" from IP 
2025-06-03 03:57:56.271 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (DbType = Int32), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-03 03:57:56.306 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 03:57:56.306 +02:00 [INF] "Refresh" token added for user "c9c9603d-3954-478c-bbb5-88339e7edb6e", expires "2025-06-10T03:57:56.2651120" at "2025-06-03T03:57:56.3064310".
2025-06-03 03:57:56.307 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:57:56.307 +02:00 [INF] Executed action AuthenticationController.Register (PulseERP.API) in 1584.115ms
2025-06-03 03:57:56.307 +02:00 [INF] Executed endpoint 'AuthenticationController.Register (PulseERP.API)'
2025-06-03 03:57:56.308 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/register - 200 null application/json; charset=utf-8 1593.3034ms
2025-06-03 03:58:09.577 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 77
2025-06-03 03:58:09.579 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:09.579 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:58:09.580 +02:00 [INF] Login attempt for koumayl.messaoudi@gmail.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:58:09.5801060".
2025-06-03 03:58:09.583 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:58:09.781 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:58:09.782 +02:00 [INF] User "c9c9603d-3954-478c-bbb5-88339e7edb6e" (koumayl.messaoudi@gmail.com) successfully logged in from ::1 at "2025-06-03T03:58:09.5801060".
2025-06-03 03:58:09.782 +02:00 [INF] Generating access token for user "c9c9603d-3954-478c-bbb5-88339e7edb6e"
2025-06-03 03:58:09.783 +02:00 [INF] Generating refresh token for user "c9c9603d-3954-478c-bbb5-88339e7edb6e" from IP ::1
2025-06-03 03:58:09.785 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (DbType = Int32), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[Expires], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-03 03:58:09.792 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [Revoked] = @p0
OUTPUT 1
WHERE [Id] = @p1;
2025-06-03 03:58:09.792 +02:00 [INF] Revoked all "Refresh" tokens for user "c9c9603d-3954-478c-bbb5-88339e7edb6e" at "2025-06-03T03:58:09.7927870".
2025-06-03 03:58:09.797 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedByIp], [CreatedByUserAgent], [Expires], [Revoked], [Token], [TokenType], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-06-03 03:58:09.798 +02:00 [INF] "Refresh" token added for user "c9c9603d-3954-478c-bbb5-88339e7edb6e", expires "2025-06-10T03:58:09.7833710" at "2025-06-03T03:58:09.7983910".
2025-06-03 03:58:09.798 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-03 03:58:09.799 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 219.5742ms
2025-06-03 03:58:09.799 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:09.799 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 200 null application/json; charset=utf-8 221.702ms
2025-06-03 03:58:16.765 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 78
2025-06-03 03:58:16.765 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:16.765 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:58:16.766 +02:00 [INF] Login attempt for koumayl.messaoudi@gmail.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:58:16.7665930".
2025-06-03 03:58:16.770 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:58:17.011 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:58:17.012 +02:00 [WRN] Invalid login attempt for koumayl.messaoudi@gmail.com, UserId="c9c9603d-3954-478c-bbb5-88339e7edb6e" at "2025-06-03T03:58:16.7665930". FailedAttempts=1
2025-06-03 03:58:17.012 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 246.5561ms
2025-06-03 03:58:17.012 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:17.013 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:58:17.014 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 248.8032ms
2025-06-03 03:58:19.586 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 78
2025-06-03 03:58:19.587 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:19.587 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:58:19.588 +02:00 [INF] Login attempt for koumayl.messaoudi@gmail.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:58:19.5886010".
2025-06-03 03:58:19.601 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:58:19.817 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:58:19.817 +02:00 [WRN] Invalid login attempt for koumayl.messaoudi@gmail.com, UserId="c9c9603d-3954-478c-bbb5-88339e7edb6e" at "2025-06-03T03:58:19.5886010". FailedAttempts=2
2025-06-03 03:58:19.818 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 230.6727ms
2025-06-03 03:58:19.819 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:19.819 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:58:19.820 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 233.2026ms
2025-06-03 03:58:21.401 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 78
2025-06-03 03:58:21.401 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:21.401 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:58:21.402 +02:00 [INF] Login attempt for koumayl.messaoudi@gmail.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:58:21.4025000".
2025-06-03 03:58:21.405 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:58:21.593 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:58:21.593 +02:00 [WRN] Invalid login attempt for koumayl.messaoudi@gmail.com, UserId="c9c9603d-3954-478c-bbb5-88339e7edb6e" at "2025-06-03T03:58:21.4025000". FailedAttempts=3
2025-06-03 03:58:21.594 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 192.2865ms
2025-06-03 03:58:21.594 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:21.594 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:58:21.595 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 194.0419ms
2025-06-03 03:58:22.255 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 78
2025-06-03 03:58:22.255 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:22.256 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:58:22.256 +02:00 [INF] Login attempt for koumayl.messaoudi@gmail.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:58:22.2568900".
2025-06-03 03:58:22.281 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:58:22.471 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-03 03:58:22.471 +02:00 [INF] SECURITY WARNING: User koumayl.messaoudi@gmail.com, UserId="c9c9603d-3954-478c-bbb5-88339e7edb6e": next failed attempt will lock account. ("2025-06-03T03:58:22.2568900", Attempts=4)
2025-06-03 03:58:22.472 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 215.7808ms
2025-06-03 03:58:22.472 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:22.472 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:58:22.472 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 217.446ms
2025-06-03 03:58:23.852 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/Authentication/login - application/json 78
2025-06-03 03:58:23.853 +02:00 [INF] Executing endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:23.853 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Domain.Security.DTOs.LoginRequest) on controller AuthenticationController (PulseERP.API).
2025-06-03 03:58:23.853 +02:00 [INF] Login attempt for koumayl.messaoudi@gmail.com from ::1, UA Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/136.0.0.0 Safari/537.36 at "2025-06-03T03:58:23.8536710".
2025-06-03 03:58:23.856 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[Phone], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-03 03:58:24.048 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-03 03:58:25.136 +02:00 [INF] Email '🔒 Your Pulse ERP account is temporarily locked' sent to koumayl.messaoudi@gmail.com at "2025-06-03T01:58:25.1360470Z".
2025-06-03 03:58:25.136 +02:00 [ERR] LOCKOUT: User koumayl.messaoudi@gmail.com, UserId="c9c9603d-3954-478c-bbb5-88339e7edb6e" locked out at "2025-06-03T03:58:23.8536710". LockoutEnd=04:13 (CEST), FailedAttempts=5
2025-06-03 03:58:25.137 +02:00 [INF] Executed action AuthenticationController.Login (PulseERP.API) in 1284.096ms
2025-06-03 03:58:25.137 +02:00 [INF] Executed endpoint 'AuthenticationController.Login (PulseERP.API)'
2025-06-03 03:58:25.138 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-03 03:58:25.139 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/Authentication/login - 401 null application/problem+json; charset=utf-8 1286.4278ms
2025-06-03 04:03:02.097 +02:00 [INF] Application is shutting down...
