2025-06-09 15:00:35.719 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 15:00:35.789 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 15:00:35.795 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 15:00:35.804 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 15:00:35.814 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 15:00:35.838 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 15:00:35.956 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 15:00:35.956 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 15:00:35.957 +02:00 [INF] Hosting environment: Development
2025-06-09 15:00:35.957 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 15:00:42.836 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-09 15:00:42.907 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.8921ms
2025-06-09 15:01:10.379 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 15:01:10.412 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 15:01:10.425 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 15:01:10.496 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 70.2794ms
2025-06-09 15:01:10.496 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 15:01:10.498 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderBy(p => p.Name.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 81
   at PulseERP.Application.Services.ProductService.GetAllProductsAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 44
   at PulseERP.API.Controllers.ProductsController.GetAll(ProductFilter productFilter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 25
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 15:01:10.507 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 15:01:10.512 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 133.9116ms
2025-06-09 15:01:56.806 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-09 15:01:56.810 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-09 15:01:56.818 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 15:01:56.886 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-09 15:01:56.915 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-09 15:01:56.926 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 15:01:56.930 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 111.7595ms
2025-06-09 15:01:56.930 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-09 15:01:56.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 126.0427ms
2025-06-09 15:03:46.040 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 120
2025-06-09 15:03:46.044 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 15:03:46.048 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 15:03:46.087 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 15:03:46.145 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 15:03:46.153 +02:00 [INF] Handling UserCreatedEvent for UserId="1b47eadc-abda-4f17-91f2-82fcc109b492"
2025-06-09 15:03:46.153 +02:00 [INF] Generating activation token for user "1b47eadc-abda-4f17-91f2-82fcc109b492"
2025-06-09 15:03:46.165 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (DbType = Int32), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 15:03:46.179 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 15:03:46.180 +02:00 [INF] "Activation" token added for user "1b47eadc-abda-4f17-91f2-82fcc109b492", expires "2025-06-11T15:03:46.1537540" at "2025-06-09T15:03:46.1803010".
2025-06-09 15:03:47.571 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to freedarlyn5@gmail.com at "2025-06-09T13:03:47.5710330Z".
2025-06-09 15:03:47.571 +02:00 [INF] Activation email sent to freedarlyn5@gmail.com
2025-06-09 15:03:47.574 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 15:03:47.582 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1533.9214ms
2025-06-09 15:03:47.582 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 15:03:47.582 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1542.0518ms
2025-06-09 15:05:59.068 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-09 15:05:59.070 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-09 15:05:59.070 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 15:05:59.095 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-09 15:05:59.103 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-09 15:05:59.124 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 15:05:59.125 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 54.1704ms
2025-06-09 15:05:59.125 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-09 15:05:59.125 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 57.7ms
2025-06-09 15:06:31.873 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/users/1b47eadc-abda-4f17-91f2-82fcc109b492 - application/json 28
2025-06-09 15:06:31.875 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 15:06:31.879 +02:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Users.Commands.UpdateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 15:06:31.904 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 15:06:31.905 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Update (PulseERP.API) in 26.4069ms
2025-06-09 15:06:31.906 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 15:06:31.906 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: notification does not implement $INotification
   at MediatR.Mediator.Publish(Object notification, CancellationToken cancellationToken)
   at PulseERP.Application.Services.UserService.UpdateAsync(Guid id, UpdateUserCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 93
   at PulseERP.API.Controllers.UsersController.Update(Guid id, UpdateUserCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 61
   at lambda_method515(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 15:06:31.914 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 15:06:31.915 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/users/1b47eadc-abda-4f17-91f2-82fcc109b492 - 500 null application/problem+json; charset=utf-8 41.4189ms
2025-06-09 16:22:21.951 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 16:22:21.954 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:22:21.955 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:22:21.969 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 12.9164ms
2025-06-09 16:22:21.969 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:22:21.969 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderBy(p => p.Name.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 81
   at PulseERP.Application.Services.ProductService.GetAllProductsAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 44
   at PulseERP.API.Controllers.ProductsController.GetAll(ProductFilter productFilter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 25
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 16:22:21.972 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 16:22:21.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 21.5953ms
2025-06-09 16:23:31.711 +02:00 [INF] Application is shutting down...
2025-06-09 16:23:35.937 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 16:23:35.997 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:23:36.000 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:23:36.003 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:23:36.012 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 16:23:36.033 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 16:23:36.154 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 16:23:36.154 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 16:23:36.154 +02:00 [INF] Hosting environment: Development
2025-06-09 16:23:36.154 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 16:23:43.603 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 16:23:43.638 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:23:43.647 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:23:43.726 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-09 16:23:43.792 +02:00 [INF] Executed DbCommand (37ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[DeletedAt], [p0].[Description], [p0].[IsActive], [p0].[IsDeleted], [p0].[IsService], [p0].[LastSoldAt], [p0].[Name], [p0].[Status], [p0].[UpdatedAt], [p0].[PriceAmount], [p0].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p0].[Id] = [i].[ProductId]
ORDER BY [p0].[Name]
2025-06-09 16:23:43.801 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:23:43.810 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 162.5276ms
2025-06-09 16:23:43.812 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:23:43.814 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 211.3182ms
2025-06-09 16:24:03.532 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?MinStockLevel=5 - null null
2025-06-09 16:24:03.540 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:03.540 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:24:03.612 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__filter_MinStockLevel_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [i].[Quantity] >= @__filter_MinStockLevel_Value_0
2025-06-09 16:24:03.634 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__filter_MinStockLevel_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BrandId], [s].[CreatedAt], [s].[DeletedAt], [s].[Description], [s].[IsActive], [s].[IsDeleted], [s].[IsService], [s].[LastSoldAt], [s].[Name], [s].[Status], [s].[UpdatedAt], [s].[PriceAmount], [s].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [s].[Id0], [s].[CreatedAt0], [s].[DeletedAt0], [s].[IsActive0], [s].[IsDeleted0], [s].[ProductId], [s].[Quantity], [s].[UpdatedAt0]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [i].[Id] AS [Id0], [i].[CreatedAt] AS [CreatedAt0], [i].[DeletedAt] AS [DeletedAt0], [i].[IsActive] AS [IsActive0], [i].[IsDeleted] AS [IsDeleted0], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt] AS [UpdatedAt0], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
    WHERE [i].[Quantity] >= @__filter_MinStockLevel_Value_0
    ORDER BY [p].[Name]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Brands] AS [b] ON [s].[BrandId] = [b].[Id]
ORDER BY [s].[Name]
2025-06-09 16:24:03.636 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:24:03.637 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 96.3047ms
2025-06-09 16:24:03.637 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:03.637 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?MinStockLevel=5 - 200 null application/json; charset=utf-8 104.7061ms
2025-06-09 16:24:20.274 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?MaxStockLevel=5 - null null
2025-06-09 16:24:20.279 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:20.280 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:24:20.303 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__filter_MaxStockLevel_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [i].[Quantity] <= @__filter_MaxStockLevel_Value_0
2025-06-09 16:24:20.331 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__filter_MaxStockLevel_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BrandId], [s].[CreatedAt], [s].[DeletedAt], [s].[Description], [s].[IsActive], [s].[IsDeleted], [s].[IsService], [s].[LastSoldAt], [s].[Name], [s].[Status], [s].[UpdatedAt], [s].[PriceAmount], [s].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [s].[Id0], [s].[CreatedAt0], [s].[DeletedAt0], [s].[IsActive0], [s].[IsDeleted0], [s].[ProductId], [s].[Quantity], [s].[UpdatedAt0]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [i].[Id] AS [Id0], [i].[CreatedAt] AS [CreatedAt0], [i].[DeletedAt] AS [DeletedAt0], [i].[IsActive] AS [IsActive0], [i].[IsDeleted] AS [IsDeleted0], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt] AS [UpdatedAt0], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
    WHERE [i].[Quantity] <= @__filter_MaxStockLevel_Value_0
    ORDER BY [p].[Name]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Brands] AS [b] ON [s].[BrandId] = [b].[Id]
ORDER BY [s].[Name]
2025-06-09 16:24:20.332 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:24:20.332 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 52.2702ms
2025-06-09 16:24:20.332 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:20.332 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?MaxStockLevel=5 - 200 null application/json; charset=utf-8 58.5378ms
2025-06-09 16:24:32.518 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?MaxStockLevel=10 - null null
2025-06-09 16:24:32.518 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:32.519 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:24:32.528 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_MaxStockLevel_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [i].[Quantity] <= @__filter_MaxStockLevel_Value_0
2025-06-09 16:24:32.534 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__filter_MaxStockLevel_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BrandId], [s].[CreatedAt], [s].[DeletedAt], [s].[Description], [s].[IsActive], [s].[IsDeleted], [s].[IsService], [s].[LastSoldAt], [s].[Name], [s].[Status], [s].[UpdatedAt], [s].[PriceAmount], [s].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [s].[Id0], [s].[CreatedAt0], [s].[DeletedAt0], [s].[IsActive0], [s].[IsDeleted0], [s].[ProductId], [s].[Quantity], [s].[UpdatedAt0]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [i].[Id] AS [Id0], [i].[CreatedAt] AS [CreatedAt0], [i].[DeletedAt] AS [DeletedAt0], [i].[IsActive] AS [IsActive0], [i].[IsDeleted] AS [IsDeleted0], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt] AS [UpdatedAt0], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
    WHERE [i].[Quantity] <= @__filter_MaxStockLevel_Value_0
    ORDER BY [p].[Name]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Brands] AS [b] ON [s].[BrandId] = [b].[Id]
ORDER BY [s].[Name]
2025-06-09 16:24:32.535 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:24:32.536 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 17.2562ms
2025-06-09 16:24:32.536 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:32.536 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?MaxStockLevel=10 - 200 null application/json; charset=utf-8 18.6912ms
2025-06-09 16:24:39.739 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?MaxStockLevel=20 - null null
2025-06-09 16:24:39.740 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:39.740 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:24:39.745 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__filter_MaxStockLevel_Value_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [i].[Quantity] <= @__filter_MaxStockLevel_Value_0
2025-06-09 16:24:39.751 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__filter_MaxStockLevel_Value_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[BrandId], [s].[CreatedAt], [s].[DeletedAt], [s].[Description], [s].[IsActive], [s].[IsDeleted], [s].[IsService], [s].[LastSoldAt], [s].[Name], [s].[Status], [s].[UpdatedAt], [s].[PriceAmount], [s].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [s].[Id0], [s].[CreatedAt0], [s].[DeletedAt0], [s].[IsActive0], [s].[IsDeleted0], [s].[ProductId], [s].[Quantity], [s].[UpdatedAt0]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [i].[Id] AS [Id0], [i].[CreatedAt] AS [CreatedAt0], [i].[DeletedAt] AS [DeletedAt0], [i].[IsActive] AS [IsActive0], [i].[IsDeleted] AS [IsDeleted0], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt] AS [UpdatedAt0], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
    WHERE [i].[Quantity] <= @__filter_MaxStockLevel_Value_0
    ORDER BY [p].[Name]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [s]
INNER JOIN [Brands] AS [b] ON [s].[BrandId] = [b].[Id]
ORDER BY [s].[Name]
2025-06-09 16:24:39.752 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:24:39.753 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 12.6072ms
2025-06-09 16:24:39.753 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:39.753 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?MaxStockLevel=20 - 200 null application/json; charset=utf-8 13.852ms
2025-06-09 16:24:54.880 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?IsService=true - null null
2025-06-09 16:24:54.881 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:54.881 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:24:54.909 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__filter_IsService_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsService] = @__filter_IsService_Value_0
2025-06-09 16:24:54.941 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__filter_IsService_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[DeletedAt], [p0].[Description], [p0].[IsActive], [p0].[IsDeleted], [p0].[IsService], [p0].[LastSoldAt], [p0].[Name], [p0].[Status], [p0].[UpdatedAt], [p0].[PriceAmount], [p0].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    WHERE [p].[IsService] = @__filter_IsService_Value_0
    ORDER BY [p].[Name]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p0].[Id] = [i].[ProductId]
ORDER BY [p0].[Name]
2025-06-09 16:24:54.943 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:24:54.944 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 62.208ms
2025-06-09 16:24:54.944 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:24:54.944 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?IsService=true - 200 null application/json; charset=utf-8 63.6669ms
2025-06-09 16:25:08.593 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products?IsService=false - null null
2025-06-09 16:25:08.594 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:25:08.594 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 16:25:08.598 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__filter_IsService_Value_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsService] = @__filter_IsService_Value_0
2025-06-09 16:25:08.605 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__filter_IsService_Value_0='?' (DbType = Boolean), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[DeletedAt], [p0].[Description], [p0].[IsActive], [p0].[IsDeleted], [p0].[IsService], [p0].[LastSoldAt], [p0].[Name], [p0].[Status], [p0].[UpdatedAt], [p0].[PriceAmount], [p0].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    WHERE [p].[IsService] = @__filter_IsService_Value_0
    ORDER BY [p].[Name]
    OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p0].[Id] = [i].[ProductId]
ORDER BY [p0].[Name]
2025-06-09 16:25:08.606 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:25:08.607 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 13.2463ms
2025-06-09 16:25:08.608 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 16:25:08.608 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products?IsService=false - 200 null application/json; charset=utf-8 14.6178ms
2025-06-09 16:25:39.916 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/users/1b47eadc-abda-4f17-91f2-82fcc109b492 - application/json 28
2025-06-09 16:25:39.916 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 16:25:39.922 +02:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Users.Commands.UpdateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 16:25:39.952 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 16:25:39.976 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Update (PulseERP.API) in 54.5277ms
2025-06-09 16:25:39.977 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 16:25:39.980 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: notification does not implement $INotification
   at MediatR.Mediator.Publish(Object notification, CancellationToken cancellationToken)
   at PulseERP.Application.Services.UserService.UpdateAsync(Guid id, UpdateUserCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 93
   at PulseERP.API.Controllers.UsersController.Update(Guid id, UpdateUserCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 61
   at lambda_method360(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 16:25:39.988 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 16:25:39.990 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/users/1b47eadc-abda-4f17-91f2-82fcc109b492 - 500 null application/problem+json; charset=utf-8 74.4684ms
2025-06-09 16:29:22.964 +02:00 [INF] Application is shutting down...
2025-06-09 16:30:37.452 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 16:30:37.500 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:30:37.555 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:30:37.582 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:30:37.936 +02:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Boolean), @p28='?' (Size = 100), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Boolean), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Boolean), @p40='?' (Size = 100), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Boolean), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Boolean), @p52='?' (Size = 100), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = Boolean), @p64='?' (Size = 100), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Boolean), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Boolean), @p76='?' (Size = 100), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (DbType = Boolean), @p82='?' (Size = 100), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = DateTime2), @p87='?' (DbType = Boolean), @p88='?' (Size = 100), @p89='?' (DbType = DateTime2), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = DateTime2), @p93='?' (DbType = Boolean), @p94='?' (Size = 100), @p95='?' (DbType = DateTime2), @p96='?' (DbType = Guid), @p97='?' (DbType = DateTime2), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (Size = 100), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = DateTime2), @p105='?' (DbType = Boolean), @p106='?' (Size = 100), @p107='?' (DbType = DateTime2), @p108='?' (DbType = Guid), @p109='?' (DbType = Guid), @p110='?' (Size = 4000), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (Size = 255), @p114='?' (DbType = DateTime2), @p115='?' (Size = 100), @p116='?' (Size = 4000), @p117='?' (DbType = Boolean), @p118='?' (DbType = Boolean), @p119='?' (DbType = DateTime2), @p120='?' (Size = 100), @p121='?' (Size = 20), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 4000), @p127='?' (Size = 4000), @p128='?' (Size = 4000), @p129='?' (Size = 4000), @p130='?' (DbType = Guid), @p131='?' (DbType = Guid), @p132='?' (Size = 4000), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (Size = 255), @p136='?' (DbType = DateTime2), @p137='?' (Size = 100), @p138='?' (Size = 4000), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = DateTime2), @p142='?' (Size = 100), @p143='?' (Size = 20), @p144='?' (Size = 4000), @p145='?' (DbType = Int32), @p146='?' (DbType = Int32), @p147='?' (DbType = DateTime2), @p148='?' (Size = 4000), @p149='?' (Size = 4000), @p150='?' (Size = 4000), @p151='?' (Size = 4000), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (Size = 255), @p158='?' (DbType = DateTime2), @p159='?' (Size = 100), @p160='?' (Size = 4000), @p161='?' (DbType = Boolean), @p162='?' (DbType = Boolean), @p163='?' (DbType = DateTime2), @p164='?' (Size = 100), @p165='?' (Size = 20), @p166='?' (Size = 4000), @p167='?' (DbType = Int32), @p168='?' (DbType = Int32), @p169='?' (DbType = DateTime2), @p170='?' (Size = 4000), @p171='?' (Size = 4000), @p172='?' (Size = 4000), @p173='?' (Size = 4000), @p174='?' (DbType = Guid), @p175='?' (DbType = Guid), @p176='?' (Size = 4000), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (Size = 255), @p180='?' (DbType = DateTime2), @p181='?' (Size = 100), @p182='?' (Size = 4000), @p183='?' (DbType = Boolean), @p184='?' (DbType = Boolean), @p185='?' (DbType = DateTime2), @p186='?' (Size = 100), @p187='?' (Size = 20), @p188='?' (Size = 4000), @p189='?' (DbType = Int32), @p190='?' (DbType = Int32), @p191='?' (DbType = DateTime2), @p192='?' (Size = 4000), @p193='?' (Size = 4000), @p194='?' (Size = 4000), @p195='?' (Size = 4000), @p196='?' (DbType = Guid), @p197='?' (DbType = Guid), @p198='?' (Size = 4000), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (Size = 255), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (Size = 4000), @p205='?' (DbType = Boolean), @p206='?' (DbType = Boolean), @p207='?' (DbType = DateTime2), @p208='?' (Size = 100), @p209='?' (Size = 20), @p210='?' (Size = 4000), @p211='?' (DbType = Int32), @p212='?' (DbType = Int32), @p213='?' (DbType = DateTime2), @p214='?' (Size = 4000), @p215='?' (Size = 4000), @p216='?' (Size = 4000), @p217='?' (Size = 4000), @p218='?' (DbType = Guid), @p219='?' (DbType = Guid), @p220='?' (Size = 4000), @p221='?' (DbType = DateTime2), @p222='?' (DbType = DateTime2), @p223='?' (Size = 255), @p224='?' (DbType = DateTime2), @p225='?' (Size = 100), @p226='?' (Size = 4000), @p227='?' (DbType = Boolean), @p228='?' (DbType = Boolean), @p229='?' (DbType = DateTime2), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (Size = 4000), @p233='?' (DbType = Int32), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Size = 4000), @p237='?' (Size = 4000), @p238='?' (Size = 4000), @p239='?' (Size = 4000), @p240='?' (DbType = Guid), @p241='?' (DbType = Guid), @p242='?' (Size = 4000), @p243='?' (DbType = DateTime2), @p244='?' (DbType = DateTime2), @p245='?' (Size = 255), @p246='?' (DbType = DateTime2), @p247='?' (Size = 100), @p248='?' (Size = 4000), @p249='?' (DbType = Boolean), @p250='?' (DbType = Boolean), @p251='?' (DbType = DateTime2), @p252='?' (Size = 100), @p253='?' (Size = 20), @p254='?' (Size = 4000), @p255='?' (DbType = Int32), @p256='?' (DbType = Int32), @p257='?' (DbType = DateTime2), @p258='?' (Size = 4000), @p259='?' (Size = 4000), @p260='?' (Size = 4000), @p261='?' (Size = 4000), @p262='?' (DbType = Guid), @p263='?' (DbType = Guid), @p264='?' (Size = 4000), @p265='?' (DbType = DateTime2), @p266='?' (DbType = DateTime2), @p267='?' (Size = 255), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (Size = 4000), @p271='?' (DbType = Boolean), @p272='?' (DbType = Boolean), @p273='?' (DbType = DateTime2), @p274='?' (Size = 100), @p275='?' (Size = 20), @p276='?' (Size = 4000), @p277='?' (DbType = Int32), @p278='?' (DbType = Int32), @p279='?' (DbType = DateTime2), @p280='?' (Size = 4000), @p281='?' (Size = 4000), @p282='?' (Size = 4000), @p283='?' (Size = 4000), @p284='?' (DbType = Guid), @p285='?' (DbType = Guid), @p286='?' (Size = 4000), @p287='?' (DbType = DateTime2), @p288='?' (DbType = DateTime2), @p289='?' (Size = 255), @p290='?' (DbType = DateTime2), @p291='?' (Size = 100), @p292='?' (Size = 4000), @p293='?' (DbType = Boolean), @p294='?' (DbType = Boolean), @p295='?' (DbType = DateTime2), @p296='?' (Size = 100), @p297='?' (Size = 20), @p298='?' (Size = 4000), @p299='?' (DbType = Int32), @p300='?' (DbType = Int32), @p301='?' (DbType = DateTime2), @p302='?' (Size = 4000), @p303='?' (Size = 4000), @p304='?' (Size = 4000), @p305='?' (Size = 4000), @p306='?' (DbType = Guid), @p307='?' (DbType = Guid), @p308='?' (Size = 4000), @p309='?' (DbType = DateTime2), @p310='?' (DbType = DateTime2), @p311='?' (Size = 255), @p312='?' (DbType = DateTime2), @p313='?' (Size = 100), @p314='?' (Size = 4000), @p315='?' (DbType = Boolean), @p316='?' (DbType = Boolean), @p317='?' (DbType = DateTime2), @p318='?' (Size = 100), @p319='?' (Size = 20), @p320='?' (Size = 4000), @p321='?' (DbType = Int32), @p322='?' (DbType = Int32), @p323='?' (DbType = DateTime2), @p324='?' (Size = 4000), @p325='?' (Size = 4000), @p326='?' (Size = 4000), @p327='?' (Size = 4000), @p328='?' (DbType = Guid), @p329='?' (DbType = Guid), @p330='?' (Size = 4000), @p331='?' (DbType = DateTime2), @p332='?' (DbType = DateTime2), @p333='?' (Size = 255), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (Size = 4000), @p337='?' (DbType = Boolean), @p338='?' (DbType = Boolean), @p339='?' (DbType = DateTime2), @p340='?' (Size = 100), @p341='?' (Size = 20), @p342='?' (Size = 4000), @p343='?' (DbType = Int32), @p344='?' (DbType = Int32), @p345='?' (DbType = DateTime2), @p346='?' (Size = 4000), @p347='?' (Size = 4000), @p348='?' (Size = 4000), @p349='?' (Size = 4000), @p350='?' (DbType = Guid), @p351='?' (DbType = Guid), @p352='?' (Size = 4000), @p353='?' (DbType = DateTime2), @p354='?' (DbType = DateTime2), @p355='?' (Size = 255), @p356='?' (DbType = DateTime2), @p357='?' (Size = 100), @p358='?' (Size = 4000), @p359='?' (DbType = Boolean), @p360='?' (DbType = Boolean), @p361='?' (DbType = DateTime2), @p362='?' (Size = 100), @p363='?' (Size = 20), @p364='?' (Size = 4000), @p365='?' (DbType = Int32), @p366='?' (DbType = Int32), @p367='?' (DbType = DateTime2), @p368='?' (Size = 4000), @p369='?' (Size = 4000), @p370='?' (Size = 4000), @p371='?' (Size = 4000), @p372='?' (DbType = Guid), @p373='?' (DbType = Guid), @p374='?' (Size = 4000), @p375='?' (DbType = DateTime2), @p376='?' (DbType = DateTime2), @p377='?' (Size = 255), @p378='?' (DbType = DateTime2), @p379='?' (Size = 100), @p380='?' (Size = 4000), @p381='?' (DbType = Boolean), @p382='?' (DbType = Boolean), @p383='?' (DbType = DateTime2), @p384='?' (Size = 100), @p385='?' (Size = 20), @p386='?' (Size = 4000), @p387='?' (DbType = Int32), @p388='?' (DbType = Int32), @p389='?' (DbType = DateTime2), @p390='?' (Size = 4000), @p391='?' (Size = 4000), @p392='?' (Size = 4000), @p393='?' (Size = 4000), @p394='?' (DbType = Guid), @p395='?' (DbType = Guid), @p396='?' (Size = 4000), @p397='?' (DbType = DateTime2), @p398='?' (DbType = DateTime2), @p399='?' (Size = 255), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (Size = 4000), @p403='?' (DbType = Boolean), @p404='?' (DbType = Boolean), @p405='?' (DbType = DateTime2), @p406='?' (Size = 100), @p407='?' (Size = 20), @p408='?' (Size = 4000), @p409='?' (DbType = Int32), @p410='?' (DbType = Int32), @p411='?' (DbType = DateTime2), @p412='?' (Size = 4000), @p413='?' (Size = 4000), @p414='?' (Size = 4000), @p415='?' (Size = 4000), @p416='?' (DbType = Guid), @p417='?' (DbType = Guid), @p418='?' (Size = 4000), @p419='?' (DbType = DateTime2), @p420='?' (DbType = DateTime2), @p421='?' (Size = 255), @p422='?' (DbType = DateTime2), @p423='?' (Size = 100), @p424='?' (Size = 4000), @p425='?' (DbType = Boolean), @p426='?' (DbType = Boolean), @p427='?' (DbType = DateTime2), @p428='?' (Size = 100), @p429='?' (Size = 20), @p430='?' (Size = 4000), @p431='?' (DbType = Int32), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2), @p434='?' (Size = 4000), @p435='?' (Size = 4000), @p436='?' (Size = 4000), @p437='?' (Size = 4000), @p438='?' (DbType = Guid), @p439='?' (DbType = Guid), @p440='?' (Size = 4000), @p441='?' (DbType = DateTime2), @p442='?' (DbType = DateTime2), @p443='?' (Size = 255), @p444='?' (DbType = DateTime2), @p445='?' (Size = 100), @p446='?' (Size = 4000), @p447='?' (DbType = Boolean), @p448='?' (DbType = Boolean), @p449='?' (DbType = DateTime2), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (Size = 4000), @p453='?' (DbType = Int32), @p454='?' (DbType = Int32), @p455='?' (DbType = DateTime2), @p456='?' (Size = 4000), @p457='?' (Size = 4000), @p458='?' (Size = 4000), @p459='?' (Size = 4000), @p460='?' (DbType = Guid), @p461='?' (DbType = Guid), @p462='?' (Size = 4000), @p463='?' (DbType = DateTime2), @p464='?' (DbType = DateTime2), @p465='?' (Size = 255), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (Size = 4000), @p469='?' (DbType = Boolean), @p470='?' (DbType = Boolean), @p471='?' (DbType = DateTime2), @p472='?' (Size = 100), @p473='?' (Size = 20), @p474='?' (Size = 4000), @p475='?' (DbType = Int32), @p476='?' (DbType = Int32), @p477='?' (DbType = DateTime2), @p478='?' (Size = 4000), @p479='?' (Size = 4000), @p480='?' (Size = 4000), @p481='?' (Size = 4000), @p482='?' (DbType = Guid), @p483='?' (DbType = Guid), @p484='?' (Size = 4000), @p485='?' (DbType = DateTime2), @p486='?' (DbType = DateTime2), @p487='?' (Size = 255), @p488='?' (DbType = DateTime2), @p489='?' (Size = 100), @p490='?' (Size = 4000), @p491='?' (DbType = Boolean), @p492='?' (DbType = Boolean), @p493='?' (DbType = DateTime2), @p494='?' (Size = 100), @p495='?' (Size = 20), @p496='?' (Size = 4000), @p497='?' (DbType = Int32), @p498='?' (DbType = Int32), @p499='?' (DbType = DateTime2), @p500='?' (Size = 4000), @p501='?' (Size = 4000), @p502='?' (Size = 4000), @p503='?' (Size = 4000), @p504='?' (DbType = Guid), @p505='?' (DbType = Guid), @p506='?' (Size = 4000), @p507='?' (DbType = DateTime2), @p508='?' (DbType = DateTime2), @p509='?' (Size = 255), @p510='?' (DbType = DateTime2), @p511='?' (Size = 100), @p512='?' (Size = 4000), @p513='?' (DbType = Boolean), @p514='?' (DbType = Boolean), @p515='?' (DbType = DateTime2), @p516='?' (Size = 100), @p517='?' (Size = 20), @p518='?' (Size = 4000), @p519='?' (DbType = Int32), @p520='?' (DbType = Int32), @p521='?' (DbType = DateTime2), @p522='?' (Size = 4000), @p523='?' (Size = 4000), @p524='?' (Size = 4000), @p525='?' (Size = 4000), @p526='?' (DbType = Guid), @p527='?' (DbType = Guid), @p528='?' (Size = 4000), @p529='?' (DbType = DateTime2), @p530='?' (DbType = DateTime2), @p531='?' (Size = 255), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (Size = 4000), @p535='?' (DbType = Boolean), @p536='?' (DbType = Boolean), @p537='?' (DbType = DateTime2), @p538='?' (Size = 100), @p539='?' (Size = 20), @p540='?' (Size = 4000), @p541='?' (DbType = Int32), @p542='?' (DbType = Int32), @p543='?' (DbType = DateTime2), @p544='?' (Size = 4000), @p545='?' (Size = 4000), @p546='?' (Size = 4000), @p547='?' (Size = 4000), @p548='?' (DbType = Guid), @p549='?' (DbType = DateTime2), @p550='?' (DbType = DateTime2), @p551='?' (Size = 255), @p552='?' (DbType = Int32), @p553='?' (Size = 100), @p554='?' (DbType = Boolean), @p555='?' (DbType = DateTime2), @p556='?' (Size = 100), @p557='?' (DbType = DateTime2), @p558='?' (Size = 4000), @p559='?' (DbType = DateTime2), @p560='?' (Size = 20), @p561='?' (DbType = Boolean), @p562='?' (Size = 50), @p563='?' (DbType = DateTime2), @p564='?' (DbType = Guid), @p565='?' (DbType = DateTime2), @p566='?' (DbType = DateTime2), @p567='?' (Size = 255), @p568='?' (DbType = Int32), @p569='?' (Size = 100), @p570='?' (DbType = Boolean), @p571='?' (DbType = DateTime2), @p572='?' (Size = 100), @p573='?' (DbType = DateTime2), @p574='?' (Size = 4000), @p575='?' (DbType = DateTime2), @p576='?' (Size = 20), @p577='?' (DbType = Boolean), @p578='?' (Size = 50), @p579='?' (DbType = DateTime2), @p580='?' (DbType = Guid), @p581='?' (DbType = DateTime2), @p582='?' (DbType = DateTime2), @p583='?' (Size = 255), @p584='?' (DbType = Int32), @p585='?' (Size = 100), @p586='?' (DbType = Boolean), @p587='?' (DbType = DateTime2), @p588='?' (Size = 100), @p589='?' (DbType = DateTime2), @p590='?' (Size = 4000), @p591='?' (DbType = DateTime2), @p592='?' (Size = 20), @p593='?' (DbType = Boolean), @p594='?' (Size = 50), @p595='?' (DbType = DateTime2), @p596='?' (DbType = Guid), @p597='?' (DbType = DateTime2), @p598='?' (DbType = DateTime2), @p599='?' (Size = 255), @p600='?' (DbType = Int32), @p601='?' (Size = 100), @p602='?' (DbType = Boolean), @p603='?' (DbType = DateTime2), @p604='?' (Size = 100), @p605='?' (DbType = DateTime2), @p606='?' (Size = 4000), @p607='?' (DbType = DateTime2), @p608='?' (Size = 20), @p609='?' (DbType = Boolean), @p610='?' (Size = 50), @p611='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17)) AS i ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[IsDeleted], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 0),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 1),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 2),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, 3),
(@p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, 4),
(@p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 5),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, 6),
(@p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, 7),
(@p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, 9),
(@p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, 10),
(@p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 11),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, 12),
(@p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, 13),
(@p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 14),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, 15),
(@p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, 16),
(@p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 17),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, 18),
(@p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, @p546, @p547, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsDeleted], i.[IsVip], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[PostalCode], i.[Street])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p548, @p549, @p550, @p551, @p552, @p553, @p554, @p555, @p556, @p557, @p558, @p559, @p560, @p561, @p562, @p563, 0),
(@p564, @p565, @p566, @p567, @p568, @p569, @p570, @p571, @p572, @p573, @p574, @p575, @p576, @p577, @p578, @p579, 1),
(@p580, @p581, @p582, @p583, @p584, @p585, @p586, @p587, @p588, @p589, @p590, @p591, @p592, @p593, @p594, @p595, 2),
(@p596, @p597, @p598, @p599, @p600, @p601, @p602, @p603, @p604, @p605, @p606, @p607, @p608, @p609, @p610, @p611, 3)) AS i ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[IsDeleted], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[PhoneNumber], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-09 16:30:37.991 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (Size = 500) (DbType = AnsiString), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p27='?' (Size = 4000), @p28='?' (DbType = Guid), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (Size = 500) (DbType = AnsiString), @p33='?' (DbType = Boolean), @p34='?' (DbType = DateTime2), @p35='?' (Size = 200), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p39='?' (Size = 4000), @p40='?' (DbType = Guid), @p41='?' (DbType = Guid), @p42='?' (DbType = DateTime2), @p43='?' (DbType = DateTime2), @p44='?' (Size = 500) (DbType = AnsiString), @p45='?' (DbType = Boolean), @p46='?' (DbType = DateTime2), @p47='?' (Size = 200), @p48='?' (DbType = Int32), @p49='?' (DbType = DateTime2), @p50='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p51='?' (Size = 4000), @p52='?' (DbType = Guid), @p53='?' (DbType = Guid), @p54='?' (DbType = DateTime2), @p55='?' (DbType = DateTime2), @p56='?' (Size = 500) (DbType = AnsiString), @p57='?' (DbType = Boolean), @p58='?' (DbType = Boolean), @p59='?' (DbType = DateTime2), @p60='?' (Size = 200), @p61='?' (DbType = Int32), @p62='?' (DbType = DateTime2), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (Size = 4000), @p65='?' (DbType = Guid), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (Size = 500) (DbType = AnsiString), @p70='?' (DbType = Boolean), @p71='?' (DbType = DateTime2), @p72='?' (Size = 200), @p73='?' (DbType = Int32), @p74='?' (DbType = DateTime2), @p75='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p76='?' (Size = 4000), @p77='?' (DbType = Guid), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (Size = 500) (DbType = AnsiString), @p82='?' (DbType = Boolean), @p83='?' (DbType = Boolean), @p84='?' (DbType = DateTime2), @p85='?' (Size = 200), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (Size = 4000), @p90='?' (DbType = Guid), @p91='?' (DbType = Guid), @p92='?' (DbType = DateTime2), @p93='?' (DbType = DateTime2), @p94='?' (Size = 500) (DbType = AnsiString), @p95='?' (DbType = Boolean), @p96='?' (DbType = DateTime2), @p97='?' (Size = 200), @p98='?' (DbType = Int32), @p99='?' (DbType = DateTime2), @p100='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p101='?' (Size = 4000), @p102='?' (DbType = Guid), @p103='?' (DbType = Guid), @p104='?' (DbType = DateTime2), @p105='?' (DbType = DateTime2), @p106='?' (Size = 500) (DbType = AnsiString), @p107='?' (DbType = Boolean), @p108='?' (DbType = Boolean), @p109='?' (DbType = DateTime2), @p110='?' (Size = 200), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (Size = 4000), @p115='?' (DbType = Guid), @p116='?' (DbType = Guid), @p117='?' (DbType = DateTime2), @p118='?' (DbType = DateTime2), @p119='?' (Size = 500) (DbType = AnsiString), @p120='?' (DbType = Boolean), @p121='?' (DbType = Boolean), @p122='?' (DbType = DateTime2), @p123='?' (Size = 200), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p127='?' (Size = 4000), @p128='?' (DbType = Guid), @p129='?' (DbType = Guid), @p130='?' (DbType = DateTime2), @p131='?' (DbType = DateTime2), @p132='?' (Size = 500) (DbType = AnsiString), @p133='?' (DbType = Boolean), @p134='?' (DbType = DateTime2), @p135='?' (Size = 200), @p136='?' (DbType = Int32), @p137='?' (DbType = DateTime2), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (Size = 4000), @p140='?' (DbType = Guid), @p141='?' (DbType = Guid), @p142='?' (DbType = DateTime2), @p143='?' (DbType = DateTime2), @p144='?' (Size = 500) (DbType = AnsiString), @p145='?' (DbType = Boolean), @p146='?' (DbType = Boolean), @p147='?' (DbType = DateTime2), @p148='?' (Size = 200), @p149='?' (DbType = Int32), @p150='?' (DbType = DateTime2), @p151='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (DbType = Guid), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (Size = 500) (DbType = AnsiString), @p158='?' (DbType = Boolean), @p159='?' (DbType = DateTime2), @p160='?' (Size = 200), @p161='?' (DbType = Int32), @p162='?' (DbType = DateTime2), @p163='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p164='?' (Size = 4000), @p165='?' (DbType = Guid), @p166='?' (DbType = Guid), @p167='?' (DbType = DateTime2), @p168='?' (DbType = DateTime2), @p169='?' (Size = 500) (DbType = AnsiString), @p170='?' (DbType = Boolean), @p171='?' (DbType = Boolean), @p172='?' (DbType = DateTime2), @p173='?' (Size = 200), @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime2), @p176='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p177='?' (Size = 4000), @p178='?' (DbType = Guid), @p179='?' (DbType = Guid), @p180='?' (DbType = DateTime2), @p181='?' (DbType = DateTime2), @p182='?' (Size = 500) (DbType = AnsiString), @p183='?' (DbType = Boolean), @p184='?' (DbType = DateTime2), @p185='?' (Size = 200), @p186='?' (DbType = Int32), @p187='?' (DbType = DateTime2), @p188='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p189='?' (Size = 4000), @p190='?' (DbType = Guid), @p191='?' (DbType = Guid), @p192='?' (DbType = DateTime2), @p193='?' (DbType = DateTime2), @p194='?' (Size = 500) (DbType = AnsiString), @p195='?' (DbType = Boolean), @p196='?' (DbType = DateTime2), @p197='?' (Size = 200), @p198='?' (DbType = Int32), @p199='?' (DbType = DateTime2), @p200='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p201='?' (Size = 4000), @p202='?' (DbType = Guid), @p203='?' (DbType = Guid), @p204='?' (DbType = DateTime2), @p205='?' (DbType = DateTime2), @p206='?' (Size = 500) (DbType = AnsiString), @p207='?' (DbType = Boolean), @p208='?' (DbType = DateTime2), @p209='?' (Size = 200), @p210='?' (DbType = Int32), @p211='?' (DbType = DateTime2), @p212='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p213='?' (Size = 4000), @p214='?' (DbType = Guid), @p215='?' (DbType = Guid), @p216='?' (DbType = DateTime2), @p217='?' (DbType = DateTime2), @p218='?' (Size = 500) (DbType = AnsiString), @p219='?' (DbType = Boolean), @p220='?' (DbType = DateTime2), @p221='?' (Size = 200), @p222='?' (DbType = Int32), @p223='?' (DbType = DateTime2), @p224='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p225='?' (Size = 4000), @p226='?' (DbType = Guid), @p227='?' (DbType = Guid), @p228='?' (DbType = DateTime2), @p229='?' (DbType = DateTime2), @p230='?' (Size = 500) (DbType = AnsiString), @p231='?' (DbType = Boolean), @p232='?' (DbType = DateTime2), @p233='?' (Size = 200), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p237='?' (Size = 4000), @p238='?' (DbType = Guid), @p239='?' (DbType = Guid), @p240='?' (DbType = DateTime2), @p241='?' (DbType = DateTime2), @p242='?' (Size = 500) (DbType = AnsiString), @p243='?' (DbType = Boolean), @p244='?' (DbType = DateTime2), @p245='?' (Size = 200), @p246='?' (DbType = Int32), @p247='?' (DbType = DateTime2), @p248='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p249='?' (Size = 4000), @p250='?' (DbType = Guid), @p251='?' (DbType = Guid), @p252='?' (DbType = DateTime2), @p253='?' (DbType = DateTime2), @p254='?' (Size = 500) (DbType = AnsiString), @p255='?' (DbType = Boolean), @p256='?' (DbType = Boolean), @p257='?' (DbType = DateTime2), @p258='?' (Size = 200), @p259='?' (DbType = Int32), @p260='?' (DbType = DateTime2), @p261='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p262='?' (Size = 4000), @p263='?' (DbType = Guid), @p264='?' (DbType = DateTime2), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Boolean), @p267='?' (DbType = Boolean), @p268='?' (DbType = Guid), @p269='?' (DbType = Int32), @p270='?' (DbType = DateTime2), @p271='?' (DbType = Guid), @p272='?' (DbType = DateTime2), @p273='?' (DbType = DateTime2), @p274='?' (DbType = Boolean), @p275='?' (DbType = Boolean), @p276='?' (DbType = Guid), @p277='?' (DbType = Int32), @p278='?' (DbType = DateTime2), @p279='?' (DbType = Guid), @p280='?' (DbType = DateTime2), @p281='?' (DbType = DateTime2), @p282='?' (DbType = Boolean), @p283='?' (DbType = Boolean), @p284='?' (DbType = Guid), @p285='?' (DbType = Int32), @p286='?' (DbType = DateTime2), @p287='?' (DbType = Guid), @p288='?' (DbType = DateTime2), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Boolean), @p291='?' (DbType = Boolean), @p292='?' (DbType = Guid), @p293='?' (DbType = Int32), @p294='?' (DbType = DateTime2), @p295='?' (DbType = Guid), @p296='?' (DbType = DateTime2), @p297='?' (DbType = DateTime2), @p298='?' (DbType = Boolean), @p299='?' (DbType = Boolean), @p300='?' (DbType = Guid), @p301='?' (DbType = Int32), @p302='?' (DbType = DateTime2), @p303='?' (DbType = Guid), @p304='?' (DbType = DateTime2), @p305='?' (DbType = DateTime2), @p306='?' (DbType = Boolean), @p307='?' (DbType = Boolean), @p308='?' (DbType = Guid), @p309='?' (DbType = Int32), @p310='?' (DbType = DateTime2), @p311='?' (DbType = Guid), @p312='?' (DbType = DateTime2), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Boolean), @p315='?' (DbType = Boolean), @p316='?' (DbType = Guid), @p317='?' (DbType = Int32), @p318='?' (DbType = DateTime2), @p319='?' (DbType = Guid), @p320='?' (DbType = DateTime2), @p321='?' (DbType = DateTime2), @p322='?' (DbType = Boolean), @p323='?' (DbType = Boolean), @p324='?' (DbType = Guid), @p325='?' (DbType = Int32), @p326='?' (DbType = DateTime2), @p327='?' (DbType = Guid), @p328='?' (DbType = DateTime2), @p329='?' (DbType = DateTime2), @p330='?' (DbType = Boolean), @p331='?' (DbType = Boolean), @p332='?' (DbType = Guid), @p333='?' (DbType = Int32), @p334='?' (DbType = DateTime2), @p335='?' (DbType = Guid), @p336='?' (DbType = DateTime2), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Boolean), @p339='?' (DbType = Boolean), @p340='?' (DbType = Guid), @p341='?' (DbType = Int32), @p342='?' (DbType = DateTime2), @p343='?' (DbType = Guid), @p344='?' (DbType = DateTime2), @p345='?' (DbType = DateTime2), @p346='?' (DbType = Boolean), @p347='?' (DbType = Boolean), @p348='?' (DbType = Guid), @p349='?' (DbType = Int32), @p350='?' (DbType = DateTime2), @p351='?' (DbType = Guid), @p352='?' (DbType = DateTime2), @p353='?' (DbType = DateTime2), @p354='?' (DbType = Boolean), @p355='?' (DbType = Boolean), @p356='?' (DbType = Guid), @p357='?' (DbType = Int32), @p358='?' (DbType = DateTime2), @p359='?' (DbType = Guid), @p360='?' (DbType = DateTime2), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Boolean), @p363='?' (DbType = Boolean), @p364='?' (DbType = Guid), @p365='?' (DbType = Int32), @p366='?' (DbType = DateTime2), @p367='?' (DbType = Guid), @p368='?' (DbType = DateTime2), @p369='?' (DbType = DateTime2), @p370='?' (DbType = Boolean), @p371='?' (DbType = Boolean), @p372='?' (DbType = Guid), @p373='?' (DbType = Int32), @p374='?' (DbType = DateTime2), @p375='?' (DbType = Guid), @p376='?' (DbType = DateTime2), @p377='?' (DbType = DateTime2), @p378='?' (DbType = Boolean), @p379='?' (DbType = Boolean), @p380='?' (DbType = Guid), @p381='?' (DbType = Int32), @p382='?' (DbType = DateTime2), @p383='?' (DbType = Guid), @p384='?' (DbType = DateTime2), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Boolean), @p387='?' (DbType = Boolean), @p388='?' (DbType = Guid), @p389='?' (DbType = Int32), @p390='?' (DbType = DateTime2), @p391='?' (DbType = Guid), @p392='?' (DbType = DateTime2), @p393='?' (DbType = DateTime2), @p394='?' (DbType = Boolean), @p395='?' (DbType = Boolean), @p396='?' (DbType = Guid), @p397='?' (DbType = Int32), @p398='?' (DbType = DateTime2), @p399='?' (DbType = Guid), @p400='?' (DbType = DateTime2), @p401='?' (DbType = DateTime2), @p402='?' (DbType = Boolean), @p403='?' (DbType = Boolean), @p404='?' (DbType = Guid), @p405='?' (DbType = Int32), @p406='?' (DbType = DateTime2), @p407='?' (DbType = Guid), @p408='?' (DbType = DateTime2), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Boolean), @p411='?' (DbType = Boolean), @p412='?' (DbType = Guid), @p413='?' (DbType = Int32), @p414='?' (DbType = DateTime2), @p415='?' (DbType = Guid), @p416='?' (DbType = DateTime2), @p417='?' (DbType = DateTime2), @p418='?' (DbType = Boolean), @p419='?' (DbType = Boolean), @p420='?' (DbType = Guid), @p421='?' (DbType = Int32), @p422='?' (DbType = DateTime2), @p423='?' (DbType = Guid), @p424='?' (DbType = DateTime2), @p425='?' (DbType = DateTime2), @p426='?' (DbType = Guid), @p427='?' (DbType = Boolean), @p428='?' (DbType = Boolean), @p429='?' (DbType = DateTime2), @p430='?' (DbType = Int32), @p431='?' (Size = 4000), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
MERGE [Products] USING (
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 0),
(@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 1),
(@p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, 2)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101);
MERGE [Products] USING (
VALUES (@p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, 0),
(@p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[IsService], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, @p177);
MERGE [Products] USING (
VALUES (@p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, 0),
(@p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, @p201, 1),
(@p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, 2),
(@p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, 3),
(@p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, 4),
(@p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, 5)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262);
INSERT INTO [Inventories] ([Id], [CreatedAt], [DeletedAt], [IsActive], [IsDeleted], [ProductId], [Quantity], [UpdatedAt])
VALUES (@p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270),
(@p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278),
(@p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286),
(@p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294),
(@p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302),
(@p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310),
(@p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318),
(@p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326),
(@p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334),
(@p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342),
(@p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350),
(@p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358),
(@p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366),
(@p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374),
(@p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382),
(@p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390),
(@p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398),
(@p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406),
(@p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414),
(@p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422);
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433);
2025-06-09 16:30:38.004 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?' (DbType = Boolean), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTime2), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Int32), @p41='?' (Size = 4000), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Size = 4000), @p53='?' (DbType = Int32), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Guid), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Guid), @p70='?' (DbType = Boolean), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Int32), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (DbType = Guid), @p78='?' (DbType = DateTime2), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Guid), @p81='?' (DbType = Boolean), @p82='?' (DbType = Boolean), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Int32), @p85='?' (Size = 4000), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (DbType = Guid), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Guid), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (DbType = DateTime2), @p95='?' (DbType = Int32), @p96='?' (Size = 4000), @p97='?' (DbType = Int32), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Guid), @p100='?' (DbType = DateTime2), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = DateTime2), @p106='?' (DbType = Int32), @p107='?' (Size = 4000), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = DateTime2), @p117='?' (DbType = Int32), @p118='?' (Size = 4000), @p119='?' (DbType = Int32), @p120='?' (DbType = DateTime2), @p121='?' (DbType = Guid), @p122='?' (DbType = DateTime2), @p123='?' (DbType = DateTime2), @p124='?' (DbType = Guid), @p125='?' (DbType = Boolean), @p126='?' (DbType = Boolean), @p127='?' (DbType = DateTime2), @p128='?' (DbType = Int32), @p129='?' (Size = 4000), @p130='?' (DbType = Int32), @p131='?' (DbType = DateTime2), @p132='?' (DbType = Guid), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (DbType = Guid), @p136='?' (DbType = Boolean), @p137='?' (DbType = Boolean), @p138='?' (DbType = DateTime2), @p139='?' (DbType = Int32), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (DbType = Guid), @p144='?' (DbType = DateTime2), @p145='?' (DbType = DateTime2), @p146='?' (DbType = Guid), @p147='?' (DbType = Boolean), @p148='?' (DbType = Boolean), @p149='?' (DbType = DateTime2), @p150='?' (DbType = Int32), @p151='?' (Size = 4000), @p152='?' (DbType = Int32), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (DbType = Guid), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (DbType = DateTime2), @p161='?' (DbType = Int32), @p162='?' (Size = 4000), @p163='?' (DbType = Int32), @p164='?' (DbType = DateTime2), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime2), @p168='?' (DbType = Guid), @p169='?' (DbType = Boolean), @p170='?' (DbType = Boolean), @p171='?' (DbType = DateTime2), @p172='?' (DbType = Int32), @p173='?' (Size = 4000), @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime2), @p176='?' (DbType = Guid), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (DbType = Guid), @p180='?' (DbType = Boolean), @p181='?' (DbType = Boolean), @p182='?' (DbType = DateTime2), @p183='?' (DbType = Int32), @p184='?' (Size = 4000), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (DbType = Guid), @p188='?' (DbType = DateTime2), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Guid), @p191='?' (DbType = Boolean), @p192='?' (DbType = Boolean), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (Size = 4000), @p196='?' (DbType = Int32), @p197='?' (DbType = DateTime2), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (DbType = Guid), @p202='?' (DbType = Boolean), @p203='?' (DbType = Boolean), @p204='?' (DbType = DateTime2), @p205='?' (DbType = Int32), @p206='?' (Size = 4000), @p207='?' (DbType = Int32), @p208='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21),
(@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32),
(@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54),
(@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76),
(@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98),
(@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120),
(@p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142),
(@p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153),
(@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164),
(@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175),
(@p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186),
(@p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208);
2025-06-09 16:30:38.013 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 16:30:38.039 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 16:30:38.164 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 16:30:38.165 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 16:30:38.165 +02:00 [INF] Hosting environment: Development
2025-06-09 16:30:38.165 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 16:30:42.413 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 132
2025-06-09 16:30:42.452 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 16:30:42.457 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 16:30:42.540 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 16:30:42.553 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 16:30:42.555 +02:00 [INF] Handling UserCreatedEvent for UserId="a149c61e-dd1e-4189-a9fd-9912d07e95a3"
2025-06-09 16:30:42.556 +02:00 [INF] Generating activation token for user "a149c61e-dd1e-4189-a9fd-9912d07e95a3"
2025-06-09 16:30:42.568 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (DbType = Int32), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 16:30:42.585 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 16:30:42.585 +02:00 [INF] Activation token added for user "a149c61e-dd1e-4189-a9fd-9912d07e95a3", expires "2025-06-11T16:30:42.5562880" at "2025-06-09T16:30:42.5858470".
2025-06-09 16:30:44.296 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T14:30:44.2958530Z".
2025-06-09 16:30:44.298 +02:00 [INF] Activation email sent to koumeil.messaoudi@outlook.com
2025-06-09 16:30:44.315 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:30:44.340 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1880.4845ms
2025-06-09 16:30:44.342 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 16:30:44.345 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1933.3999ms
2025-06-09 16:33:59.265 +02:00 [INF] Application is shutting down...
2025-06-09 16:34:44.603 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 16:34:44.648 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:34:44.701 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:34:44.727 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 16:34:45.083 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Boolean), @p28='?' (Size = 100), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Boolean), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Boolean), @p40='?' (Size = 100), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Boolean), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Boolean), @p52='?' (Size = 100), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = Boolean), @p64='?' (Size = 100), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Boolean), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Boolean), @p76='?' (Size = 100), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (DbType = Boolean), @p82='?' (Size = 100), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = DateTime2), @p87='?' (DbType = Boolean), @p88='?' (Size = 100), @p89='?' (DbType = DateTime2), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = DateTime2), @p93='?' (DbType = Boolean), @p94='?' (Size = 100), @p95='?' (DbType = DateTime2), @p96='?' (DbType = Guid), @p97='?' (DbType = DateTime2), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (Size = 100), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = DateTime2), @p105='?' (DbType = Boolean), @p106='?' (Size = 100), @p107='?' (DbType = DateTime2), @p108='?' (DbType = Guid), @p109='?' (DbType = Guid), @p110='?' (Size = 4000), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (Size = 255), @p114='?' (DbType = DateTime2), @p115='?' (Size = 100), @p116='?' (Size = 4000), @p117='?' (DbType = Boolean), @p118='?' (DbType = Boolean), @p119='?' (DbType = DateTime2), @p120='?' (Size = 100), @p121='?' (Size = 20), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 4000), @p127='?' (Size = 4000), @p128='?' (Size = 4000), @p129='?' (Size = 4000), @p130='?' (DbType = Guid), @p131='?' (DbType = Guid), @p132='?' (Size = 4000), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (Size = 255), @p136='?' (DbType = DateTime2), @p137='?' (Size = 100), @p138='?' (Size = 4000), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = DateTime2), @p142='?' (Size = 100), @p143='?' (Size = 20), @p144='?' (Size = 4000), @p145='?' (DbType = Int32), @p146='?' (DbType = Int32), @p147='?' (DbType = DateTime2), @p148='?' (Size = 4000), @p149='?' (Size = 4000), @p150='?' (Size = 4000), @p151='?' (Size = 4000), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (Size = 255), @p158='?' (DbType = DateTime2), @p159='?' (Size = 100), @p160='?' (Size = 4000), @p161='?' (DbType = Boolean), @p162='?' (DbType = Boolean), @p163='?' (DbType = DateTime2), @p164='?' (Size = 100), @p165='?' (Size = 20), @p166='?' (Size = 4000), @p167='?' (DbType = Int32), @p168='?' (DbType = Int32), @p169='?' (DbType = DateTime2), @p170='?' (Size = 4000), @p171='?' (Size = 4000), @p172='?' (Size = 4000), @p173='?' (Size = 4000), @p174='?' (DbType = Guid), @p175='?' (DbType = Guid), @p176='?' (Size = 4000), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (Size = 255), @p180='?' (DbType = DateTime2), @p181='?' (Size = 100), @p182='?' (Size = 4000), @p183='?' (DbType = Boolean), @p184='?' (DbType = Boolean), @p185='?' (DbType = DateTime2), @p186='?' (Size = 100), @p187='?' (Size = 20), @p188='?' (Size = 4000), @p189='?' (DbType = Int32), @p190='?' (DbType = Int32), @p191='?' (DbType = DateTime2), @p192='?' (Size = 4000), @p193='?' (Size = 4000), @p194='?' (Size = 4000), @p195='?' (Size = 4000), @p196='?' (DbType = Guid), @p197='?' (DbType = Guid), @p198='?' (Size = 4000), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (Size = 255), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (Size = 4000), @p205='?' (DbType = Boolean), @p206='?' (DbType = Boolean), @p207='?' (DbType = DateTime2), @p208='?' (Size = 100), @p209='?' (Size = 20), @p210='?' (Size = 4000), @p211='?' (DbType = Int32), @p212='?' (DbType = Int32), @p213='?' (DbType = DateTime2), @p214='?' (Size = 4000), @p215='?' (Size = 4000), @p216='?' (Size = 4000), @p217='?' (Size = 4000), @p218='?' (DbType = Guid), @p219='?' (DbType = Guid), @p220='?' (Size = 4000), @p221='?' (DbType = DateTime2), @p222='?' (DbType = DateTime2), @p223='?' (Size = 255), @p224='?' (DbType = DateTime2), @p225='?' (Size = 100), @p226='?' (Size = 4000), @p227='?' (DbType = Boolean), @p228='?' (DbType = Boolean), @p229='?' (DbType = DateTime2), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (Size = 4000), @p233='?' (DbType = Int32), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Size = 4000), @p237='?' (Size = 4000), @p238='?' (Size = 4000), @p239='?' (Size = 4000), @p240='?' (DbType = Guid), @p241='?' (DbType = Guid), @p242='?' (Size = 4000), @p243='?' (DbType = DateTime2), @p244='?' (DbType = DateTime2), @p245='?' (Size = 255), @p246='?' (DbType = DateTime2), @p247='?' (Size = 100), @p248='?' (Size = 4000), @p249='?' (DbType = Boolean), @p250='?' (DbType = Boolean), @p251='?' (DbType = DateTime2), @p252='?' (Size = 100), @p253='?' (Size = 20), @p254='?' (Size = 4000), @p255='?' (DbType = Int32), @p256='?' (DbType = Int32), @p257='?' (DbType = DateTime2), @p258='?' (Size = 4000), @p259='?' (Size = 4000), @p260='?' (Size = 4000), @p261='?' (Size = 4000), @p262='?' (DbType = Guid), @p263='?' (DbType = Guid), @p264='?' (Size = 4000), @p265='?' (DbType = DateTime2), @p266='?' (DbType = DateTime2), @p267='?' (Size = 255), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (Size = 4000), @p271='?' (DbType = Boolean), @p272='?' (DbType = Boolean), @p273='?' (DbType = DateTime2), @p274='?' (Size = 100), @p275='?' (Size = 20), @p276='?' (Size = 4000), @p277='?' (DbType = Int32), @p278='?' (DbType = Int32), @p279='?' (DbType = DateTime2), @p280='?' (Size = 4000), @p281='?' (Size = 4000), @p282='?' (Size = 4000), @p283='?' (Size = 4000), @p284='?' (DbType = Guid), @p285='?' (DbType = Guid), @p286='?' (Size = 4000), @p287='?' (DbType = DateTime2), @p288='?' (DbType = DateTime2), @p289='?' (Size = 255), @p290='?' (DbType = DateTime2), @p291='?' (Size = 100), @p292='?' (Size = 4000), @p293='?' (DbType = Boolean), @p294='?' (DbType = Boolean), @p295='?' (DbType = DateTime2), @p296='?' (Size = 100), @p297='?' (Size = 20), @p298='?' (Size = 4000), @p299='?' (DbType = Int32), @p300='?' (DbType = Int32), @p301='?' (DbType = DateTime2), @p302='?' (Size = 4000), @p303='?' (Size = 4000), @p304='?' (Size = 4000), @p305='?' (Size = 4000), @p306='?' (DbType = Guid), @p307='?' (DbType = Guid), @p308='?' (Size = 4000), @p309='?' (DbType = DateTime2), @p310='?' (DbType = DateTime2), @p311='?' (Size = 255), @p312='?' (DbType = DateTime2), @p313='?' (Size = 100), @p314='?' (Size = 4000), @p315='?' (DbType = Boolean), @p316='?' (DbType = Boolean), @p317='?' (DbType = DateTime2), @p318='?' (Size = 100), @p319='?' (Size = 20), @p320='?' (Size = 4000), @p321='?' (DbType = Int32), @p322='?' (DbType = Int32), @p323='?' (DbType = DateTime2), @p324='?' (Size = 4000), @p325='?' (Size = 4000), @p326='?' (Size = 4000), @p327='?' (Size = 4000), @p328='?' (DbType = Guid), @p329='?' (DbType = Guid), @p330='?' (Size = 4000), @p331='?' (DbType = DateTime2), @p332='?' (DbType = DateTime2), @p333='?' (Size = 255), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (Size = 4000), @p337='?' (DbType = Boolean), @p338='?' (DbType = Boolean), @p339='?' (DbType = DateTime2), @p340='?' (Size = 100), @p341='?' (Size = 20), @p342='?' (Size = 4000), @p343='?' (DbType = Int32), @p344='?' (DbType = Int32), @p345='?' (DbType = DateTime2), @p346='?' (Size = 4000), @p347='?' (Size = 4000), @p348='?' (Size = 4000), @p349='?' (Size = 4000), @p350='?' (DbType = Guid), @p351='?' (DbType = Guid), @p352='?' (Size = 4000), @p353='?' (DbType = DateTime2), @p354='?' (DbType = DateTime2), @p355='?' (Size = 255), @p356='?' (DbType = DateTime2), @p357='?' (Size = 100), @p358='?' (Size = 4000), @p359='?' (DbType = Boolean), @p360='?' (DbType = Boolean), @p361='?' (DbType = DateTime2), @p362='?' (Size = 100), @p363='?' (Size = 20), @p364='?' (Size = 4000), @p365='?' (DbType = Int32), @p366='?' (DbType = Int32), @p367='?' (DbType = DateTime2), @p368='?' (Size = 4000), @p369='?' (Size = 4000), @p370='?' (Size = 4000), @p371='?' (Size = 4000), @p372='?' (DbType = Guid), @p373='?' (DbType = Guid), @p374='?' (Size = 4000), @p375='?' (DbType = DateTime2), @p376='?' (DbType = DateTime2), @p377='?' (Size = 255), @p378='?' (DbType = DateTime2), @p379='?' (Size = 100), @p380='?' (Size = 4000), @p381='?' (DbType = Boolean), @p382='?' (DbType = Boolean), @p383='?' (DbType = DateTime2), @p384='?' (Size = 100), @p385='?' (Size = 20), @p386='?' (Size = 4000), @p387='?' (DbType = Int32), @p388='?' (DbType = Int32), @p389='?' (DbType = DateTime2), @p390='?' (Size = 4000), @p391='?' (Size = 4000), @p392='?' (Size = 4000), @p393='?' (Size = 4000), @p394='?' (DbType = Guid), @p395='?' (DbType = Guid), @p396='?' (Size = 4000), @p397='?' (DbType = DateTime2), @p398='?' (DbType = DateTime2), @p399='?' (Size = 255), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (Size = 4000), @p403='?' (DbType = Boolean), @p404='?' (DbType = Boolean), @p405='?' (DbType = DateTime2), @p406='?' (Size = 100), @p407='?' (Size = 20), @p408='?' (Size = 4000), @p409='?' (DbType = Int32), @p410='?' (DbType = Int32), @p411='?' (DbType = DateTime2), @p412='?' (Size = 4000), @p413='?' (Size = 4000), @p414='?' (Size = 4000), @p415='?' (Size = 4000), @p416='?' (DbType = Guid), @p417='?' (DbType = Guid), @p418='?' (Size = 4000), @p419='?' (DbType = DateTime2), @p420='?' (DbType = DateTime2), @p421='?' (Size = 255), @p422='?' (DbType = DateTime2), @p423='?' (Size = 100), @p424='?' (Size = 4000), @p425='?' (DbType = Boolean), @p426='?' (DbType = Boolean), @p427='?' (DbType = DateTime2), @p428='?' (Size = 100), @p429='?' (Size = 20), @p430='?' (Size = 4000), @p431='?' (DbType = Int32), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2), @p434='?' (Size = 4000), @p435='?' (Size = 4000), @p436='?' (Size = 4000), @p437='?' (Size = 4000), @p438='?' (DbType = Guid), @p439='?' (DbType = Guid), @p440='?' (Size = 4000), @p441='?' (DbType = DateTime2), @p442='?' (DbType = DateTime2), @p443='?' (Size = 255), @p444='?' (DbType = DateTime2), @p445='?' (Size = 100), @p446='?' (Size = 4000), @p447='?' (DbType = Boolean), @p448='?' (DbType = Boolean), @p449='?' (DbType = DateTime2), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (Size = 4000), @p453='?' (DbType = Int32), @p454='?' (DbType = Int32), @p455='?' (DbType = DateTime2), @p456='?' (Size = 4000), @p457='?' (Size = 4000), @p458='?' (Size = 4000), @p459='?' (Size = 4000), @p460='?' (DbType = Guid), @p461='?' (DbType = Guid), @p462='?' (Size = 4000), @p463='?' (DbType = DateTime2), @p464='?' (DbType = DateTime2), @p465='?' (Size = 255), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (Size = 4000), @p469='?' (DbType = Boolean), @p470='?' (DbType = Boolean), @p471='?' (DbType = DateTime2), @p472='?' (Size = 100), @p473='?' (Size = 20), @p474='?' (Size = 4000), @p475='?' (DbType = Int32), @p476='?' (DbType = Int32), @p477='?' (DbType = DateTime2), @p478='?' (Size = 4000), @p479='?' (Size = 4000), @p480='?' (Size = 4000), @p481='?' (Size = 4000), @p482='?' (DbType = Guid), @p483='?' (DbType = Guid), @p484='?' (Size = 4000), @p485='?' (DbType = DateTime2), @p486='?' (DbType = DateTime2), @p487='?' (Size = 255), @p488='?' (DbType = DateTime2), @p489='?' (Size = 100), @p490='?' (Size = 4000), @p491='?' (DbType = Boolean), @p492='?' (DbType = Boolean), @p493='?' (DbType = DateTime2), @p494='?' (Size = 100), @p495='?' (Size = 20), @p496='?' (Size = 4000), @p497='?' (DbType = Int32), @p498='?' (DbType = Int32), @p499='?' (DbType = DateTime2), @p500='?' (Size = 4000), @p501='?' (Size = 4000), @p502='?' (Size = 4000), @p503='?' (Size = 4000), @p504='?' (DbType = Guid), @p505='?' (DbType = Guid), @p506='?' (Size = 4000), @p507='?' (DbType = DateTime2), @p508='?' (DbType = DateTime2), @p509='?' (Size = 255), @p510='?' (DbType = DateTime2), @p511='?' (Size = 100), @p512='?' (Size = 4000), @p513='?' (DbType = Boolean), @p514='?' (DbType = Boolean), @p515='?' (DbType = DateTime2), @p516='?' (Size = 100), @p517='?' (Size = 20), @p518='?' (Size = 4000), @p519='?' (DbType = Int32), @p520='?' (DbType = Int32), @p521='?' (DbType = DateTime2), @p522='?' (Size = 4000), @p523='?' (Size = 4000), @p524='?' (Size = 4000), @p525='?' (Size = 4000), @p526='?' (DbType = Guid), @p527='?' (DbType = Guid), @p528='?' (Size = 4000), @p529='?' (DbType = DateTime2), @p530='?' (DbType = DateTime2), @p531='?' (Size = 255), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (Size = 4000), @p535='?' (DbType = Boolean), @p536='?' (DbType = Boolean), @p537='?' (DbType = DateTime2), @p538='?' (Size = 100), @p539='?' (Size = 20), @p540='?' (Size = 4000), @p541='?' (DbType = Int32), @p542='?' (DbType = Int32), @p543='?' (DbType = DateTime2), @p544='?' (Size = 4000), @p545='?' (Size = 4000), @p546='?' (Size = 4000), @p547='?' (Size = 4000), @p548='?' (DbType = Guid), @p549='?' (DbType = DateTime2), @p550='?' (DbType = DateTime2), @p551='?' (Size = 255), @p552='?' (DbType = Int32), @p553='?' (Size = 100), @p554='?' (DbType = Boolean), @p555='?' (DbType = DateTime2), @p556='?' (Size = 100), @p557='?' (DbType = DateTime2), @p558='?' (Size = 4000), @p559='?' (DbType = DateTime2), @p560='?' (Size = 20), @p561='?' (DbType = Boolean), @p562='?' (Size = 50), @p563='?' (DbType = DateTime2), @p564='?' (DbType = Guid), @p565='?' (DbType = DateTime2), @p566='?' (DbType = DateTime2), @p567='?' (Size = 255), @p568='?' (DbType = Int32), @p569='?' (Size = 100), @p570='?' (DbType = Boolean), @p571='?' (DbType = DateTime2), @p572='?' (Size = 100), @p573='?' (DbType = DateTime2), @p574='?' (Size = 4000), @p575='?' (DbType = DateTime2), @p576='?' (Size = 20), @p577='?' (DbType = Boolean), @p578='?' (Size = 50), @p579='?' (DbType = DateTime2), @p580='?' (DbType = Guid), @p581='?' (DbType = DateTime2), @p582='?' (DbType = DateTime2), @p583='?' (Size = 255), @p584='?' (DbType = Int32), @p585='?' (Size = 100), @p586='?' (DbType = Boolean), @p587='?' (DbType = DateTime2), @p588='?' (Size = 100), @p589='?' (DbType = DateTime2), @p590='?' (Size = 4000), @p591='?' (DbType = DateTime2), @p592='?' (Size = 20), @p593='?' (DbType = Boolean), @p594='?' (Size = 50), @p595='?' (DbType = DateTime2), @p596='?' (DbType = Guid), @p597='?' (DbType = DateTime2), @p598='?' (DbType = DateTime2), @p599='?' (Size = 255), @p600='?' (DbType = Int32), @p601='?' (Size = 100), @p602='?' (DbType = Boolean), @p603='?' (DbType = DateTime2), @p604='?' (Size = 100), @p605='?' (DbType = DateTime2), @p606='?' (Size = 4000), @p607='?' (DbType = DateTime2), @p608='?' (Size = 20), @p609='?' (DbType = Boolean), @p610='?' (Size = 50), @p611='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17)) AS i ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[IsDeleted], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 0),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 1),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 2),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, 3),
(@p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, 4),
(@p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 5),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, 6),
(@p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, 7),
(@p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, 9),
(@p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, 10),
(@p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 11),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, 12),
(@p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, 13),
(@p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 14),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, 15),
(@p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, 16),
(@p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 17),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, 18),
(@p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, @p546, @p547, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsDeleted], i.[IsVip], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[PostalCode], i.[Street])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p548, @p549, @p550, @p551, @p552, @p553, @p554, @p555, @p556, @p557, @p558, @p559, @p560, @p561, @p562, @p563, 0),
(@p564, @p565, @p566, @p567, @p568, @p569, @p570, @p571, @p572, @p573, @p574, @p575, @p576, @p577, @p578, @p579, 1),
(@p580, @p581, @p582, @p583, @p584, @p585, @p586, @p587, @p588, @p589, @p590, @p591, @p592, @p593, @p594, @p595, 2),
(@p596, @p597, @p598, @p599, @p600, @p601, @p602, @p603, @p604, @p605, @p606, @p607, @p608, @p609, @p610, @p611, 3)) AS i ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[IsDeleted], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[PhoneNumber], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-09 16:34:45.151 +02:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (Size = 500) (DbType = AnsiString), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (DbType = DateTime2), @p24='?' (Size = 200), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (Size = 4000), @p29='?' (DbType = Guid), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (Size = 500) (DbType = AnsiString), @p34='?' (DbType = Boolean), @p35='?' (DbType = DateTime2), @p36='?' (Size = 200), @p37='?' (DbType = Int32), @p38='?' (DbType = DateTime2), @p39='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p40='?' (Size = 4000), @p41='?' (DbType = Guid), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (Size = 500) (DbType = AnsiString), @p46='?' (DbType = Boolean), @p47='?' (DbType = DateTime2), @p48='?' (Size = 200), @p49='?' (DbType = Int32), @p50='?' (DbType = DateTime2), @p51='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p52='?' (Size = 4000), @p53='?' (DbType = Guid), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (Size = 500) (DbType = AnsiString), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (DbType = DateTime2), @p61='?' (Size = 200), @p62='?' (DbType = Int32), @p63='?' (DbType = DateTime2), @p64='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p65='?' (Size = 4000), @p66='?' (DbType = Guid), @p67='?' (DbType = Guid), @p68='?' (DbType = DateTime2), @p69='?' (DbType = DateTime2), @p70='?' (Size = 500) (DbType = AnsiString), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTime2), @p73='?' (Size = 200), @p74='?' (DbType = Int32), @p75='?' (DbType = DateTime2), @p76='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p77='?' (Size = 4000), @p78='?' (DbType = Guid), @p79='?' (DbType = Guid), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 500) (DbType = AnsiString), @p83='?' (DbType = Boolean), @p84='?' (DbType = DateTime2), @p85='?' (Size = 200), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (Size = 4000), @p90='?' (DbType = Guid), @p91='?' (DbType = Guid), @p92='?' (DbType = DateTime2), @p93='?' (DbType = DateTime2), @p94='?' (Size = 500) (DbType = AnsiString), @p95='?' (DbType = Boolean), @p96='?' (DbType = DateTime2), @p97='?' (Size = 200), @p98='?' (DbType = Int32), @p99='?' (DbType = DateTime2), @p100='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p101='?' (Size = 4000), @p102='?' (DbType = Guid), @p103='?' (DbType = Guid), @p104='?' (DbType = DateTime2), @p105='?' (DbType = DateTime2), @p106='?' (Size = 500) (DbType = AnsiString), @p107='?' (DbType = Boolean), @p108='?' (DbType = DateTime2), @p109='?' (Size = 200), @p110='?' (DbType = Int32), @p111='?' (DbType = DateTime2), @p112='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p113='?' (Size = 4000), @p114='?' (DbType = Guid), @p115='?' (DbType = Guid), @p116='?' (DbType = DateTime2), @p117='?' (DbType = DateTime2), @p118='?' (Size = 500) (DbType = AnsiString), @p119='?' (DbType = Boolean), @p120='?' (DbType = Boolean), @p121='?' (DbType = DateTime2), @p122='?' (Size = 200), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p126='?' (Size = 4000), @p127='?' (DbType = Guid), @p128='?' (DbType = Guid), @p129='?' (DbType = DateTime2), @p130='?' (DbType = DateTime2), @p131='?' (Size = 500) (DbType = AnsiString), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = DateTime2), @p135='?' (Size = 200), @p136='?' (DbType = Int32), @p137='?' (DbType = DateTime2), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (Size = 4000), @p140='?' (DbType = Guid), @p141='?' (DbType = Guid), @p142='?' (DbType = DateTime2), @p143='?' (DbType = DateTime2), @p144='?' (Size = 500) (DbType = AnsiString), @p145='?' (DbType = Boolean), @p146='?' (DbType = DateTime2), @p147='?' (Size = 200), @p148='?' (DbType = Int32), @p149='?' (DbType = DateTime2), @p150='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p151='?' (Size = 4000), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (DbType = DateTime2), @p155='?' (DbType = DateTime2), @p156='?' (Size = 500) (DbType = AnsiString), @p157='?' (DbType = Boolean), @p158='?' (DbType = DateTime2), @p159='?' (Size = 200), @p160='?' (DbType = Int32), @p161='?' (DbType = DateTime2), @p162='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p163='?' (Size = 4000), @p164='?' (DbType = Guid), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime2), @p168='?' (Size = 500) (DbType = AnsiString), @p169='?' (DbType = Boolean), @p170='?' (DbType = Boolean), @p171='?' (DbType = DateTime2), @p172='?' (Size = 200), @p173='?' (DbType = Int32), @p174='?' (DbType = DateTime2), @p175='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p176='?' (Size = 4000), @p177='?' (DbType = Guid), @p178='?' (DbType = Guid), @p179='?' (DbType = DateTime2), @p180='?' (DbType = DateTime2), @p181='?' (Size = 500) (DbType = AnsiString), @p182='?' (DbType = Boolean), @p183='?' (DbType = DateTime2), @p184='?' (Size = 200), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (DbType = Guid), @p191='?' (DbType = DateTime2), @p192='?' (DbType = DateTime2), @p193='?' (Size = 500) (DbType = AnsiString), @p194='?' (DbType = Boolean), @p195='?' (DbType = DateTime2), @p196='?' (Size = 200), @p197='?' (DbType = Int32), @p198='?' (DbType = DateTime2), @p199='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p200='?' (Size = 4000), @p201='?' (DbType = Guid), @p202='?' (DbType = Guid), @p203='?' (DbType = DateTime2), @p204='?' (DbType = DateTime2), @p205='?' (Size = 500) (DbType = AnsiString), @p206='?' (DbType = Boolean), @p207='?' (DbType = DateTime2), @p208='?' (Size = 200), @p209='?' (DbType = Int32), @p210='?' (DbType = DateTime2), @p211='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p212='?' (Size = 4000), @p213='?' (DbType = Guid), @p214='?' (DbType = Guid), @p215='?' (DbType = DateTime2), @p216='?' (DbType = DateTime2), @p217='?' (Size = 500) (DbType = AnsiString), @p218='?' (DbType = Boolean), @p219='?' (DbType = DateTime2), @p220='?' (Size = 200), @p221='?' (DbType = Int32), @p222='?' (DbType = DateTime2), @p223='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p224='?' (Size = 4000), @p225='?' (DbType = Guid), @p226='?' (DbType = Guid), @p227='?' (DbType = DateTime2), @p228='?' (DbType = DateTime2), @p229='?' (Size = 500) (DbType = AnsiString), @p230='?' (DbType = Boolean), @p231='?' (DbType = Boolean), @p232='?' (DbType = DateTime2), @p233='?' (Size = 200), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p237='?' (Size = 4000), @p238='?' (DbType = Guid), @p239='?' (DbType = Guid), @p240='?' (DbType = DateTime2), @p241='?' (DbType = DateTime2), @p242='?' (Size = 500) (DbType = AnsiString), @p243='?' (DbType = Boolean), @p244='?' (DbType = DateTime2), @p245='?' (Size = 200), @p246='?' (DbType = Int32), @p247='?' (DbType = DateTime2), @p248='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p249='?' (Size = 4000), @p250='?' (DbType = Guid), @p251='?' (DbType = Guid), @p252='?' (DbType = DateTime2), @p253='?' (DbType = DateTime2), @p254='?' (Size = 500) (DbType = AnsiString), @p255='?' (DbType = Boolean), @p256='?' (DbType = Boolean), @p257='?' (DbType = DateTime2), @p258='?' (Size = 200), @p259='?' (DbType = Int32), @p260='?' (DbType = DateTime2), @p261='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p262='?' (Size = 4000), @p263='?' (DbType = Guid), @p264='?' (DbType = DateTime2), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Boolean), @p267='?' (DbType = Boolean), @p268='?' (DbType = Guid), @p269='?' (DbType = Int32), @p270='?' (DbType = DateTime2), @p271='?' (DbType = Guid), @p272='?' (DbType = DateTime2), @p273='?' (DbType = DateTime2), @p274='?' (DbType = Boolean), @p275='?' (DbType = Boolean), @p276='?' (DbType = Guid), @p277='?' (DbType = Int32), @p278='?' (DbType = DateTime2), @p279='?' (DbType = Guid), @p280='?' (DbType = DateTime2), @p281='?' (DbType = DateTime2), @p282='?' (DbType = Boolean), @p283='?' (DbType = Boolean), @p284='?' (DbType = Guid), @p285='?' (DbType = Int32), @p286='?' (DbType = DateTime2), @p287='?' (DbType = Guid), @p288='?' (DbType = DateTime2), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Boolean), @p291='?' (DbType = Boolean), @p292='?' (DbType = Guid), @p293='?' (DbType = Int32), @p294='?' (DbType = DateTime2), @p295='?' (DbType = Guid), @p296='?' (DbType = DateTime2), @p297='?' (DbType = DateTime2), @p298='?' (DbType = Boolean), @p299='?' (DbType = Boolean), @p300='?' (DbType = Guid), @p301='?' (DbType = Int32), @p302='?' (DbType = DateTime2), @p303='?' (DbType = Guid), @p304='?' (DbType = DateTime2), @p305='?' (DbType = DateTime2), @p306='?' (DbType = Boolean), @p307='?' (DbType = Boolean), @p308='?' (DbType = Guid), @p309='?' (DbType = Int32), @p310='?' (DbType = DateTime2), @p311='?' (DbType = Guid), @p312='?' (DbType = DateTime2), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Boolean), @p315='?' (DbType = Boolean), @p316='?' (DbType = Guid), @p317='?' (DbType = Int32), @p318='?' (DbType = DateTime2), @p319='?' (DbType = Guid), @p320='?' (DbType = DateTime2), @p321='?' (DbType = DateTime2), @p322='?' (DbType = Boolean), @p323='?' (DbType = Boolean), @p324='?' (DbType = Guid), @p325='?' (DbType = Int32), @p326='?' (DbType = DateTime2), @p327='?' (DbType = Guid), @p328='?' (DbType = DateTime2), @p329='?' (DbType = DateTime2), @p330='?' (DbType = Boolean), @p331='?' (DbType = Boolean), @p332='?' (DbType = Guid), @p333='?' (DbType = Int32), @p334='?' (DbType = DateTime2), @p335='?' (DbType = Guid), @p336='?' (DbType = DateTime2), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Boolean), @p339='?' (DbType = Boolean), @p340='?' (DbType = Guid), @p341='?' (DbType = Int32), @p342='?' (DbType = DateTime2), @p343='?' (DbType = Guid), @p344='?' (DbType = DateTime2), @p345='?' (DbType = DateTime2), @p346='?' (DbType = Boolean), @p347='?' (DbType = Boolean), @p348='?' (DbType = Guid), @p349='?' (DbType = Int32), @p350='?' (DbType = DateTime2), @p351='?' (DbType = Guid), @p352='?' (DbType = DateTime2), @p353='?' (DbType = DateTime2), @p354='?' (DbType = Boolean), @p355='?' (DbType = Boolean), @p356='?' (DbType = Guid), @p357='?' (DbType = Int32), @p358='?' (DbType = DateTime2), @p359='?' (DbType = Guid), @p360='?' (DbType = DateTime2), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Boolean), @p363='?' (DbType = Boolean), @p364='?' (DbType = Guid), @p365='?' (DbType = Int32), @p366='?' (DbType = DateTime2), @p367='?' (DbType = Guid), @p368='?' (DbType = DateTime2), @p369='?' (DbType = DateTime2), @p370='?' (DbType = Boolean), @p371='?' (DbType = Boolean), @p372='?' (DbType = Guid), @p373='?' (DbType = Int32), @p374='?' (DbType = DateTime2), @p375='?' (DbType = Guid), @p376='?' (DbType = DateTime2), @p377='?' (DbType = DateTime2), @p378='?' (DbType = Boolean), @p379='?' (DbType = Boolean), @p380='?' (DbType = Guid), @p381='?' (DbType = Int32), @p382='?' (DbType = DateTime2), @p383='?' (DbType = Guid), @p384='?' (DbType = DateTime2), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Boolean), @p387='?' (DbType = Boolean), @p388='?' (DbType = Guid), @p389='?' (DbType = Int32), @p390='?' (DbType = DateTime2), @p391='?' (DbType = Guid), @p392='?' (DbType = DateTime2), @p393='?' (DbType = DateTime2), @p394='?' (DbType = Boolean), @p395='?' (DbType = Boolean), @p396='?' (DbType = Guid), @p397='?' (DbType = Int32), @p398='?' (DbType = DateTime2), @p399='?' (DbType = Guid), @p400='?' (DbType = DateTime2), @p401='?' (DbType = DateTime2), @p402='?' (DbType = Boolean), @p403='?' (DbType = Boolean), @p404='?' (DbType = Guid), @p405='?' (DbType = Int32), @p406='?' (DbType = DateTime2), @p407='?' (DbType = Guid), @p408='?' (DbType = DateTime2), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Boolean), @p411='?' (DbType = Boolean), @p412='?' (DbType = Guid), @p413='?' (DbType = Int32), @p414='?' (DbType = DateTime2), @p415='?' (DbType = Guid), @p416='?' (DbType = DateTime2), @p417='?' (DbType = DateTime2), @p418='?' (DbType = Boolean), @p419='?' (DbType = Boolean), @p420='?' (DbType = Guid), @p421='?' (DbType = Int32), @p422='?' (DbType = DateTime2), @p423='?' (DbType = Guid), @p424='?' (DbType = DateTime2), @p425='?' (DbType = DateTime2), @p426='?' (DbType = Guid), @p427='?' (DbType = Boolean), @p428='?' (DbType = Boolean), @p429='?' (DbType = DateTime2), @p430='?' (DbType = Int32), @p431='?' (Size = 4000), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
MERGE [Products] USING (
VALUES (@p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, 0),
(@p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
MERGE [Products] USING (
VALUES (@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, 0),
(@p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 1),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, 2),
(@p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, 3)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
MERGE [Products] USING (
VALUES (@p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, 0),
(@p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[IsService], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Products] USING (
VALUES (@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 0),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176);
MERGE [Products] USING (
VALUES (@p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, 0),
(@p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, 1),
(@p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, 2),
(@p213, @p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, 3)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262);
INSERT INTO [Inventories] ([Id], [CreatedAt], [DeletedAt], [IsActive], [IsDeleted], [ProductId], [Quantity], [UpdatedAt])
VALUES (@p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270),
(@p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278),
(@p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286),
(@p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294),
(@p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302),
(@p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310),
(@p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318),
(@p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326),
(@p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334),
(@p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342),
(@p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350),
(@p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358),
(@p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366),
(@p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374),
(@p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382),
(@p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390),
(@p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398),
(@p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406),
(@p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414),
(@p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422);
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433);
2025-06-09 16:34:45.165 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?' (DbType = Boolean), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTime2), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Int32), @p41='?' (Size = 4000), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Size = 4000), @p53='?' (DbType = Int32), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Guid), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Guid), @p70='?' (DbType = Boolean), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Int32), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (DbType = Guid), @p78='?' (DbType = DateTime2), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Guid), @p81='?' (DbType = Boolean), @p82='?' (DbType = Boolean), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Int32), @p85='?' (Size = 4000), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (DbType = Guid), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Guid), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (DbType = DateTime2), @p95='?' (DbType = Int32), @p96='?' (Size = 4000), @p97='?' (DbType = Int32), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Guid), @p100='?' (DbType = DateTime2), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = DateTime2), @p106='?' (DbType = Int32), @p107='?' (Size = 4000), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = DateTime2), @p117='?' (DbType = Int32), @p118='?' (Size = 4000), @p119='?' (DbType = Int32), @p120='?' (DbType = DateTime2), @p121='?' (DbType = Guid), @p122='?' (DbType = DateTime2), @p123='?' (DbType = DateTime2), @p124='?' (DbType = Guid), @p125='?' (DbType = Boolean), @p126='?' (DbType = Boolean), @p127='?' (DbType = DateTime2), @p128='?' (DbType = Int32), @p129='?' (Size = 4000), @p130='?' (DbType = Int32), @p131='?' (DbType = DateTime2), @p132='?' (DbType = Guid), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (DbType = Guid), @p136='?' (DbType = Boolean), @p137='?' (DbType = Boolean), @p138='?' (DbType = DateTime2), @p139='?' (DbType = Int32), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (DbType = Guid), @p144='?' (DbType = DateTime2), @p145='?' (DbType = DateTime2), @p146='?' (DbType = Guid), @p147='?' (DbType = Boolean), @p148='?' (DbType = Boolean), @p149='?' (DbType = DateTime2), @p150='?' (DbType = Int32), @p151='?' (Size = 4000), @p152='?' (DbType = Int32), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (DbType = Guid), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (DbType = DateTime2), @p161='?' (DbType = Int32), @p162='?' (Size = 4000), @p163='?' (DbType = Int32), @p164='?' (DbType = DateTime2), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime2), @p168='?' (DbType = Guid), @p169='?' (DbType = Boolean), @p170='?' (DbType = Boolean), @p171='?' (DbType = DateTime2), @p172='?' (DbType = Int32), @p173='?' (Size = 4000), @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime2), @p176='?' (DbType = Guid), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (DbType = Guid), @p180='?' (DbType = Boolean), @p181='?' (DbType = Boolean), @p182='?' (DbType = DateTime2), @p183='?' (DbType = Int32), @p184='?' (Size = 4000), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (DbType = Guid), @p188='?' (DbType = DateTime2), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Guid), @p191='?' (DbType = Boolean), @p192='?' (DbType = Boolean), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (Size = 4000), @p196='?' (DbType = Int32), @p197='?' (DbType = DateTime2), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (DbType = Guid), @p202='?' (DbType = Boolean), @p203='?' (DbType = Boolean), @p204='?' (DbType = DateTime2), @p205='?' (DbType = Int32), @p206='?' (Size = 4000), @p207='?' (DbType = Int32), @p208='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21),
(@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32),
(@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54),
(@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76),
(@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98),
(@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120),
(@p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142),
(@p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153),
(@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164),
(@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175),
(@p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186),
(@p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208);
2025-06-09 16:34:45.174 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 16:34:45.198 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 16:34:45.319 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 16:34:45.319 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 16:34:45.319 +02:00 [INF] Hosting environment: Development
2025-06-09 16:34:45.319 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 16:34:49.887 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 132
2025-06-09 16:34:49.922 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 16:34:49.928 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 16:34:50.013 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 16:34:50.023 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 16:34:50.026 +02:00 [INF] Handling UserCreatedEvent for UserId="ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0"
2025-06-09 16:34:50.026 +02:00 [INF] Generating activation token for user "ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0"
2025-06-09 16:34:50.040 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 16:34:50.057 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 16:34:50.057 +02:00 [INF] Activation token added for user "ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0", expires "2025-06-11T16:34:50.0268600" at "2025-06-09T16:34:50.0579310".
2025-06-09 16:34:52.196 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T14:34:52.1959640Z".
2025-06-09 16:34:52.197 +02:00 [INF] Activation email sent to koumeil.messaoudi@outlook.com
2025-06-09 16:34:52.213 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:34:52.242 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 2311.5624ms
2025-06-09 16:34:52.244 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 16:34:52.247 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 2361.2196ms
2025-06-09 16:37:25.993 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 16:37:26.002 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 16:37:26.015 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 16:37:26.099 +02:00 [INF] Executed DbCommand (31ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 16:37:26.134 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 16:37:26.151 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 16:37:26.152 +02:00 [INF] Revoked all "Activation" tokens for user "ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0" at "2025-06-09T16:37:26.1522920".
2025-06-09 16:37:26.163 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 16:37:26.231 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 16:37:27.543 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T14:37:27.5435870Z".
2025-06-09 16:37:27.545 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 16:37:27.549 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 1533.0365ms
2025-06-09 16:37:27.549 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 16:37:27.550 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 1558.1175ms
2025-06-09 16:44:48.730 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 16:44:48.738 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 16:44:48.745 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 16:44:48.799 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 16:44:48.884 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 16:44:48.885 +02:00 [INF] Handling UserCreatedEvent for UserId="737bb79e-9cb6-4131-9eb4-53fca21f6afa"
2025-06-09 16:44:48.885 +02:00 [INF] Generating activation token for user "737bb79e-9cb6-4131-9eb4-53fca21f6afa"
2025-06-09 16:44:48.887 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 16:44:48.890 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 16:44:48.890 +02:00 [INF] Activation token added for user "737bb79e-9cb6-4131-9eb4-53fca21f6afa", expires "2025-06-11T16:44:48.8854790" at "2025-06-09T16:44:48.8902100".
2025-06-09 16:44:50.105 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T14:44:50.1055040Z".
2025-06-09 16:44:50.105 +02:00 [INF] Activation email sent to koumeil.messaoudi@outlook.com
2025-06-09 16:44:50.109 +02:00 [INF] Generating access token for user "ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0"
2025-06-09 16:44:50.136 +02:00 [INF] Generating refresh token for user "ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0" from IP ::1
2025-06-09 16:44:50.143 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 16:44:50.149 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 16:44:50.150 +02:00 [INF] Refresh token added for user "ccf9fe81-4b34-48ee-a5c9-2c56d3c2c4c0", expires "2025-06-16T16:44:50.1367750" at "2025-06-09T16:44:50.1502480".
2025-06-09 16:44:50.151 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 16:44:50.157 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 1410.837ms
2025-06-09 16:44:50.157 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 16:44:50.157 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 1427.9011ms
2025-06-09 17:00:00.552 +02:00 [INF] Application is shutting down...
2025-06-09 17:00:40.180 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 17:00:40.228 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:00:40.284 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:00:40.311 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:00:40.667 +02:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Boolean), @p28='?' (Size = 100), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Boolean), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Boolean), @p40='?' (Size = 100), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Boolean), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Boolean), @p52='?' (Size = 100), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = Boolean), @p64='?' (Size = 100), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Boolean), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Boolean), @p76='?' (Size = 100), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (DbType = Boolean), @p82='?' (Size = 100), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = DateTime2), @p87='?' (DbType = Boolean), @p88='?' (Size = 100), @p89='?' (DbType = DateTime2), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = DateTime2), @p93='?' (DbType = Boolean), @p94='?' (Size = 100), @p95='?' (DbType = DateTime2), @p96='?' (DbType = Guid), @p97='?' (DbType = DateTime2), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (Size = 100), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = DateTime2), @p105='?' (DbType = Boolean), @p106='?' (Size = 100), @p107='?' (DbType = DateTime2), @p108='?' (DbType = Guid), @p109='?' (DbType = Guid), @p110='?' (Size = 4000), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (Size = 255), @p114='?' (DbType = DateTime2), @p115='?' (Size = 100), @p116='?' (Size = 4000), @p117='?' (DbType = Boolean), @p118='?' (DbType = Boolean), @p119='?' (DbType = DateTime2), @p120='?' (Size = 100), @p121='?' (Size = 20), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 4000), @p127='?' (Size = 4000), @p128='?' (Size = 4000), @p129='?' (Size = 4000), @p130='?' (DbType = Guid), @p131='?' (DbType = Guid), @p132='?' (Size = 4000), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (Size = 255), @p136='?' (DbType = DateTime2), @p137='?' (Size = 100), @p138='?' (Size = 4000), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = DateTime2), @p142='?' (Size = 100), @p143='?' (Size = 20), @p144='?' (Size = 4000), @p145='?' (DbType = Int32), @p146='?' (DbType = Int32), @p147='?' (DbType = DateTime2), @p148='?' (Size = 4000), @p149='?' (Size = 4000), @p150='?' (Size = 4000), @p151='?' (Size = 4000), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (Size = 255), @p158='?' (DbType = DateTime2), @p159='?' (Size = 100), @p160='?' (Size = 4000), @p161='?' (DbType = Boolean), @p162='?' (DbType = Boolean), @p163='?' (DbType = DateTime2), @p164='?' (Size = 100), @p165='?' (Size = 20), @p166='?' (Size = 4000), @p167='?' (DbType = Int32), @p168='?' (DbType = Int32), @p169='?' (DbType = DateTime2), @p170='?' (Size = 4000), @p171='?' (Size = 4000), @p172='?' (Size = 4000), @p173='?' (Size = 4000), @p174='?' (DbType = Guid), @p175='?' (DbType = Guid), @p176='?' (Size = 4000), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (Size = 255), @p180='?' (DbType = DateTime2), @p181='?' (Size = 100), @p182='?' (Size = 4000), @p183='?' (DbType = Boolean), @p184='?' (DbType = Boolean), @p185='?' (DbType = DateTime2), @p186='?' (Size = 100), @p187='?' (Size = 20), @p188='?' (Size = 4000), @p189='?' (DbType = Int32), @p190='?' (DbType = Int32), @p191='?' (DbType = DateTime2), @p192='?' (Size = 4000), @p193='?' (Size = 4000), @p194='?' (Size = 4000), @p195='?' (Size = 4000), @p196='?' (DbType = Guid), @p197='?' (DbType = Guid), @p198='?' (Size = 4000), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (Size = 255), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (Size = 4000), @p205='?' (DbType = Boolean), @p206='?' (DbType = Boolean), @p207='?' (DbType = DateTime2), @p208='?' (Size = 100), @p209='?' (Size = 20), @p210='?' (Size = 4000), @p211='?' (DbType = Int32), @p212='?' (DbType = Int32), @p213='?' (DbType = DateTime2), @p214='?' (Size = 4000), @p215='?' (Size = 4000), @p216='?' (Size = 4000), @p217='?' (Size = 4000), @p218='?' (DbType = Guid), @p219='?' (DbType = Guid), @p220='?' (Size = 4000), @p221='?' (DbType = DateTime2), @p222='?' (DbType = DateTime2), @p223='?' (Size = 255), @p224='?' (DbType = DateTime2), @p225='?' (Size = 100), @p226='?' (Size = 4000), @p227='?' (DbType = Boolean), @p228='?' (DbType = Boolean), @p229='?' (DbType = DateTime2), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (Size = 4000), @p233='?' (DbType = Int32), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Size = 4000), @p237='?' (Size = 4000), @p238='?' (Size = 4000), @p239='?' (Size = 4000), @p240='?' (DbType = Guid), @p241='?' (DbType = Guid), @p242='?' (Size = 4000), @p243='?' (DbType = DateTime2), @p244='?' (DbType = DateTime2), @p245='?' (Size = 255), @p246='?' (DbType = DateTime2), @p247='?' (Size = 100), @p248='?' (Size = 4000), @p249='?' (DbType = Boolean), @p250='?' (DbType = Boolean), @p251='?' (DbType = DateTime2), @p252='?' (Size = 100), @p253='?' (Size = 20), @p254='?' (Size = 4000), @p255='?' (DbType = Int32), @p256='?' (DbType = Int32), @p257='?' (DbType = DateTime2), @p258='?' (Size = 4000), @p259='?' (Size = 4000), @p260='?' (Size = 4000), @p261='?' (Size = 4000), @p262='?' (DbType = Guid), @p263='?' (DbType = Guid), @p264='?' (Size = 4000), @p265='?' (DbType = DateTime2), @p266='?' (DbType = DateTime2), @p267='?' (Size = 255), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (Size = 4000), @p271='?' (DbType = Boolean), @p272='?' (DbType = Boolean), @p273='?' (DbType = DateTime2), @p274='?' (Size = 100), @p275='?' (Size = 20), @p276='?' (Size = 4000), @p277='?' (DbType = Int32), @p278='?' (DbType = Int32), @p279='?' (DbType = DateTime2), @p280='?' (Size = 4000), @p281='?' (Size = 4000), @p282='?' (Size = 4000), @p283='?' (Size = 4000), @p284='?' (DbType = Guid), @p285='?' (DbType = Guid), @p286='?' (Size = 4000), @p287='?' (DbType = DateTime2), @p288='?' (DbType = DateTime2), @p289='?' (Size = 255), @p290='?' (DbType = DateTime2), @p291='?' (Size = 100), @p292='?' (Size = 4000), @p293='?' (DbType = Boolean), @p294='?' (DbType = Boolean), @p295='?' (DbType = DateTime2), @p296='?' (Size = 100), @p297='?' (Size = 20), @p298='?' (Size = 4000), @p299='?' (DbType = Int32), @p300='?' (DbType = Int32), @p301='?' (DbType = DateTime2), @p302='?' (Size = 4000), @p303='?' (Size = 4000), @p304='?' (Size = 4000), @p305='?' (Size = 4000), @p306='?' (DbType = Guid), @p307='?' (DbType = Guid), @p308='?' (Size = 4000), @p309='?' (DbType = DateTime2), @p310='?' (DbType = DateTime2), @p311='?' (Size = 255), @p312='?' (DbType = DateTime2), @p313='?' (Size = 100), @p314='?' (Size = 4000), @p315='?' (DbType = Boolean), @p316='?' (DbType = Boolean), @p317='?' (DbType = DateTime2), @p318='?' (Size = 100), @p319='?' (Size = 20), @p320='?' (Size = 4000), @p321='?' (DbType = Int32), @p322='?' (DbType = Int32), @p323='?' (DbType = DateTime2), @p324='?' (Size = 4000), @p325='?' (Size = 4000), @p326='?' (Size = 4000), @p327='?' (Size = 4000), @p328='?' (DbType = Guid), @p329='?' (DbType = Guid), @p330='?' (Size = 4000), @p331='?' (DbType = DateTime2), @p332='?' (DbType = DateTime2), @p333='?' (Size = 255), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (Size = 4000), @p337='?' (DbType = Boolean), @p338='?' (DbType = Boolean), @p339='?' (DbType = DateTime2), @p340='?' (Size = 100), @p341='?' (Size = 20), @p342='?' (Size = 4000), @p343='?' (DbType = Int32), @p344='?' (DbType = Int32), @p345='?' (DbType = DateTime2), @p346='?' (Size = 4000), @p347='?' (Size = 4000), @p348='?' (Size = 4000), @p349='?' (Size = 4000), @p350='?' (DbType = Guid), @p351='?' (DbType = Guid), @p352='?' (Size = 4000), @p353='?' (DbType = DateTime2), @p354='?' (DbType = DateTime2), @p355='?' (Size = 255), @p356='?' (DbType = DateTime2), @p357='?' (Size = 100), @p358='?' (Size = 4000), @p359='?' (DbType = Boolean), @p360='?' (DbType = Boolean), @p361='?' (DbType = DateTime2), @p362='?' (Size = 100), @p363='?' (Size = 20), @p364='?' (Size = 4000), @p365='?' (DbType = Int32), @p366='?' (DbType = Int32), @p367='?' (DbType = DateTime2), @p368='?' (Size = 4000), @p369='?' (Size = 4000), @p370='?' (Size = 4000), @p371='?' (Size = 4000), @p372='?' (DbType = Guid), @p373='?' (DbType = Guid), @p374='?' (Size = 4000), @p375='?' (DbType = DateTime2), @p376='?' (DbType = DateTime2), @p377='?' (Size = 255), @p378='?' (DbType = DateTime2), @p379='?' (Size = 100), @p380='?' (Size = 4000), @p381='?' (DbType = Boolean), @p382='?' (DbType = Boolean), @p383='?' (DbType = DateTime2), @p384='?' (Size = 100), @p385='?' (Size = 20), @p386='?' (Size = 4000), @p387='?' (DbType = Int32), @p388='?' (DbType = Int32), @p389='?' (DbType = DateTime2), @p390='?' (Size = 4000), @p391='?' (Size = 4000), @p392='?' (Size = 4000), @p393='?' (Size = 4000), @p394='?' (DbType = Guid), @p395='?' (DbType = Guid), @p396='?' (Size = 4000), @p397='?' (DbType = DateTime2), @p398='?' (DbType = DateTime2), @p399='?' (Size = 255), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (Size = 4000), @p403='?' (DbType = Boolean), @p404='?' (DbType = Boolean), @p405='?' (DbType = DateTime2), @p406='?' (Size = 100), @p407='?' (Size = 20), @p408='?' (Size = 4000), @p409='?' (DbType = Int32), @p410='?' (DbType = Int32), @p411='?' (DbType = DateTime2), @p412='?' (Size = 4000), @p413='?' (Size = 4000), @p414='?' (Size = 4000), @p415='?' (Size = 4000), @p416='?' (DbType = Guid), @p417='?' (DbType = Guid), @p418='?' (Size = 4000), @p419='?' (DbType = DateTime2), @p420='?' (DbType = DateTime2), @p421='?' (Size = 255), @p422='?' (DbType = DateTime2), @p423='?' (Size = 100), @p424='?' (Size = 4000), @p425='?' (DbType = Boolean), @p426='?' (DbType = Boolean), @p427='?' (DbType = DateTime2), @p428='?' (Size = 100), @p429='?' (Size = 20), @p430='?' (Size = 4000), @p431='?' (DbType = Int32), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2), @p434='?' (Size = 4000), @p435='?' (Size = 4000), @p436='?' (Size = 4000), @p437='?' (Size = 4000), @p438='?' (DbType = Guid), @p439='?' (DbType = Guid), @p440='?' (Size = 4000), @p441='?' (DbType = DateTime2), @p442='?' (DbType = DateTime2), @p443='?' (Size = 255), @p444='?' (DbType = DateTime2), @p445='?' (Size = 100), @p446='?' (Size = 4000), @p447='?' (DbType = Boolean), @p448='?' (DbType = Boolean), @p449='?' (DbType = DateTime2), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (Size = 4000), @p453='?' (DbType = Int32), @p454='?' (DbType = Int32), @p455='?' (DbType = DateTime2), @p456='?' (Size = 4000), @p457='?' (Size = 4000), @p458='?' (Size = 4000), @p459='?' (Size = 4000), @p460='?' (DbType = Guid), @p461='?' (DbType = Guid), @p462='?' (Size = 4000), @p463='?' (DbType = DateTime2), @p464='?' (DbType = DateTime2), @p465='?' (Size = 255), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (Size = 4000), @p469='?' (DbType = Boolean), @p470='?' (DbType = Boolean), @p471='?' (DbType = DateTime2), @p472='?' (Size = 100), @p473='?' (Size = 20), @p474='?' (Size = 4000), @p475='?' (DbType = Int32), @p476='?' (DbType = Int32), @p477='?' (DbType = DateTime2), @p478='?' (Size = 4000), @p479='?' (Size = 4000), @p480='?' (Size = 4000), @p481='?' (Size = 4000), @p482='?' (DbType = Guid), @p483='?' (DbType = Guid), @p484='?' (Size = 4000), @p485='?' (DbType = DateTime2), @p486='?' (DbType = DateTime2), @p487='?' (Size = 255), @p488='?' (DbType = DateTime2), @p489='?' (Size = 100), @p490='?' (Size = 4000), @p491='?' (DbType = Boolean), @p492='?' (DbType = Boolean), @p493='?' (DbType = DateTime2), @p494='?' (Size = 100), @p495='?' (Size = 20), @p496='?' (Size = 4000), @p497='?' (DbType = Int32), @p498='?' (DbType = Int32), @p499='?' (DbType = DateTime2), @p500='?' (Size = 4000), @p501='?' (Size = 4000), @p502='?' (Size = 4000), @p503='?' (Size = 4000), @p504='?' (DbType = Guid), @p505='?' (DbType = Guid), @p506='?' (Size = 4000), @p507='?' (DbType = DateTime2), @p508='?' (DbType = DateTime2), @p509='?' (Size = 255), @p510='?' (DbType = DateTime2), @p511='?' (Size = 100), @p512='?' (Size = 4000), @p513='?' (DbType = Boolean), @p514='?' (DbType = Boolean), @p515='?' (DbType = DateTime2), @p516='?' (Size = 100), @p517='?' (Size = 20), @p518='?' (Size = 4000), @p519='?' (DbType = Int32), @p520='?' (DbType = Int32), @p521='?' (DbType = DateTime2), @p522='?' (Size = 4000), @p523='?' (Size = 4000), @p524='?' (Size = 4000), @p525='?' (Size = 4000), @p526='?' (DbType = Guid), @p527='?' (DbType = Guid), @p528='?' (Size = 4000), @p529='?' (DbType = DateTime2), @p530='?' (DbType = DateTime2), @p531='?' (Size = 255), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (Size = 4000), @p535='?' (DbType = Boolean), @p536='?' (DbType = Boolean), @p537='?' (DbType = DateTime2), @p538='?' (Size = 100), @p539='?' (Size = 20), @p540='?' (Size = 4000), @p541='?' (DbType = Int32), @p542='?' (DbType = Int32), @p543='?' (DbType = DateTime2), @p544='?' (Size = 4000), @p545='?' (Size = 4000), @p546='?' (Size = 4000), @p547='?' (Size = 4000), @p548='?' (DbType = Guid), @p549='?' (DbType = DateTime2), @p550='?' (DbType = DateTime2), @p551='?' (Size = 255), @p552='?' (DbType = Int32), @p553='?' (Size = 100), @p554='?' (DbType = Boolean), @p555='?' (DbType = DateTime2), @p556='?' (Size = 100), @p557='?' (DbType = DateTime2), @p558='?' (Size = 4000), @p559='?' (DbType = DateTime2), @p560='?' (Size = 20), @p561='?' (DbType = Boolean), @p562='?' (Size = 50), @p563='?' (DbType = DateTime2), @p564='?' (DbType = Guid), @p565='?' (DbType = DateTime2), @p566='?' (DbType = DateTime2), @p567='?' (Size = 255), @p568='?' (DbType = Int32), @p569='?' (Size = 100), @p570='?' (DbType = Boolean), @p571='?' (DbType = DateTime2), @p572='?' (Size = 100), @p573='?' (DbType = DateTime2), @p574='?' (Size = 4000), @p575='?' (DbType = DateTime2), @p576='?' (Size = 20), @p577='?' (DbType = Boolean), @p578='?' (Size = 50), @p579='?' (DbType = DateTime2), @p580='?' (DbType = Guid), @p581='?' (DbType = DateTime2), @p582='?' (DbType = DateTime2), @p583='?' (Size = 255), @p584='?' (DbType = Int32), @p585='?' (Size = 100), @p586='?' (DbType = Boolean), @p587='?' (DbType = DateTime2), @p588='?' (Size = 100), @p589='?' (DbType = DateTime2), @p590='?' (Size = 4000), @p591='?' (DbType = DateTime2), @p592='?' (Size = 20), @p593='?' (DbType = Boolean), @p594='?' (Size = 50), @p595='?' (DbType = DateTime2), @p596='?' (DbType = Guid), @p597='?' (DbType = DateTime2), @p598='?' (DbType = DateTime2), @p599='?' (Size = 255), @p600='?' (DbType = Int32), @p601='?' (Size = 100), @p602='?' (DbType = Boolean), @p603='?' (DbType = DateTime2), @p604='?' (Size = 100), @p605='?' (DbType = DateTime2), @p606='?' (Size = 4000), @p607='?' (DbType = DateTime2), @p608='?' (Size = 20), @p609='?' (DbType = Boolean), @p610='?' (Size = 50), @p611='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17)) AS i ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[IsDeleted], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 0),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 1),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 2),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, 3),
(@p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, 4),
(@p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 5),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, 6),
(@p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, 7),
(@p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, 9),
(@p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, 10),
(@p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 11),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, 12),
(@p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, 13),
(@p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 14),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, 15),
(@p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, 16),
(@p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 17),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, 18),
(@p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, @p546, @p547, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsDeleted], i.[IsVip], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[PostalCode], i.[Street])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p548, @p549, @p550, @p551, @p552, @p553, @p554, @p555, @p556, @p557, @p558, @p559, @p560, @p561, @p562, @p563, 0),
(@p564, @p565, @p566, @p567, @p568, @p569, @p570, @p571, @p572, @p573, @p574, @p575, @p576, @p577, @p578, @p579, 1),
(@p580, @p581, @p582, @p583, @p584, @p585, @p586, @p587, @p588, @p589, @p590, @p591, @p592, @p593, @p594, @p595, 2),
(@p596, @p597, @p598, @p599, @p600, @p601, @p602, @p603, @p604, @p605, @p606, @p607, @p608, @p609, @p610, @p611, 3)) AS i ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[IsDeleted], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[PhoneNumber], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-09 17:00:40.727 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (Size = 500) (DbType = AnsiString), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (DbType = DateTime2), @p24='?' (Size = 200), @p25='?' (DbType = Int32), @p26='?' (DbType = DateTime2), @p27='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p28='?' (Size = 4000), @p29='?' (DbType = Guid), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (Size = 500) (DbType = AnsiString), @p34='?' (DbType = Boolean), @p35='?' (DbType = DateTime2), @p36='?' (Size = 200), @p37='?' (DbType = Int32), @p38='?' (DbType = DateTime2), @p39='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p40='?' (Size = 4000), @p41='?' (DbType = Guid), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (Size = 500) (DbType = AnsiString), @p46='?' (DbType = Boolean), @p47='?' (DbType = DateTime2), @p48='?' (Size = 200), @p49='?' (DbType = Int32), @p50='?' (DbType = DateTime2), @p51='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p52='?' (Size = 4000), @p53='?' (DbType = Guid), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (Size = 500) (DbType = AnsiString), @p58='?' (DbType = Boolean), @p59='?' (DbType = DateTime2), @p60='?' (Size = 200), @p61='?' (DbType = Int32), @p62='?' (DbType = DateTime2), @p63='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p64='?' (Size = 4000), @p65='?' (DbType = Guid), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (Size = 500) (DbType = AnsiString), @p70='?' (DbType = Boolean), @p71='?' (DbType = DateTime2), @p72='?' (Size = 200), @p73='?' (DbType = Int32), @p74='?' (DbType = DateTime2), @p75='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p76='?' (Size = 4000), @p77='?' (DbType = Guid), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (Size = 500) (DbType = AnsiString), @p82='?' (DbType = Boolean), @p83='?' (DbType = Boolean), @p84='?' (DbType = DateTime2), @p85='?' (Size = 200), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (Size = 4000), @p90='?' (DbType = Guid), @p91='?' (DbType = Guid), @p92='?' (DbType = DateTime2), @p93='?' (DbType = DateTime2), @p94='?' (Size = 500) (DbType = AnsiString), @p95='?' (DbType = Boolean), @p96='?' (DbType = Boolean), @p97='?' (DbType = DateTime2), @p98='?' (Size = 200), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p102='?' (Size = 4000), @p103='?' (DbType = Guid), @p104='?' (DbType = Guid), @p105='?' (DbType = DateTime2), @p106='?' (DbType = DateTime2), @p107='?' (Size = 500) (DbType = AnsiString), @p108='?' (DbType = Boolean), @p109='?' (DbType = DateTime2), @p110='?' (Size = 200), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (Size = 4000), @p115='?' (DbType = Guid), @p116='?' (DbType = Guid), @p117='?' (DbType = DateTime2), @p118='?' (DbType = DateTime2), @p119='?' (Size = 500) (DbType = AnsiString), @p120='?' (DbType = Boolean), @p121='?' (DbType = DateTime2), @p122='?' (Size = 200), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p126='?' (Size = 4000), @p127='?' (DbType = Guid), @p128='?' (DbType = Guid), @p129='?' (DbType = DateTime2), @p130='?' (DbType = DateTime2), @p131='?' (Size = 500) (DbType = AnsiString), @p132='?' (DbType = Boolean), @p133='?' (DbType = Boolean), @p134='?' (DbType = DateTime2), @p135='?' (Size = 200), @p136='?' (DbType = Int32), @p137='?' (DbType = DateTime2), @p138='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p139='?' (Size = 4000), @p140='?' (DbType = Guid), @p141='?' (DbType = Guid), @p142='?' (DbType = DateTime2), @p143='?' (DbType = DateTime2), @p144='?' (Size = 500) (DbType = AnsiString), @p145='?' (DbType = Boolean), @p146='?' (DbType = Boolean), @p147='?' (DbType = DateTime2), @p148='?' (Size = 200), @p149='?' (DbType = Int32), @p150='?' (DbType = DateTime2), @p151='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p152='?' (Size = 4000), @p153='?' (DbType = Guid), @p154='?' (DbType = Guid), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (Size = 500) (DbType = AnsiString), @p158='?' (DbType = Boolean), @p159='?' (DbType = DateTime2), @p160='?' (Size = 200), @p161='?' (DbType = Int32), @p162='?' (DbType = DateTime2), @p163='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p164='?' (Size = 4000), @p165='?' (DbType = Guid), @p166='?' (DbType = Guid), @p167='?' (DbType = DateTime2), @p168='?' (DbType = DateTime2), @p169='?' (Size = 500) (DbType = AnsiString), @p170='?' (DbType = Boolean), @p171='?' (DbType = DateTime2), @p172='?' (Size = 200), @p173='?' (DbType = Int32), @p174='?' (DbType = DateTime2), @p175='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p176='?' (Size = 4000), @p177='?' (DbType = Guid), @p178='?' (DbType = Guid), @p179='?' (DbType = DateTime2), @p180='?' (DbType = DateTime2), @p181='?' (Size = 500) (DbType = AnsiString), @p182='?' (DbType = Boolean), @p183='?' (DbType = DateTime2), @p184='?' (Size = 200), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (DbType = Guid), @p191='?' (DbType = DateTime2), @p192='?' (DbType = DateTime2), @p193='?' (Size = 500) (DbType = AnsiString), @p194='?' (DbType = Boolean), @p195='?' (DbType = DateTime2), @p196='?' (Size = 200), @p197='?' (DbType = Int32), @p198='?' (DbType = DateTime2), @p199='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p200='?' (Size = 4000), @p201='?' (DbType = Guid), @p202='?' (DbType = Guid), @p203='?' (DbType = DateTime2), @p204='?' (DbType = DateTime2), @p205='?' (Size = 500) (DbType = AnsiString), @p206='?' (DbType = Boolean), @p207='?' (DbType = Boolean), @p208='?' (DbType = DateTime2), @p209='?' (Size = 200), @p210='?' (DbType = Int32), @p211='?' (DbType = DateTime2), @p212='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p213='?' (Size = 4000), @p214='?' (DbType = Guid), @p215='?' (DbType = Guid), @p216='?' (DbType = DateTime2), @p217='?' (DbType = DateTime2), @p218='?' (Size = 500) (DbType = AnsiString), @p219='?' (DbType = Boolean), @p220='?' (DbType = DateTime2), @p221='?' (Size = 200), @p222='?' (DbType = Int32), @p223='?' (DbType = DateTime2), @p224='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p225='?' (Size = 4000), @p226='?' (DbType = Guid), @p227='?' (DbType = Guid), @p228='?' (DbType = DateTime2), @p229='?' (DbType = DateTime2), @p230='?' (Size = 500) (DbType = AnsiString), @p231='?' (DbType = Boolean), @p232='?' (DbType = Boolean), @p233='?' (DbType = DateTime2), @p234='?' (Size = 200), @p235='?' (DbType = Int32), @p236='?' (DbType = DateTime2), @p237='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p238='?' (Size = 4000), @p239='?' (DbType = Guid), @p240='?' (DbType = Guid), @p241='?' (DbType = DateTime2), @p242='?' (DbType = DateTime2), @p243='?' (Size = 500) (DbType = AnsiString), @p244='?' (DbType = Boolean), @p245='?' (DbType = DateTime2), @p246='?' (Size = 200), @p247='?' (DbType = Int32), @p248='?' (DbType = DateTime2), @p249='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p250='?' (Size = 4000), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = DateTime2), @p255='?' (Size = 500) (DbType = AnsiString), @p256='?' (DbType = Boolean), @p257='?' (DbType = DateTime2), @p258='?' (Size = 200), @p259='?' (DbType = Int32), @p260='?' (DbType = DateTime2), @p261='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p262='?' (Size = 4000), @p263='?' (DbType = Guid), @p264='?' (DbType = DateTime2), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Boolean), @p267='?' (DbType = Boolean), @p268='?' (DbType = Guid), @p269='?' (DbType = Int32), @p270='?' (DbType = DateTime2), @p271='?' (DbType = Guid), @p272='?' (DbType = DateTime2), @p273='?' (DbType = DateTime2), @p274='?' (DbType = Boolean), @p275='?' (DbType = Boolean), @p276='?' (DbType = Guid), @p277='?' (DbType = Int32), @p278='?' (DbType = DateTime2), @p279='?' (DbType = Guid), @p280='?' (DbType = DateTime2), @p281='?' (DbType = DateTime2), @p282='?' (DbType = Boolean), @p283='?' (DbType = Boolean), @p284='?' (DbType = Guid), @p285='?' (DbType = Int32), @p286='?' (DbType = DateTime2), @p287='?' (DbType = Guid), @p288='?' (DbType = DateTime2), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Boolean), @p291='?' (DbType = Boolean), @p292='?' (DbType = Guid), @p293='?' (DbType = Int32), @p294='?' (DbType = DateTime2), @p295='?' (DbType = Guid), @p296='?' (DbType = DateTime2), @p297='?' (DbType = DateTime2), @p298='?' (DbType = Boolean), @p299='?' (DbType = Boolean), @p300='?' (DbType = Guid), @p301='?' (DbType = Int32), @p302='?' (DbType = DateTime2), @p303='?' (DbType = Guid), @p304='?' (DbType = DateTime2), @p305='?' (DbType = DateTime2), @p306='?' (DbType = Boolean), @p307='?' (DbType = Boolean), @p308='?' (DbType = Guid), @p309='?' (DbType = Int32), @p310='?' (DbType = DateTime2), @p311='?' (DbType = Guid), @p312='?' (DbType = DateTime2), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Boolean), @p315='?' (DbType = Boolean), @p316='?' (DbType = Guid), @p317='?' (DbType = Int32), @p318='?' (DbType = DateTime2), @p319='?' (DbType = Guid), @p320='?' (DbType = DateTime2), @p321='?' (DbType = DateTime2), @p322='?' (DbType = Boolean), @p323='?' (DbType = Boolean), @p324='?' (DbType = Guid), @p325='?' (DbType = Int32), @p326='?' (DbType = DateTime2), @p327='?' (DbType = Guid), @p328='?' (DbType = DateTime2), @p329='?' (DbType = DateTime2), @p330='?' (DbType = Boolean), @p331='?' (DbType = Boolean), @p332='?' (DbType = Guid), @p333='?' (DbType = Int32), @p334='?' (DbType = DateTime2), @p335='?' (DbType = Guid), @p336='?' (DbType = DateTime2), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Boolean), @p339='?' (DbType = Boolean), @p340='?' (DbType = Guid), @p341='?' (DbType = Int32), @p342='?' (DbType = DateTime2), @p343='?' (DbType = Guid), @p344='?' (DbType = DateTime2), @p345='?' (DbType = DateTime2), @p346='?' (DbType = Boolean), @p347='?' (DbType = Boolean), @p348='?' (DbType = Guid), @p349='?' (DbType = Int32), @p350='?' (DbType = DateTime2), @p351='?' (DbType = Guid), @p352='?' (DbType = DateTime2), @p353='?' (DbType = DateTime2), @p354='?' (DbType = Boolean), @p355='?' (DbType = Boolean), @p356='?' (DbType = Guid), @p357='?' (DbType = Int32), @p358='?' (DbType = DateTime2), @p359='?' (DbType = Guid), @p360='?' (DbType = DateTime2), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Boolean), @p363='?' (DbType = Boolean), @p364='?' (DbType = Guid), @p365='?' (DbType = Int32), @p366='?' (DbType = DateTime2), @p367='?' (DbType = Guid), @p368='?' (DbType = DateTime2), @p369='?' (DbType = DateTime2), @p370='?' (DbType = Boolean), @p371='?' (DbType = Boolean), @p372='?' (DbType = Guid), @p373='?' (DbType = Int32), @p374='?' (DbType = DateTime2), @p375='?' (DbType = Guid), @p376='?' (DbType = DateTime2), @p377='?' (DbType = DateTime2), @p378='?' (DbType = Boolean), @p379='?' (DbType = Boolean), @p380='?' (DbType = Guid), @p381='?' (DbType = Int32), @p382='?' (DbType = DateTime2), @p383='?' (DbType = Guid), @p384='?' (DbType = DateTime2), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Boolean), @p387='?' (DbType = Boolean), @p388='?' (DbType = Guid), @p389='?' (DbType = Int32), @p390='?' (DbType = DateTime2), @p391='?' (DbType = Guid), @p392='?' (DbType = DateTime2), @p393='?' (DbType = DateTime2), @p394='?' (DbType = Boolean), @p395='?' (DbType = Boolean), @p396='?' (DbType = Guid), @p397='?' (DbType = Int32), @p398='?' (DbType = DateTime2), @p399='?' (DbType = Guid), @p400='?' (DbType = DateTime2), @p401='?' (DbType = DateTime2), @p402='?' (DbType = Boolean), @p403='?' (DbType = Boolean), @p404='?' (DbType = Guid), @p405='?' (DbType = Int32), @p406='?' (DbType = DateTime2), @p407='?' (DbType = Guid), @p408='?' (DbType = DateTime2), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Boolean), @p411='?' (DbType = Boolean), @p412='?' (DbType = Guid), @p413='?' (DbType = Int32), @p414='?' (DbType = DateTime2), @p415='?' (DbType = Guid), @p416='?' (DbType = DateTime2), @p417='?' (DbType = DateTime2), @p418='?' (DbType = Boolean), @p419='?' (DbType = Boolean), @p420='?' (DbType = Guid), @p421='?' (DbType = Int32), @p422='?' (DbType = DateTime2), @p423='?' (DbType = Guid), @p424='?' (DbType = DateTime2), @p425='?' (DbType = DateTime2), @p426='?' (DbType = Guid), @p427='?' (DbType = Boolean), @p428='?' (DbType = Boolean), @p429='?' (DbType = DateTime2), @p430='?' (DbType = Int32), @p431='?' (Size = 4000), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
MERGE [Products] USING (
VALUES (@p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, 0),
(@p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, 1),
(@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, 2),
(@p65, @p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, 3)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
MERGE [Products] USING (
VALUES (@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 0),
(@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[IsService], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Products] USING (
VALUES (@p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, 0),
(@p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
MERGE [Products] USING (
VALUES (@p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, 0),
(@p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[IsService], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Products] USING (
VALUES (@p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, 0),
(@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175, @p176, 1),
(@p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, 2),
(@p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200, 3)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238);
MERGE [Products] USING (
VALUES (@p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, 0),
(@p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Inventories] ([Id], [CreatedAt], [DeletedAt], [IsActive], [IsDeleted], [ProductId], [Quantity], [UpdatedAt])
VALUES (@p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270),
(@p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278),
(@p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286),
(@p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294),
(@p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302),
(@p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310),
(@p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318),
(@p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326),
(@p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334),
(@p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342),
(@p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350),
(@p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358),
(@p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366),
(@p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374),
(@p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382),
(@p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390),
(@p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398),
(@p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406),
(@p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414),
(@p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422);
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433);
2025-06-09 17:00:40.740 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?' (DbType = Boolean), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTime2), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Int32), @p41='?' (Size = 4000), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Size = 4000), @p53='?' (DbType = Int32), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Guid), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Guid), @p70='?' (DbType = Boolean), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Int32), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (DbType = Guid), @p78='?' (DbType = DateTime2), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Guid), @p81='?' (DbType = Boolean), @p82='?' (DbType = Boolean), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Int32), @p85='?' (Size = 4000), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (DbType = Guid), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Guid), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (DbType = DateTime2), @p95='?' (DbType = Int32), @p96='?' (Size = 4000), @p97='?' (DbType = Int32), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Guid), @p100='?' (DbType = DateTime2), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = DateTime2), @p106='?' (DbType = Int32), @p107='?' (Size = 4000), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = DateTime2), @p117='?' (DbType = Int32), @p118='?' (Size = 4000), @p119='?' (DbType = Int32), @p120='?' (DbType = DateTime2), @p121='?' (DbType = Guid), @p122='?' (DbType = DateTime2), @p123='?' (DbType = DateTime2), @p124='?' (DbType = Guid), @p125='?' (DbType = Boolean), @p126='?' (DbType = Boolean), @p127='?' (DbType = DateTime2), @p128='?' (DbType = Int32), @p129='?' (Size = 4000), @p130='?' (DbType = Int32), @p131='?' (DbType = DateTime2), @p132='?' (DbType = Guid), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (DbType = Guid), @p136='?' (DbType = Boolean), @p137='?' (DbType = Boolean), @p138='?' (DbType = DateTime2), @p139='?' (DbType = Int32), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (DbType = Guid), @p144='?' (DbType = DateTime2), @p145='?' (DbType = DateTime2), @p146='?' (DbType = Guid), @p147='?' (DbType = Boolean), @p148='?' (DbType = Boolean), @p149='?' (DbType = DateTime2), @p150='?' (DbType = Int32), @p151='?' (Size = 4000), @p152='?' (DbType = Int32), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (DbType = Guid), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (DbType = DateTime2), @p161='?' (DbType = Int32), @p162='?' (Size = 4000), @p163='?' (DbType = Int32), @p164='?' (DbType = DateTime2), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime2), @p168='?' (DbType = Guid), @p169='?' (DbType = Boolean), @p170='?' (DbType = Boolean), @p171='?' (DbType = DateTime2), @p172='?' (DbType = Int32), @p173='?' (Size = 4000), @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime2), @p176='?' (DbType = Guid), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (DbType = Guid), @p180='?' (DbType = Boolean), @p181='?' (DbType = Boolean), @p182='?' (DbType = DateTime2), @p183='?' (DbType = Int32), @p184='?' (Size = 4000), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (DbType = Guid), @p188='?' (DbType = DateTime2), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Guid), @p191='?' (DbType = Boolean), @p192='?' (DbType = Boolean), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (Size = 4000), @p196='?' (DbType = Int32), @p197='?' (DbType = DateTime2), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (DbType = Guid), @p202='?' (DbType = Boolean), @p203='?' (DbType = Boolean), @p204='?' (DbType = DateTime2), @p205='?' (DbType = Int32), @p206='?' (Size = 4000), @p207='?' (DbType = Int32), @p208='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21),
(@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32),
(@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54),
(@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76),
(@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98),
(@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120),
(@p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142),
(@p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153),
(@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164),
(@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175),
(@p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186),
(@p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208);
2025-06-09 17:00:40.748 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 17:00:40.773 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 17:00:40.910 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 17:00:40.910 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 17:00:40.911 +02:00 [INF] Hosting environment: Development
2025-06-09 17:00:40.911 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 17:00:51.741 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 132
2025-06-09 17:00:51.775 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 17:00:51.780 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 17:00:51.866 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 17:00:51.875 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 17:00:51.877 +02:00 [INF] Handling UserCreatedEvent for UserId="19a54b3a-470b-42ae-9472-cabfdf050a1c"
2025-06-09 17:00:51.891 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:00:51.908 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 17:00:54.329 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T15:00:54.3297430Z".
2025-06-09 17:00:54.331 +02:00 [INF] Activation email sent to koumeil.messaoudi@outlook.com
2025-06-09 17:00:54.347 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:00:54.375 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 2592.8565ms
2025-06-09 17:00:54.379 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 17:00:54.383 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 2643.1125ms
2025-06-09 17:01:40.245 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 17:01:40.249 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 17:01:40.255 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 17:01:40.324 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:01:40.357 +02:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:01:40.370 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 17:01:40.384 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 17:01:40.455 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 17:01:42.646 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T15:01:42.6469110Z".
2025-06-09 17:01:42.648 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 17:01:42.652 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 2395.6775ms
2025-06-09 17:01:42.652 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 17:01:42.653 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 2407.5538ms
2025-06-09 17:02:53.970 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 17:02:53.980 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 17:02:53.984 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 17:02:54.011 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 17:02:54.088 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:02:54.105 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
UPDATE [Users] SET [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-06-09 17:02:54.112 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 17:02:54.113 +02:00 [INF] Handling UserCreatedEvent for UserId="2924d512-3fbd-4259-b315-7f60adc2b33c"
2025-06-09 17:02:54.114 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:02:54.116 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 17:02:55.646 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T15:02:55.6465210Z".
2025-06-09 17:02:55.647 +02:00 [INF] Activation email sent to koumeil.messaoudi@outlook.com
2025-06-09 17:02:55.649 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:02:55.656 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 1672.56ms
2025-06-09 17:02:55.657 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 17:02:55.657 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 1686.989ms
2025-06-09 17:34:23.420 +02:00 [INF] Application is shutting down...
2025-06-09 17:34:28.870 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 17:34:28.942 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:34:28.949 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:34:28.954 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:34:28.963 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 17:34:28.986 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 17:34:29.132 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 17:34:29.132 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 17:34:29.132 +02:00 [INF] Hosting environment: Development
2025-06-09 17:34:29.132 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 17:34:35.589 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 17:34:35.613 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 17:34:35.619 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 17:34:35.712 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 17:34:35.792 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:34:35.848 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
UPDATE [Users] SET [UpdatedAt] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-06-09 17:34:35.870 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 17:34:35.873 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 17:34:35.878 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:34:35.885 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 265.7957ms
2025-06-09 17:34:35.887 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 17:34:35.889 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 300.8914ms
2025-06-09 17:35:32.693 +02:00 [INF] Application is shutting down...
2025-06-09 17:36:02.178 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 17:36:02.227 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:36:02.283 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:36:02.309 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 17:36:02.670 +02:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = DateTime2), @p20='?' (DbType = DateTime2), @p21='?' (DbType = Boolean), @p22='?' (Size = 100), @p23='?' (DbType = DateTime2), @p24='?' (DbType = Guid), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Boolean), @p28='?' (Size = 100), @p29='?' (DbType = DateTime2), @p30='?' (DbType = Guid), @p31='?' (DbType = DateTime2), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Boolean), @p34='?' (Size = 100), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = DateTime2), @p38='?' (DbType = DateTime2), @p39='?' (DbType = Boolean), @p40='?' (Size = 100), @p41='?' (DbType = DateTime2), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (DbType = Boolean), @p46='?' (Size = 100), @p47='?' (DbType = DateTime2), @p48='?' (DbType = Guid), @p49='?' (DbType = DateTime2), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Boolean), @p52='?' (Size = 100), @p53='?' (DbType = DateTime2), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (DbType = Boolean), @p58='?' (Size = 100), @p59='?' (DbType = DateTime2), @p60='?' (DbType = Guid), @p61='?' (DbType = DateTime2), @p62='?' (DbType = DateTime2), @p63='?' (DbType = Boolean), @p64='?' (Size = 100), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Boolean), @p70='?' (Size = 100), @p71='?' (DbType = DateTime2), @p72='?' (DbType = Guid), @p73='?' (DbType = DateTime2), @p74='?' (DbType = DateTime2), @p75='?' (DbType = Boolean), @p76='?' (Size = 100), @p77='?' (DbType = DateTime2), @p78='?' (DbType = Guid), @p79='?' (DbType = DateTime2), @p80='?' (DbType = DateTime2), @p81='?' (DbType = Boolean), @p82='?' (Size = 100), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Guid), @p85='?' (DbType = DateTime2), @p86='?' (DbType = DateTime2), @p87='?' (DbType = Boolean), @p88='?' (Size = 100), @p89='?' (DbType = DateTime2), @p90='?' (DbType = Guid), @p91='?' (DbType = DateTime2), @p92='?' (DbType = DateTime2), @p93='?' (DbType = Boolean), @p94='?' (Size = 100), @p95='?' (DbType = DateTime2), @p96='?' (DbType = Guid), @p97='?' (DbType = DateTime2), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Boolean), @p100='?' (Size = 100), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = DateTime2), @p104='?' (DbType = DateTime2), @p105='?' (DbType = Boolean), @p106='?' (Size = 100), @p107='?' (DbType = DateTime2), @p108='?' (DbType = Guid), @p109='?' (DbType = Guid), @p110='?' (Size = 4000), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (Size = 255), @p114='?' (DbType = DateTime2), @p115='?' (Size = 100), @p116='?' (Size = 4000), @p117='?' (DbType = Boolean), @p118='?' (DbType = Boolean), @p119='?' (DbType = DateTime2), @p120='?' (Size = 100), @p121='?' (Size = 20), @p122='?' (Size = 4000), @p123='?' (DbType = Int32), @p124='?' (DbType = Int32), @p125='?' (DbType = DateTime2), @p126='?' (Size = 4000), @p127='?' (Size = 4000), @p128='?' (Size = 4000), @p129='?' (Size = 4000), @p130='?' (DbType = Guid), @p131='?' (DbType = Guid), @p132='?' (Size = 4000), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (Size = 255), @p136='?' (DbType = DateTime2), @p137='?' (Size = 100), @p138='?' (Size = 4000), @p139='?' (DbType = Boolean), @p140='?' (DbType = Boolean), @p141='?' (DbType = DateTime2), @p142='?' (Size = 100), @p143='?' (Size = 20), @p144='?' (Size = 4000), @p145='?' (DbType = Int32), @p146='?' (DbType = Int32), @p147='?' (DbType = DateTime2), @p148='?' (Size = 4000), @p149='?' (Size = 4000), @p150='?' (Size = 4000), @p151='?' (Size = 4000), @p152='?' (DbType = Guid), @p153='?' (DbType = Guid), @p154='?' (Size = 4000), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (Size = 255), @p158='?' (DbType = DateTime2), @p159='?' (Size = 100), @p160='?' (Size = 4000), @p161='?' (DbType = Boolean), @p162='?' (DbType = Boolean), @p163='?' (DbType = DateTime2), @p164='?' (Size = 100), @p165='?' (Size = 20), @p166='?' (Size = 4000), @p167='?' (DbType = Int32), @p168='?' (DbType = Int32), @p169='?' (DbType = DateTime2), @p170='?' (Size = 4000), @p171='?' (Size = 4000), @p172='?' (Size = 4000), @p173='?' (Size = 4000), @p174='?' (DbType = Guid), @p175='?' (DbType = Guid), @p176='?' (Size = 4000), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (Size = 255), @p180='?' (DbType = DateTime2), @p181='?' (Size = 100), @p182='?' (Size = 4000), @p183='?' (DbType = Boolean), @p184='?' (DbType = Boolean), @p185='?' (DbType = DateTime2), @p186='?' (Size = 100), @p187='?' (Size = 20), @p188='?' (Size = 4000), @p189='?' (DbType = Int32), @p190='?' (DbType = Int32), @p191='?' (DbType = DateTime2), @p192='?' (Size = 4000), @p193='?' (Size = 4000), @p194='?' (Size = 4000), @p195='?' (Size = 4000), @p196='?' (DbType = Guid), @p197='?' (DbType = Guid), @p198='?' (Size = 4000), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (Size = 255), @p202='?' (DbType = DateTime2), @p203='?' (Size = 100), @p204='?' (Size = 4000), @p205='?' (DbType = Boolean), @p206='?' (DbType = Boolean), @p207='?' (DbType = DateTime2), @p208='?' (Size = 100), @p209='?' (Size = 20), @p210='?' (Size = 4000), @p211='?' (DbType = Int32), @p212='?' (DbType = Int32), @p213='?' (DbType = DateTime2), @p214='?' (Size = 4000), @p215='?' (Size = 4000), @p216='?' (Size = 4000), @p217='?' (Size = 4000), @p218='?' (DbType = Guid), @p219='?' (DbType = Guid), @p220='?' (Size = 4000), @p221='?' (DbType = DateTime2), @p222='?' (DbType = DateTime2), @p223='?' (Size = 255), @p224='?' (DbType = DateTime2), @p225='?' (Size = 100), @p226='?' (Size = 4000), @p227='?' (DbType = Boolean), @p228='?' (DbType = Boolean), @p229='?' (DbType = DateTime2), @p230='?' (Size = 100), @p231='?' (Size = 20), @p232='?' (Size = 4000), @p233='?' (DbType = Int32), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Size = 4000), @p237='?' (Size = 4000), @p238='?' (Size = 4000), @p239='?' (Size = 4000), @p240='?' (DbType = Guid), @p241='?' (DbType = Guid), @p242='?' (Size = 4000), @p243='?' (DbType = DateTime2), @p244='?' (DbType = DateTime2), @p245='?' (Size = 255), @p246='?' (DbType = DateTime2), @p247='?' (Size = 100), @p248='?' (Size = 4000), @p249='?' (DbType = Boolean), @p250='?' (DbType = Boolean), @p251='?' (DbType = DateTime2), @p252='?' (Size = 100), @p253='?' (Size = 20), @p254='?' (Size = 4000), @p255='?' (DbType = Int32), @p256='?' (DbType = Int32), @p257='?' (DbType = DateTime2), @p258='?' (Size = 4000), @p259='?' (Size = 4000), @p260='?' (Size = 4000), @p261='?' (Size = 4000), @p262='?' (DbType = Guid), @p263='?' (DbType = Guid), @p264='?' (Size = 4000), @p265='?' (DbType = DateTime2), @p266='?' (DbType = DateTime2), @p267='?' (Size = 255), @p268='?' (DbType = DateTime2), @p269='?' (Size = 100), @p270='?' (Size = 4000), @p271='?' (DbType = Boolean), @p272='?' (DbType = Boolean), @p273='?' (DbType = DateTime2), @p274='?' (Size = 100), @p275='?' (Size = 20), @p276='?' (Size = 4000), @p277='?' (DbType = Int32), @p278='?' (DbType = Int32), @p279='?' (DbType = DateTime2), @p280='?' (Size = 4000), @p281='?' (Size = 4000), @p282='?' (Size = 4000), @p283='?' (Size = 4000), @p284='?' (DbType = Guid), @p285='?' (DbType = Guid), @p286='?' (Size = 4000), @p287='?' (DbType = DateTime2), @p288='?' (DbType = DateTime2), @p289='?' (Size = 255), @p290='?' (DbType = DateTime2), @p291='?' (Size = 100), @p292='?' (Size = 4000), @p293='?' (DbType = Boolean), @p294='?' (DbType = Boolean), @p295='?' (DbType = DateTime2), @p296='?' (Size = 100), @p297='?' (Size = 20), @p298='?' (Size = 4000), @p299='?' (DbType = Int32), @p300='?' (DbType = Int32), @p301='?' (DbType = DateTime2), @p302='?' (Size = 4000), @p303='?' (Size = 4000), @p304='?' (Size = 4000), @p305='?' (Size = 4000), @p306='?' (DbType = Guid), @p307='?' (DbType = Guid), @p308='?' (Size = 4000), @p309='?' (DbType = DateTime2), @p310='?' (DbType = DateTime2), @p311='?' (Size = 255), @p312='?' (DbType = DateTime2), @p313='?' (Size = 100), @p314='?' (Size = 4000), @p315='?' (DbType = Boolean), @p316='?' (DbType = Boolean), @p317='?' (DbType = DateTime2), @p318='?' (Size = 100), @p319='?' (Size = 20), @p320='?' (Size = 4000), @p321='?' (DbType = Int32), @p322='?' (DbType = Int32), @p323='?' (DbType = DateTime2), @p324='?' (Size = 4000), @p325='?' (Size = 4000), @p326='?' (Size = 4000), @p327='?' (Size = 4000), @p328='?' (DbType = Guid), @p329='?' (DbType = Guid), @p330='?' (Size = 4000), @p331='?' (DbType = DateTime2), @p332='?' (DbType = DateTime2), @p333='?' (Size = 255), @p334='?' (DbType = DateTime2), @p335='?' (Size = 100), @p336='?' (Size = 4000), @p337='?' (DbType = Boolean), @p338='?' (DbType = Boolean), @p339='?' (DbType = DateTime2), @p340='?' (Size = 100), @p341='?' (Size = 20), @p342='?' (Size = 4000), @p343='?' (DbType = Int32), @p344='?' (DbType = Int32), @p345='?' (DbType = DateTime2), @p346='?' (Size = 4000), @p347='?' (Size = 4000), @p348='?' (Size = 4000), @p349='?' (Size = 4000), @p350='?' (DbType = Guid), @p351='?' (DbType = Guid), @p352='?' (Size = 4000), @p353='?' (DbType = DateTime2), @p354='?' (DbType = DateTime2), @p355='?' (Size = 255), @p356='?' (DbType = DateTime2), @p357='?' (Size = 100), @p358='?' (Size = 4000), @p359='?' (DbType = Boolean), @p360='?' (DbType = Boolean), @p361='?' (DbType = DateTime2), @p362='?' (Size = 100), @p363='?' (Size = 20), @p364='?' (Size = 4000), @p365='?' (DbType = Int32), @p366='?' (DbType = Int32), @p367='?' (DbType = DateTime2), @p368='?' (Size = 4000), @p369='?' (Size = 4000), @p370='?' (Size = 4000), @p371='?' (Size = 4000), @p372='?' (DbType = Guid), @p373='?' (DbType = Guid), @p374='?' (Size = 4000), @p375='?' (DbType = DateTime2), @p376='?' (DbType = DateTime2), @p377='?' (Size = 255), @p378='?' (DbType = DateTime2), @p379='?' (Size = 100), @p380='?' (Size = 4000), @p381='?' (DbType = Boolean), @p382='?' (DbType = Boolean), @p383='?' (DbType = DateTime2), @p384='?' (Size = 100), @p385='?' (Size = 20), @p386='?' (Size = 4000), @p387='?' (DbType = Int32), @p388='?' (DbType = Int32), @p389='?' (DbType = DateTime2), @p390='?' (Size = 4000), @p391='?' (Size = 4000), @p392='?' (Size = 4000), @p393='?' (Size = 4000), @p394='?' (DbType = Guid), @p395='?' (DbType = Guid), @p396='?' (Size = 4000), @p397='?' (DbType = DateTime2), @p398='?' (DbType = DateTime2), @p399='?' (Size = 255), @p400='?' (DbType = DateTime2), @p401='?' (Size = 100), @p402='?' (Size = 4000), @p403='?' (DbType = Boolean), @p404='?' (DbType = Boolean), @p405='?' (DbType = DateTime2), @p406='?' (Size = 100), @p407='?' (Size = 20), @p408='?' (Size = 4000), @p409='?' (DbType = Int32), @p410='?' (DbType = Int32), @p411='?' (DbType = DateTime2), @p412='?' (Size = 4000), @p413='?' (Size = 4000), @p414='?' (Size = 4000), @p415='?' (Size = 4000), @p416='?' (DbType = Guid), @p417='?' (DbType = Guid), @p418='?' (Size = 4000), @p419='?' (DbType = DateTime2), @p420='?' (DbType = DateTime2), @p421='?' (Size = 255), @p422='?' (DbType = DateTime2), @p423='?' (Size = 100), @p424='?' (Size = 4000), @p425='?' (DbType = Boolean), @p426='?' (DbType = Boolean), @p427='?' (DbType = DateTime2), @p428='?' (Size = 100), @p429='?' (Size = 20), @p430='?' (Size = 4000), @p431='?' (DbType = Int32), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2), @p434='?' (Size = 4000), @p435='?' (Size = 4000), @p436='?' (Size = 4000), @p437='?' (Size = 4000), @p438='?' (DbType = Guid), @p439='?' (DbType = Guid), @p440='?' (Size = 4000), @p441='?' (DbType = DateTime2), @p442='?' (DbType = DateTime2), @p443='?' (Size = 255), @p444='?' (DbType = DateTime2), @p445='?' (Size = 100), @p446='?' (Size = 4000), @p447='?' (DbType = Boolean), @p448='?' (DbType = Boolean), @p449='?' (DbType = DateTime2), @p450='?' (Size = 100), @p451='?' (Size = 20), @p452='?' (Size = 4000), @p453='?' (DbType = Int32), @p454='?' (DbType = Int32), @p455='?' (DbType = DateTime2), @p456='?' (Size = 4000), @p457='?' (Size = 4000), @p458='?' (Size = 4000), @p459='?' (Size = 4000), @p460='?' (DbType = Guid), @p461='?' (DbType = Guid), @p462='?' (Size = 4000), @p463='?' (DbType = DateTime2), @p464='?' (DbType = DateTime2), @p465='?' (Size = 255), @p466='?' (DbType = DateTime2), @p467='?' (Size = 100), @p468='?' (Size = 4000), @p469='?' (DbType = Boolean), @p470='?' (DbType = Boolean), @p471='?' (DbType = DateTime2), @p472='?' (Size = 100), @p473='?' (Size = 20), @p474='?' (Size = 4000), @p475='?' (DbType = Int32), @p476='?' (DbType = Int32), @p477='?' (DbType = DateTime2), @p478='?' (Size = 4000), @p479='?' (Size = 4000), @p480='?' (Size = 4000), @p481='?' (Size = 4000), @p482='?' (DbType = Guid), @p483='?' (DbType = Guid), @p484='?' (Size = 4000), @p485='?' (DbType = DateTime2), @p486='?' (DbType = DateTime2), @p487='?' (Size = 255), @p488='?' (DbType = DateTime2), @p489='?' (Size = 100), @p490='?' (Size = 4000), @p491='?' (DbType = Boolean), @p492='?' (DbType = Boolean), @p493='?' (DbType = DateTime2), @p494='?' (Size = 100), @p495='?' (Size = 20), @p496='?' (Size = 4000), @p497='?' (DbType = Int32), @p498='?' (DbType = Int32), @p499='?' (DbType = DateTime2), @p500='?' (Size = 4000), @p501='?' (Size = 4000), @p502='?' (Size = 4000), @p503='?' (Size = 4000), @p504='?' (DbType = Guid), @p505='?' (DbType = Guid), @p506='?' (Size = 4000), @p507='?' (DbType = DateTime2), @p508='?' (DbType = DateTime2), @p509='?' (Size = 255), @p510='?' (DbType = DateTime2), @p511='?' (Size = 100), @p512='?' (Size = 4000), @p513='?' (DbType = Boolean), @p514='?' (DbType = Boolean), @p515='?' (DbType = DateTime2), @p516='?' (Size = 100), @p517='?' (Size = 20), @p518='?' (Size = 4000), @p519='?' (DbType = Int32), @p520='?' (DbType = Int32), @p521='?' (DbType = DateTime2), @p522='?' (Size = 4000), @p523='?' (Size = 4000), @p524='?' (Size = 4000), @p525='?' (Size = 4000), @p526='?' (DbType = Guid), @p527='?' (DbType = Guid), @p528='?' (Size = 4000), @p529='?' (DbType = DateTime2), @p530='?' (DbType = DateTime2), @p531='?' (Size = 255), @p532='?' (DbType = DateTime2), @p533='?' (Size = 100), @p534='?' (Size = 4000), @p535='?' (DbType = Boolean), @p536='?' (DbType = Boolean), @p537='?' (DbType = DateTime2), @p538='?' (Size = 100), @p539='?' (Size = 20), @p540='?' (Size = 4000), @p541='?' (DbType = Int32), @p542='?' (DbType = Int32), @p543='?' (DbType = DateTime2), @p544='?' (Size = 4000), @p545='?' (Size = 4000), @p546='?' (Size = 4000), @p547='?' (Size = 4000), @p548='?' (DbType = Guid), @p549='?' (DbType = DateTime2), @p550='?' (DbType = DateTime2), @p551='?' (Size = 255), @p552='?' (DbType = Int32), @p553='?' (Size = 100), @p554='?' (DbType = Boolean), @p555='?' (DbType = DateTime2), @p556='?' (Size = 100), @p557='?' (DbType = DateTime2), @p558='?' (Size = 4000), @p559='?' (DbType = DateTime2), @p560='?' (Size = 20), @p561='?' (DbType = Boolean), @p562='?' (Size = 50), @p563='?' (DbType = DateTime2), @p564='?' (DbType = Guid), @p565='?' (DbType = DateTime2), @p566='?' (DbType = DateTime2), @p567='?' (Size = 255), @p568='?' (DbType = Int32), @p569='?' (Size = 100), @p570='?' (DbType = Boolean), @p571='?' (DbType = DateTime2), @p572='?' (Size = 100), @p573='?' (DbType = DateTime2), @p574='?' (Size = 4000), @p575='?' (DbType = DateTime2), @p576='?' (Size = 20), @p577='?' (DbType = Boolean), @p578='?' (Size = 50), @p579='?' (DbType = DateTime2), @p580='?' (DbType = Guid), @p581='?' (DbType = DateTime2), @p582='?' (DbType = DateTime2), @p583='?' (Size = 255), @p584='?' (DbType = Int32), @p585='?' (Size = 100), @p586='?' (DbType = Boolean), @p587='?' (DbType = DateTime2), @p588='?' (Size = 100), @p589='?' (DbType = DateTime2), @p590='?' (Size = 4000), @p591='?' (DbType = DateTime2), @p592='?' (Size = 20), @p593='?' (DbType = Boolean), @p594='?' (Size = 50), @p595='?' (DbType = DateTime2), @p596='?' (DbType = Guid), @p597='?' (DbType = DateTime2), @p598='?' (DbType = DateTime2), @p599='?' (Size = 255), @p600='?' (DbType = Int32), @p601='?' (Size = 100), @p602='?' (DbType = Boolean), @p603='?' (DbType = DateTime2), @p604='?' (Size = 100), @p605='?' (DbType = DateTime2), @p606='?' (Size = 4000), @p607='?' (DbType = DateTime2), @p608='?' (Size = 20), @p609='?' (DbType = Boolean), @p610='?' (Size = 50), @p611='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
MERGE [Brands] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, 0),
(@p6, @p7, @p8, @p9, @p10, @p11, 1),
(@p12, @p13, @p14, @p15, @p16, @p17, 2),
(@p18, @p19, @p20, @p21, @p22, @p23, 3),
(@p24, @p25, @p26, @p27, @p28, @p29, 4),
(@p30, @p31, @p32, @p33, @p34, @p35, 5),
(@p36, @p37, @p38, @p39, @p40, @p41, 6),
(@p42, @p43, @p44, @p45, @p46, @p47, 7),
(@p48, @p49, @p50, @p51, @p52, @p53, 8),
(@p54, @p55, @p56, @p57, @p58, @p59, 9),
(@p60, @p61, @p62, @p63, @p64, @p65, 10),
(@p66, @p67, @p68, @p69, @p70, @p71, 11),
(@p72, @p73, @p74, @p75, @p76, @p77, 12),
(@p78, @p79, @p80, @p81, @p82, @p83, 13),
(@p84, @p85, @p86, @p87, @p88, @p89, 14),
(@p90, @p91, @p92, @p93, @p94, @p95, 15),
(@p96, @p97, @p98, @p99, @p100, @p101, 16),
(@p102, @p103, @p104, @p105, @p106, @p107, 17)) AS i ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[IsDeleted], i.[Name], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Customers] USING (
VALUES (@p108, @p109, @p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, 0),
(@p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, 1),
(@p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, 2),
(@p174, @p175, @p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, 3),
(@p196, @p197, @p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213, @p214, @p215, @p216, @p217, 4),
(@p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, @p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, @p238, @p239, 5),
(@p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250, @p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, 6),
(@p262, @p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270, @p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278, @p279, @p280, @p281, @p282, @p283, 7),
(@p284, @p285, @p286, @p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294, @p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302, @p303, @p304, @p305, 8),
(@p306, @p307, @p308, @p309, @p310, @p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318, @p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326, @p327, 9),
(@p328, @p329, @p330, @p331, @p332, @p333, @p334, @p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342, @p343, @p344, @p345, @p346, @p347, @p348, @p349, 10),
(@p350, @p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358, @p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366, @p367, @p368, @p369, @p370, @p371, 11),
(@p372, @p373, @p374, @p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382, @p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390, @p391, @p392, @p393, 12),
(@p394, @p395, @p396, @p397, @p398, @p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406, @p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414, @p415, 13),
(@p416, @p417, @p418, @p419, @p420, @p421, @p422, @p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433, @p434, @p435, @p436, @p437, 14),
(@p438, @p439, @p440, @p441, @p442, @p443, @p444, @p445, @p446, @p447, @p448, @p449, @p450, @p451, @p452, @p453, @p454, @p455, @p456, @p457, @p458, @p459, 15),
(@p460, @p461, @p462, @p463, @p464, @p465, @p466, @p467, @p468, @p469, @p470, @p471, @p472, @p473, @p474, @p475, @p476, @p477, @p478, @p479, @p480, @p481, 16),
(@p482, @p483, @p484, @p485, @p486, @p487, @p488, @p489, @p490, @p491, @p492, @p493, @p494, @p495, @p496, @p497, @p498, @p499, @p500, @p501, @p502, @p503, 17),
(@p504, @p505, @p506, @p507, @p508, @p509, @p510, @p511, @p512, @p513, @p514, @p515, @p516, @p517, @p518, @p519, @p520, @p521, @p522, @p523, @p524, @p525, 18),
(@p526, @p527, @p528, @p529, @p530, @p531, @p532, @p533, @p534, @p535, @p536, @p537, @p538, @p539, @p540, @p541, @p542, @p543, @p544, @p545, @p546, @p547, 19)) AS i ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [AssignedToUserId], [CompanyName], [CreatedAt], [DeletedAt], [Email], [FirstContactDate], [FirstName], [Industry], [IsDeleted], [IsVip], [LastInteractionDate], [LastName], [Phone], [Source], [Status], [Type], [UpdatedAt], [City], [Country], [PostalCode], [Street])
VALUES (i.[Id], i.[AssignedToUserId], i.[CompanyName], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FirstContactDate], i.[FirstName], i.[Industry], i.[IsDeleted], i.[IsVip], i.[LastInteractionDate], i.[LastName], i.[Phone], i.[Source], i.[Status], i.[Type], i.[UpdatedAt], i.[City], i.[Country], i.[PostalCode], i.[Street])
OUTPUT INSERTED.[IsActive], i._Position;
MERGE [Users] USING (
VALUES (@p548, @p549, @p550, @p551, @p552, @p553, @p554, @p555, @p556, @p557, @p558, @p559, @p560, @p561, @p562, @p563, 0),
(@p564, @p565, @p566, @p567, @p568, @p569, @p570, @p571, @p572, @p573, @p574, @p575, @p576, @p577, @p578, @p579, 1),
(@p580, @p581, @p582, @p583, @p584, @p585, @p586, @p587, @p588, @p589, @p590, @p591, @p592, @p593, @p594, @p595, 2),
(@p596, @p597, @p598, @p599, @p600, @p601, @p602, @p603, @p604, @p605, @p606, @p607, @p608, @p609, @p610, @p611, 3)) AS i ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
VALUES (i.[Id], i.[CreatedAt], i.[DeletedAt], i.[Email], i.[FailedLoginAttempts], i.[FirstName], i.[IsDeleted], i.[LastLoginDate], i.[LastName], i.[LockoutEnd], i.[PasswordHash], i.[PasswordLastChangedAt], i.[PhoneNumber], i.[RequirePasswordChange], i.[RoleName], i.[UpdatedAt])
OUTPUT INSERTED.[IsActive], i._Position;
2025-06-09 17:36:02.726 +02:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2), @p16='?' (DbType = Guid), @p17='?' (DbType = Guid), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (Size = 500) (DbType = AnsiString), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p27='?' (Size = 4000), @p28='?' (DbType = Guid), @p29='?' (DbType = Guid), @p30='?' (DbType = DateTime2), @p31='?' (DbType = DateTime2), @p32='?' (Size = 500) (DbType = AnsiString), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (DbType = DateTime2), @p36='?' (Size = 200), @p37='?' (DbType = Int32), @p38='?' (DbType = DateTime2), @p39='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p40='?' (Size = 4000), @p41='?' (DbType = Guid), @p42='?' (DbType = Guid), @p43='?' (DbType = DateTime2), @p44='?' (DbType = DateTime2), @p45='?' (Size = 500) (DbType = AnsiString), @p46='?' (DbType = Boolean), @p47='?' (DbType = DateTime2), @p48='?' (Size = 200), @p49='?' (DbType = Int32), @p50='?' (DbType = DateTime2), @p51='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p52='?' (Size = 4000), @p53='?' (DbType = Guid), @p54='?' (DbType = Guid), @p55='?' (DbType = DateTime2), @p56='?' (DbType = DateTime2), @p57='?' (Size = 500) (DbType = AnsiString), @p58='?' (DbType = Boolean), @p59='?' (DbType = Boolean), @p60='?' (DbType = DateTime2), @p61='?' (Size = 200), @p62='?' (DbType = Int32), @p63='?' (DbType = DateTime2), @p64='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p65='?' (Size = 4000), @p66='?' (DbType = Guid), @p67='?' (DbType = Guid), @p68='?' (DbType = DateTime2), @p69='?' (DbType = DateTime2), @p70='?' (Size = 500) (DbType = AnsiString), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTime2), @p73='?' (Size = 200), @p74='?' (DbType = Int32), @p75='?' (DbType = DateTime2), @p76='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p77='?' (Size = 4000), @p78='?' (DbType = Guid), @p79='?' (DbType = Guid), @p80='?' (DbType = DateTime2), @p81='?' (DbType = DateTime2), @p82='?' (Size = 500) (DbType = AnsiString), @p83='?' (DbType = Boolean), @p84='?' (DbType = DateTime2), @p85='?' (Size = 200), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p89='?' (Size = 4000), @p90='?' (DbType = Guid), @p91='?' (DbType = Guid), @p92='?' (DbType = DateTime2), @p93='?' (DbType = DateTime2), @p94='?' (Size = 500) (DbType = AnsiString), @p95='?' (DbType = Boolean), @p96='?' (DbType = Boolean), @p97='?' (DbType = DateTime2), @p98='?' (Size = 200), @p99='?' (DbType = Int32), @p100='?' (DbType = DateTime2), @p101='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p102='?' (Size = 4000), @p103='?' (DbType = Guid), @p104='?' (DbType = Guid), @p105='?' (DbType = DateTime2), @p106='?' (DbType = DateTime2), @p107='?' (Size = 500) (DbType = AnsiString), @p108='?' (DbType = Boolean), @p109='?' (DbType = DateTime2), @p110='?' (Size = 200), @p111='?' (DbType = Int32), @p112='?' (DbType = DateTime2), @p113='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p114='?' (Size = 4000), @p115='?' (DbType = Guid), @p116='?' (DbType = Guid), @p117='?' (DbType = DateTime2), @p118='?' (DbType = DateTime2), @p119='?' (Size = 500) (DbType = AnsiString), @p120='?' (DbType = Boolean), @p121='?' (DbType = DateTime2), @p122='?' (Size = 200), @p123='?' (DbType = Int32), @p124='?' (DbType = DateTime2), @p125='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p126='?' (Size = 4000), @p127='?' (DbType = Guid), @p128='?' (DbType = Guid), @p129='?' (DbType = DateTime2), @p130='?' (DbType = DateTime2), @p131='?' (Size = 500) (DbType = AnsiString), @p132='?' (DbType = Boolean), @p133='?' (DbType = DateTime2), @p134='?' (Size = 200), @p135='?' (DbType = Int32), @p136='?' (DbType = DateTime2), @p137='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p138='?' (Size = 4000), @p139='?' (DbType = Guid), @p140='?' (DbType = Guid), @p141='?' (DbType = DateTime2), @p142='?' (DbType = DateTime2), @p143='?' (Size = 500) (DbType = AnsiString), @p144='?' (DbType = Boolean), @p145='?' (DbType = DateTime2), @p146='?' (Size = 200), @p147='?' (DbType = Int32), @p148='?' (DbType = DateTime2), @p149='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p150='?' (Size = 4000), @p151='?' (DbType = Guid), @p152='?' (DbType = Guid), @p153='?' (DbType = DateTime2), @p154='?' (DbType = DateTime2), @p155='?' (Size = 500) (DbType = AnsiString), @p156='?' (DbType = Boolean), @p157='?' (DbType = Boolean), @p158='?' (DbType = DateTime2), @p159='?' (Size = 200), @p160='?' (DbType = Int32), @p161='?' (DbType = DateTime2), @p162='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p163='?' (Size = 4000), @p164='?' (DbType = Guid), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime2), @p168='?' (Size = 500) (DbType = AnsiString), @p169='?' (DbType = Boolean), @p170='?' (DbType = DateTime2), @p171='?' (Size = 200), @p172='?' (DbType = Int32), @p173='?' (DbType = DateTime2), @p174='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p175='?' (Size = 4000), @p176='?' (DbType = Guid), @p177='?' (DbType = Guid), @p178='?' (DbType = DateTime2), @p179='?' (DbType = DateTime2), @p180='?' (Size = 500) (DbType = AnsiString), @p181='?' (DbType = Boolean), @p182='?' (DbType = Boolean), @p183='?' (DbType = DateTime2), @p184='?' (Size = 200), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p188='?' (Size = 4000), @p189='?' (DbType = Guid), @p190='?' (DbType = Guid), @p191='?' (DbType = DateTime2), @p192='?' (DbType = DateTime2), @p193='?' (Size = 500) (DbType = AnsiString), @p194='?' (DbType = Boolean), @p195='?' (DbType = DateTime2), @p196='?' (Size = 200), @p197='?' (DbType = Int32), @p198='?' (DbType = DateTime2), @p199='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p200='?' (Size = 4000), @p201='?' (DbType = Guid), @p202='?' (DbType = Guid), @p203='?' (DbType = DateTime2), @p204='?' (DbType = DateTime2), @p205='?' (Size = 500) (DbType = AnsiString), @p206='?' (DbType = Boolean), @p207='?' (DbType = Boolean), @p208='?' (DbType = DateTime2), @p209='?' (Size = 200), @p210='?' (DbType = Int32), @p211='?' (DbType = DateTime2), @p212='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p213='?' (Size = 4000), @p214='?' (DbType = Guid), @p215='?' (DbType = Guid), @p216='?' (DbType = DateTime2), @p217='?' (DbType = DateTime2), @p218='?' (Size = 500) (DbType = AnsiString), @p219='?' (DbType = Boolean), @p220='?' (DbType = DateTime2), @p221='?' (Size = 200), @p222='?' (DbType = Int32), @p223='?' (DbType = DateTime2), @p224='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p225='?' (Size = 4000), @p226='?' (DbType = Guid), @p227='?' (DbType = Guid), @p228='?' (DbType = DateTime2), @p229='?' (DbType = DateTime2), @p230='?' (Size = 500) (DbType = AnsiString), @p231='?' (DbType = Boolean), @p232='?' (DbType = DateTime2), @p233='?' (Size = 200), @p234='?' (DbType = Int32), @p235='?' (DbType = DateTime2), @p236='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p237='?' (Size = 4000), @p238='?' (DbType = Guid), @p239='?' (DbType = Guid), @p240='?' (DbType = DateTime2), @p241='?' (DbType = DateTime2), @p242='?' (Size = 500) (DbType = AnsiString), @p243='?' (DbType = Boolean), @p244='?' (DbType = Boolean), @p245='?' (DbType = DateTime2), @p246='?' (Size = 200), @p247='?' (DbType = Int32), @p248='?' (DbType = DateTime2), @p249='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p250='?' (Size = 4000), @p251='?' (DbType = Guid), @p252='?' (DbType = Guid), @p253='?' (DbType = DateTime2), @p254='?' (DbType = DateTime2), @p255='?' (Size = 500) (DbType = AnsiString), @p256='?' (DbType = Boolean), @p257='?' (DbType = DateTime2), @p258='?' (Size = 200), @p259='?' (DbType = Int32), @p260='?' (DbType = DateTime2), @p261='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p262='?' (Size = 4000), @p263='?' (DbType = Guid), @p264='?' (DbType = DateTime2), @p265='?' (DbType = DateTime2), @p266='?' (DbType = Boolean), @p267='?' (DbType = Boolean), @p268='?' (DbType = Guid), @p269='?' (DbType = Int32), @p270='?' (DbType = DateTime2), @p271='?' (DbType = Guid), @p272='?' (DbType = DateTime2), @p273='?' (DbType = DateTime2), @p274='?' (DbType = Boolean), @p275='?' (DbType = Boolean), @p276='?' (DbType = Guid), @p277='?' (DbType = Int32), @p278='?' (DbType = DateTime2), @p279='?' (DbType = Guid), @p280='?' (DbType = DateTime2), @p281='?' (DbType = DateTime2), @p282='?' (DbType = Boolean), @p283='?' (DbType = Boolean), @p284='?' (DbType = Guid), @p285='?' (DbType = Int32), @p286='?' (DbType = DateTime2), @p287='?' (DbType = Guid), @p288='?' (DbType = DateTime2), @p289='?' (DbType = DateTime2), @p290='?' (DbType = Boolean), @p291='?' (DbType = Boolean), @p292='?' (DbType = Guid), @p293='?' (DbType = Int32), @p294='?' (DbType = DateTime2), @p295='?' (DbType = Guid), @p296='?' (DbType = DateTime2), @p297='?' (DbType = DateTime2), @p298='?' (DbType = Boolean), @p299='?' (DbType = Boolean), @p300='?' (DbType = Guid), @p301='?' (DbType = Int32), @p302='?' (DbType = DateTime2), @p303='?' (DbType = Guid), @p304='?' (DbType = DateTime2), @p305='?' (DbType = DateTime2), @p306='?' (DbType = Boolean), @p307='?' (DbType = Boolean), @p308='?' (DbType = Guid), @p309='?' (DbType = Int32), @p310='?' (DbType = DateTime2), @p311='?' (DbType = Guid), @p312='?' (DbType = DateTime2), @p313='?' (DbType = DateTime2), @p314='?' (DbType = Boolean), @p315='?' (DbType = Boolean), @p316='?' (DbType = Guid), @p317='?' (DbType = Int32), @p318='?' (DbType = DateTime2), @p319='?' (DbType = Guid), @p320='?' (DbType = DateTime2), @p321='?' (DbType = DateTime2), @p322='?' (DbType = Boolean), @p323='?' (DbType = Boolean), @p324='?' (DbType = Guid), @p325='?' (DbType = Int32), @p326='?' (DbType = DateTime2), @p327='?' (DbType = Guid), @p328='?' (DbType = DateTime2), @p329='?' (DbType = DateTime2), @p330='?' (DbType = Boolean), @p331='?' (DbType = Boolean), @p332='?' (DbType = Guid), @p333='?' (DbType = Int32), @p334='?' (DbType = DateTime2), @p335='?' (DbType = Guid), @p336='?' (DbType = DateTime2), @p337='?' (DbType = DateTime2), @p338='?' (DbType = Boolean), @p339='?' (DbType = Boolean), @p340='?' (DbType = Guid), @p341='?' (DbType = Int32), @p342='?' (DbType = DateTime2), @p343='?' (DbType = Guid), @p344='?' (DbType = DateTime2), @p345='?' (DbType = DateTime2), @p346='?' (DbType = Boolean), @p347='?' (DbType = Boolean), @p348='?' (DbType = Guid), @p349='?' (DbType = Int32), @p350='?' (DbType = DateTime2), @p351='?' (DbType = Guid), @p352='?' (DbType = DateTime2), @p353='?' (DbType = DateTime2), @p354='?' (DbType = Boolean), @p355='?' (DbType = Boolean), @p356='?' (DbType = Guid), @p357='?' (DbType = Int32), @p358='?' (DbType = DateTime2), @p359='?' (DbType = Guid), @p360='?' (DbType = DateTime2), @p361='?' (DbType = DateTime2), @p362='?' (DbType = Boolean), @p363='?' (DbType = Boolean), @p364='?' (DbType = Guid), @p365='?' (DbType = Int32), @p366='?' (DbType = DateTime2), @p367='?' (DbType = Guid), @p368='?' (DbType = DateTime2), @p369='?' (DbType = DateTime2), @p370='?' (DbType = Boolean), @p371='?' (DbType = Boolean), @p372='?' (DbType = Guid), @p373='?' (DbType = Int32), @p374='?' (DbType = DateTime2), @p375='?' (DbType = Guid), @p376='?' (DbType = DateTime2), @p377='?' (DbType = DateTime2), @p378='?' (DbType = Boolean), @p379='?' (DbType = Boolean), @p380='?' (DbType = Guid), @p381='?' (DbType = Int32), @p382='?' (DbType = DateTime2), @p383='?' (DbType = Guid), @p384='?' (DbType = DateTime2), @p385='?' (DbType = DateTime2), @p386='?' (DbType = Boolean), @p387='?' (DbType = Boolean), @p388='?' (DbType = Guid), @p389='?' (DbType = Int32), @p390='?' (DbType = DateTime2), @p391='?' (DbType = Guid), @p392='?' (DbType = DateTime2), @p393='?' (DbType = DateTime2), @p394='?' (DbType = Boolean), @p395='?' (DbType = Boolean), @p396='?' (DbType = Guid), @p397='?' (DbType = Int32), @p398='?' (DbType = DateTime2), @p399='?' (DbType = Guid), @p400='?' (DbType = DateTime2), @p401='?' (DbType = DateTime2), @p402='?' (DbType = Boolean), @p403='?' (DbType = Boolean), @p404='?' (DbType = Guid), @p405='?' (DbType = Int32), @p406='?' (DbType = DateTime2), @p407='?' (DbType = Guid), @p408='?' (DbType = DateTime2), @p409='?' (DbType = DateTime2), @p410='?' (DbType = Boolean), @p411='?' (DbType = Boolean), @p412='?' (DbType = Guid), @p413='?' (DbType = Int32), @p414='?' (DbType = DateTime2), @p415='?' (DbType = Guid), @p416='?' (DbType = DateTime2), @p417='?' (DbType = DateTime2), @p418='?' (DbType = Boolean), @p419='?' (DbType = Boolean), @p420='?' (DbType = Guid), @p421='?' (DbType = Int32), @p422='?' (DbType = DateTime2), @p423='?' (DbType = Guid), @p424='?' (DbType = DateTime2), @p425='?' (DbType = DateTime2), @p426='?' (DbType = Guid), @p427='?' (DbType = Boolean), @p428='?' (DbType = Boolean), @p429='?' (DbType = DateTime2), @p430='?' (DbType = Int32), @p431='?' (Size = 4000), @p432='?' (DbType = Int32), @p433='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p53, @p54, @p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65);
MERGE [Products] USING (
VALUES (@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76, @p77, 0),
(@p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87, @p88, @p89, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98, @p99, @p100, @p101, @p102);
MERGE [Products] USING (
VALUES (@p103, @p104, @p105, @p106, @p107, @p108, @p109, @p110, @p111, @p112, @p113, @p114, 0),
(@p115, @p116, @p117, @p118, @p119, @p120, @p121, @p122, @p123, @p124, @p125, @p126, 1),
(@p127, @p128, @p129, @p130, @p131, @p132, @p133, @p134, @p135, @p136, @p137, @p138, 2),
(@p139, @p140, @p141, @p142, @p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, 3)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p151, @p152, @p153, @p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p164, @p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186, @p187, @p188);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197, @p198, @p199, @p200);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208, @p209, @p210, @p211, @p212, @p213);
MERGE [Products] USING (
VALUES (@p214, @p215, @p216, @p217, @p218, @p219, @p220, @p221, @p222, @p223, @p224, @p225, 0),
(@p226, @p227, @p228, @p229, @p230, @p231, @p232, @p233, @p234, @p235, @p236, @p237, 1)) AS i ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
VALUES (i.[Id], i.[BrandId], i.[CreatedAt], i.[DeletedAt], i.[Description], i.[IsDeleted], i.[LastSoldAt], i.[Name], i.[Status], i.[UpdatedAt], i.[PriceAmount], i.[PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService], i._Position;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [IsService], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive]
VALUES (@p238, @p239, @p240, @p241, @p242, @p243, @p244, @p245, @p246, @p247, @p248, @p249, @p250);
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p251, @p252, @p253, @p254, @p255, @p256, @p257, @p258, @p259, @p260, @p261, @p262);
INSERT INTO [Inventories] ([Id], [CreatedAt], [DeletedAt], [IsActive], [IsDeleted], [ProductId], [Quantity], [UpdatedAt])
VALUES (@p263, @p264, @p265, @p266, @p267, @p268, @p269, @p270),
(@p271, @p272, @p273, @p274, @p275, @p276, @p277, @p278),
(@p279, @p280, @p281, @p282, @p283, @p284, @p285, @p286),
(@p287, @p288, @p289, @p290, @p291, @p292, @p293, @p294),
(@p295, @p296, @p297, @p298, @p299, @p300, @p301, @p302),
(@p303, @p304, @p305, @p306, @p307, @p308, @p309, @p310),
(@p311, @p312, @p313, @p314, @p315, @p316, @p317, @p318),
(@p319, @p320, @p321, @p322, @p323, @p324, @p325, @p326),
(@p327, @p328, @p329, @p330, @p331, @p332, @p333, @p334),
(@p335, @p336, @p337, @p338, @p339, @p340, @p341, @p342),
(@p343, @p344, @p345, @p346, @p347, @p348, @p349, @p350),
(@p351, @p352, @p353, @p354, @p355, @p356, @p357, @p358),
(@p359, @p360, @p361, @p362, @p363, @p364, @p365, @p366),
(@p367, @p368, @p369, @p370, @p371, @p372, @p373, @p374),
(@p375, @p376, @p377, @p378, @p379, @p380, @p381, @p382),
(@p383, @p384, @p385, @p386, @p387, @p388, @p389, @p390),
(@p391, @p392, @p393, @p394, @p395, @p396, @p397, @p398),
(@p399, @p400, @p401, @p402, @p403, @p404, @p405, @p406),
(@p407, @p408, @p409, @p410, @p411, @p412, @p413, @p414),
(@p415, @p416, @p417, @p418, @p419, @p420, @p421, @p422);
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p423, @p424, @p425, @p426, @p427, @p428, @p429, @p430, @p431, @p432, @p433);
2025-06-09 17:36:02.739 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Guid), @p15='?' (DbType = Boolean), @p16='?' (DbType = Boolean), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (Size = 4000), @p20='?' (DbType = Int32), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Guid), @p23='?' (DbType = DateTime2), @p24='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p26='?' (DbType = Boolean), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTime2), @p29='?' (DbType = Int32), @p30='?' (Size = 4000), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (DbType = Guid), @p34='?' (DbType = DateTime2), @p35='?' (DbType = DateTime2), @p36='?' (DbType = Guid), @p37='?' (DbType = Boolean), @p38='?' (DbType = Boolean), @p39='?' (DbType = DateTime2), @p40='?' (DbType = Int32), @p41='?' (Size = 4000), @p42='?' (DbType = Int32), @p43='?' (DbType = DateTime2), @p44='?' (DbType = Guid), @p45='?' (DbType = DateTime2), @p46='?' (DbType = DateTime2), @p47='?' (DbType = Guid), @p48='?' (DbType = Boolean), @p49='?' (DbType = Boolean), @p50='?' (DbType = DateTime2), @p51='?' (DbType = Int32), @p52='?' (Size = 4000), @p53='?' (DbType = Int32), @p54='?' (DbType = DateTime2), @p55='?' (DbType = Guid), @p56='?' (DbType = DateTime2), @p57='?' (DbType = DateTime2), @p58='?' (DbType = Guid), @p59='?' (DbType = Boolean), @p60='?' (DbType = Boolean), @p61='?' (DbType = DateTime2), @p62='?' (DbType = Int32), @p63='?' (Size = 4000), @p64='?' (DbType = Int32), @p65='?' (DbType = DateTime2), @p66='?' (DbType = Guid), @p67='?' (DbType = DateTime2), @p68='?' (DbType = DateTime2), @p69='?' (DbType = Guid), @p70='?' (DbType = Boolean), @p71='?' (DbType = Boolean), @p72='?' (DbType = DateTime2), @p73='?' (DbType = Int32), @p74='?' (Size = 4000), @p75='?' (DbType = Int32), @p76='?' (DbType = DateTime2), @p77='?' (DbType = Guid), @p78='?' (DbType = DateTime2), @p79='?' (DbType = DateTime2), @p80='?' (DbType = Guid), @p81='?' (DbType = Boolean), @p82='?' (DbType = Boolean), @p83='?' (DbType = DateTime2), @p84='?' (DbType = Int32), @p85='?' (Size = 4000), @p86='?' (DbType = Int32), @p87='?' (DbType = DateTime2), @p88='?' (DbType = Guid), @p89='?' (DbType = DateTime2), @p90='?' (DbType = DateTime2), @p91='?' (DbType = Guid), @p92='?' (DbType = Boolean), @p93='?' (DbType = Boolean), @p94='?' (DbType = DateTime2), @p95='?' (DbType = Int32), @p96='?' (Size = 4000), @p97='?' (DbType = Int32), @p98='?' (DbType = DateTime2), @p99='?' (DbType = Guid), @p100='?' (DbType = DateTime2), @p101='?' (DbType = DateTime2), @p102='?' (DbType = Guid), @p103='?' (DbType = Boolean), @p104='?' (DbType = Boolean), @p105='?' (DbType = DateTime2), @p106='?' (DbType = Int32), @p107='?' (Size = 4000), @p108='?' (DbType = Int32), @p109='?' (DbType = DateTime2), @p110='?' (DbType = Guid), @p111='?' (DbType = DateTime2), @p112='?' (DbType = DateTime2), @p113='?' (DbType = Guid), @p114='?' (DbType = Boolean), @p115='?' (DbType = Boolean), @p116='?' (DbType = DateTime2), @p117='?' (DbType = Int32), @p118='?' (Size = 4000), @p119='?' (DbType = Int32), @p120='?' (DbType = DateTime2), @p121='?' (DbType = Guid), @p122='?' (DbType = DateTime2), @p123='?' (DbType = DateTime2), @p124='?' (DbType = Guid), @p125='?' (DbType = Boolean), @p126='?' (DbType = Boolean), @p127='?' (DbType = DateTime2), @p128='?' (DbType = Int32), @p129='?' (Size = 4000), @p130='?' (DbType = Int32), @p131='?' (DbType = DateTime2), @p132='?' (DbType = Guid), @p133='?' (DbType = DateTime2), @p134='?' (DbType = DateTime2), @p135='?' (DbType = Guid), @p136='?' (DbType = Boolean), @p137='?' (DbType = Boolean), @p138='?' (DbType = DateTime2), @p139='?' (DbType = Int32), @p140='?' (Size = 4000), @p141='?' (DbType = Int32), @p142='?' (DbType = DateTime2), @p143='?' (DbType = Guid), @p144='?' (DbType = DateTime2), @p145='?' (DbType = DateTime2), @p146='?' (DbType = Guid), @p147='?' (DbType = Boolean), @p148='?' (DbType = Boolean), @p149='?' (DbType = DateTime2), @p150='?' (DbType = Int32), @p151='?' (Size = 4000), @p152='?' (DbType = Int32), @p153='?' (DbType = DateTime2), @p154='?' (DbType = Guid), @p155='?' (DbType = DateTime2), @p156='?' (DbType = DateTime2), @p157='?' (DbType = Guid), @p158='?' (DbType = Boolean), @p159='?' (DbType = Boolean), @p160='?' (DbType = DateTime2), @p161='?' (DbType = Int32), @p162='?' (Size = 4000), @p163='?' (DbType = Int32), @p164='?' (DbType = DateTime2), @p165='?' (DbType = Guid), @p166='?' (DbType = DateTime2), @p167='?' (DbType = DateTime2), @p168='?' (DbType = Guid), @p169='?' (DbType = Boolean), @p170='?' (DbType = Boolean), @p171='?' (DbType = DateTime2), @p172='?' (DbType = Int32), @p173='?' (Size = 4000), @p174='?' (DbType = Int32), @p175='?' (DbType = DateTime2), @p176='?' (DbType = Guid), @p177='?' (DbType = DateTime2), @p178='?' (DbType = DateTime2), @p179='?' (DbType = Guid), @p180='?' (DbType = Boolean), @p181='?' (DbType = Boolean), @p182='?' (DbType = DateTime2), @p183='?' (DbType = Int32), @p184='?' (Size = 4000), @p185='?' (DbType = Int32), @p186='?' (DbType = DateTime2), @p187='?' (DbType = Guid), @p188='?' (DbType = DateTime2), @p189='?' (DbType = DateTime2), @p190='?' (DbType = Guid), @p191='?' (DbType = Boolean), @p192='?' (DbType = Boolean), @p193='?' (DbType = DateTime2), @p194='?' (DbType = Int32), @p195='?' (Size = 4000), @p196='?' (DbType = Int32), @p197='?' (DbType = DateTime2), @p198='?' (DbType = Guid), @p199='?' (DbType = DateTime2), @p200='?' (DbType = DateTime2), @p201='?' (DbType = Guid), @p202='?' (DbType = Boolean), @p203='?' (DbType = Boolean), @p204='?' (DbType = DateTime2), @p205='?' (DbType = Int32), @p206='?' (Size = 4000), @p207='?' (DbType = Int32), @p208='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10),
(@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21),
(@p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32),
(@p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43),
(@p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54),
(@p55, @p56, @p57, @p58, @p59, @p60, @p61, @p62, @p63, @p64, @p65),
(@p66, @p67, @p68, @p69, @p70, @p71, @p72, @p73, @p74, @p75, @p76),
(@p77, @p78, @p79, @p80, @p81, @p82, @p83, @p84, @p85, @p86, @p87),
(@p88, @p89, @p90, @p91, @p92, @p93, @p94, @p95, @p96, @p97, @p98),
(@p99, @p100, @p101, @p102, @p103, @p104, @p105, @p106, @p107, @p108, @p109),
(@p110, @p111, @p112, @p113, @p114, @p115, @p116, @p117, @p118, @p119, @p120),
(@p121, @p122, @p123, @p124, @p125, @p126, @p127, @p128, @p129, @p130, @p131),
(@p132, @p133, @p134, @p135, @p136, @p137, @p138, @p139, @p140, @p141, @p142),
(@p143, @p144, @p145, @p146, @p147, @p148, @p149, @p150, @p151, @p152, @p153),
(@p154, @p155, @p156, @p157, @p158, @p159, @p160, @p161, @p162, @p163, @p164),
(@p165, @p166, @p167, @p168, @p169, @p170, @p171, @p172, @p173, @p174, @p175),
(@p176, @p177, @p178, @p179, @p180, @p181, @p182, @p183, @p184, @p185, @p186),
(@p187, @p188, @p189, @p190, @p191, @p192, @p193, @p194, @p195, @p196, @p197),
(@p198, @p199, @p200, @p201, @p202, @p203, @p204, @p205, @p206, @p207, @p208);
2025-06-09 17:36:02.747 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 17:36:02.773 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 17:36:02.900 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 17:36:02.900 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 17:36:02.900 +02:00 [INF] Hosting environment: Development
2025-06-09 17:36:02.900 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 17:36:19.913 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 132
2025-06-09 17:36:19.949 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 17:36:19.955 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 17:36:20.039 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 17:36:20.052 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 17:36:20.066 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:36:20.081 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 17:36:21.875 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T15:36:21.8750830Z".
2025-06-09 17:36:21.890 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:36:21.913 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1956.0897ms
2025-06-09 17:36:21.916 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 17:36:21.919 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 2007.1142ms
2025-06-09 17:36:54.520 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 17:36:54.526 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 17:36:54.531 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 17:36:54.604 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:36:54.633 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:36:54.647 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 17:36:54.661 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 17:36:54.736 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 17:36:56.731 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T15:36:56.7310970Z".
2025-06-09 17:36:56.733 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 17:36:56.737 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 2206.4173ms
2025-06-09 17:36:56.738 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 17:36:56.739 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 2218.4725ms
2025-06-09 17:37:32.147 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 17:37:32.156 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 17:37:32.159 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 17:37:32.186 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 17:37:32.266 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 17:37:32.279 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
UPDATE [Users] SET [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-06-09 17:37:32.288 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 17:37:32.289 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:37:32.290 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 130.3403ms
2025-06-09 17:37:32.290 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 17:37:32.290 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 143.697ms
2025-06-09 17:40:18.111 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users - null null
2025-06-09 17:40:18.122 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-09 17:40:18.149 +02:00 [INF] Route matched with {action = "GetAll", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.UserFilter) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 17:40:18.223 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
2025-06-09 17:40:18.240 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
ORDER BY [u].[LastName]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-06-09 17:40:18.247 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:40:18.251 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API) in 101.4257ms
2025-06-09 17:40:18.251 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetAll (PulseERP.API)'
2025-06-09 17:40:18.252 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users - 200 null application/json; charset=utf-8 140.7276ms
2025-06-09 17:40:46.059 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - null null
2025-06-09 17:40:46.060 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetById (PulseERP.API)'
2025-06-09 17:40:46.065 +02:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] GetById(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 17:40:46.076 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 17:40:46.084 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 17:40:46.089 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetById (PulseERP.API) in 23.868ms
2025-06-09 17:40:46.089 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetById (PulseERP.API)'
2025-06-09 17:40:46.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - 200 null application/json; charset=utf-8 30.9976ms
2025-06-09 17:41:03.118 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - application/json 23
2025-06-09 17:41:03.118 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 17:41:03.122 +02:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Users.Commands.UpdateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 17:41:03.134 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 17:41:03.139 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Update (PulseERP.API) in 16.819ms
2025-06-09 17:41:03.139 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 17:41:03.146 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: notification does not implement $INotification
   at MediatR.Mediator.Publish(Object notification, CancellationToken cancellationToken)
   at PulseERP.Application.Services.UserService.UpdateAsync(Guid id, UpdateUserCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 114
   at PulseERP.API.Controllers.UsersController.Update(Guid id, UpdateUserCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 61
   at lambda_method1202(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 17:41:03.159 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 17:41:03.162 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - 500 null application/problem+json; charset=utf-8 44.7533ms
2025-06-09 19:12:59.269 +02:00 [INF] Application is shutting down...
2025-06-09 19:13:04.882 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:13:04.953 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:13:04.959 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:13:04.965 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:13:04.974 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:13:04.997 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:13:05.122 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:13:05.122 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:13:05.122 +02:00 [INF] Hosting environment: Development
2025-06-09 19:13:05.122 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:18:23.828 +02:00 [INF] Application is shutting down...
2025-06-09 19:18:29.022 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:18:29.088 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:18:29.093 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:18:29.097 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:18:29.105 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:18:29.127 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:18:29.263 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:18:29.263 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:18:29.263 +02:00 [INF] Hosting environment: Development
2025-06-09 19:18:29.263 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:18:43.982 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - application/json 23
2025-06-09 19:18:44.050 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 19:18:44.059 +02:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Users.Commands.UpdateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 19:18:44.141 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 19:18:44.194 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 19:18:44.212 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 19:18:44.236 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 19:18:44.826 +02:00 [ERR] Failed to send email '🔔 Activez votre compte Pulse ERP' to Koumeil.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. ffacd0b85a97d-3a53229ddebsm10121907f8f.17 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
2025-06-09 19:18:44.833 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Update (PulseERP.API) in 773.4714ms
2025-06-09 19:18:44.835 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 19:18:44.838 +02:00 [ERR] An unhandled exception has occurred while executing the request.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. ffacd0b85a97d-3a53229ddebsm10121907f8f.17 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
   at PulseERP.Application.Handlers.UserCreatedEventHandler.Handle(DomainEventNotification`1 notification, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Handlers/UserCreatedEventHandler.cs:line 21
   at MediatR.Mediator.PublishCore(IEnumerable`1 allHandlers, INotification notification, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Database.CoreDbContext.SaveChangesAndDispatchEventsAsync(IMediator mediator, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Database/CoreDbContext.cs:line 66
   at PulseERP.Application.Services.UserService.UpdateAsync(Guid id, UpdateUserCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 115
   at PulseERP.API.Controllers.UsersController.Update(Guid id, UpdateUserCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 61
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 19:18:44.843 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:18:44.850 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - 500 null application/problem+json; charset=utf-8 869.2934ms
2025-06-09 19:23:00.726 +02:00 [INF] Application is shutting down...
2025-06-09 19:23:03.763 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:23:03.826 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:23:03.830 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:23:03.834 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:23:03.844 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:23:03.867 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:23:04.000 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:23:04.000 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:23:04.000 +02:00 [INF] Hosting environment: Development
2025-06-09 19:23:04.000 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:23:34.977 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - application/json 22
2025-06-09 19:23:35.018 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 19:23:35.040 +02:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Users.Commands.UpdateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 19:23:35.128 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 19:23:35.174 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 19:23:35.181 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 19:23:35.188 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Update (PulseERP.API) in 146.7499ms
2025-06-09 19:23:35.189 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 19:23:35.191 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743 - 200 null application/json; charset=utf-8 215.2594ms
2025-06-09 19:26:00.098 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:26:00.104 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:00.113 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:26:00.175 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:26:00.250 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 19:26:00.291 +02:00 [INF] Executed DbCommand (24ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
UPDATE [Users] SET [UpdatedAt] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-06-09 19:26:00.309 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 19:26:00.312 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 19:26:00.315 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 19:26:00.317 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 203.5375ms
2025-06-09 19:26:00.317 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:00.317 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 219.0059ms
2025-06-09 19:26:07.196 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 77
2025-06-09 19:26:07.203 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:07.203 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:26:07.216 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:26:07.308 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 19:26:07.309 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 105.3709ms
2025-06-09 19:26:07.309 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:07.311 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:26:07.313 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 117.3074ms
2025-06-09 19:26:10.615 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 77
2025-06-09 19:26:10.616 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:10.616 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:26:10.629 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:26:10.719 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 19:26:10.719 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 102.999ms
2025-06-09 19:26:10.719 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:10.719 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:26:10.719 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 104.361ms
2025-06-09 19:26:11.670 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 77
2025-06-09 19:26:11.671 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:11.671 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:26:11.679 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:26:11.760 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 19:26:11.760 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 88.98ms
2025-06-09 19:26:11.760 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:11.760 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:26:11.761 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 90.7607ms
2025-06-09 19:26:13.211 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 77
2025-06-09 19:26:13.212 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:13.212 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:26:13.216 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:26:13.306 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 19:26:13.306 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 94.1345ms
2025-06-09 19:26:13.306 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:13.306 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:26:13.307 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 95.5009ms
2025-06-09 19:26:14.847 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 77
2025-06-09 19:26:14.848 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:14.848 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:26:14.852 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:26:14.949 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [LockoutEnd] = @p1, [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-09 19:26:16.154 +02:00 [INF] Email '🔒 Your Pulse ERP account is temporarily locked' sent to koumeil.messaoudi@outlook.com at "2025-06-09T17:26:16.1544830Z".
2025-06-09 19:26:16.157 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 1308.1412ms
2025-06-09 19:26:16.157 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:26:16.158 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:26:16.158 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 1310.9875ms
2025-06-09 19:35:57.326 +02:00 [INF] Application is shutting down...
2025-06-09 19:36:01.268 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:36:01.331 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:36:01.334 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:36:01.337 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:36:01.346 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:36:01.368 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:36:01.505 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:36:01.505 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:36:01.505 +02:00 [INF] Hosting environment: Development
2025-06-09 19:36:01.505 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:36:31.053 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743/deactivate - null null
2025-06-09 19:36:31.089 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 19:36:31.096 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 19:36:31.172 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 19:36:31.219 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 19:36:31.235 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 19:36:31.258 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 19:36:31.689 +02:00 [ERR] Failed to send email '🔔 Activez votre compte Pulse ERP' to Koumeil.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. ffacd0b85a97d-3a5324520e7sm10067966f8f.84 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
2025-06-09 19:36:31.703 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 604.622ms
2025-06-09 19:36:31.706 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 19:36:31.710 +02:00 [ERR] An unhandled exception has occurred while executing the request.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. ffacd0b85a97d-3a5324520e7sm10067966f8f.84 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
   at PulseERP.Application.Handlers.UserCreatedEventHandler.Handle(DomainEventNotification`1 notification, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Handlers/UserCreatedEventHandler.cs:line 21
   at MediatR.Mediator.PublishCore(IEnumerable`1 allHandlers, INotification notification, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Database.CoreDbContext.SaveChangesAndDispatchEventsAsync(IMediator mediator, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Database/CoreDbContext.cs:line 66
   at PulseERP.Application.Services.UserService.DeactivateUserAsync(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 181
   at PulseERP.API.Controllers.UsersController.Deactivate(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 93
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 19:36:31.716 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:36:31.725 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743/deactivate - 500 null application/problem+json; charset=utf-8 672.6767ms
2025-06-09 19:37:14.332 +02:00 [INF] Application is shutting down...
2025-06-09 19:37:19.054 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:37:19.117 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:37:19.121 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:37:19.124 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:37:19.132 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:37:19.151 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:37:19.271 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:37:19.271 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:37:19.271 +02:00 [INF] Hosting environment: Development
2025-06-09 19:37:19.271 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:37:33.475 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743/deactivate - null null
2025-06-09 19:37:33.516 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 19:37:33.530 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 19:37:33.602 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 19:37:33.623 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 91.7662ms
2025-06-09 19:37:33.624 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 19:37:33.627 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: L'utilisateur (714f8778-85d6-437a-a15f-3700f289f743) est déjà désactivé.
   at PulseERP.Application.Services.UserService.DeactivateUserAsync(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 174
   at PulseERP.API.Controllers.UsersController.Deactivate(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 93
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 19:37:33.633 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:37:33.640 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/714f8778-85d6-437a-a15f-3700f289f743/deactivate - 500 null application/problem+json; charset=utf-8 166.061ms
2025-06-09 19:41:19.934 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:19.945 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:19.957 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:20.033 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:20.035 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 77.0271ms
2025-06-09 19:41:20.035 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:20.035 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:20.036 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 101.502ms
2025-06-09 19:41:26.497 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:26.503 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:26.503 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:26.516 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:26.518 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 14.2776ms
2025-06-09 19:41:26.518 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:26.519 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:26.519 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 22.6036ms
2025-06-09 19:41:34.099 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:34.100 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:34.100 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:34.114 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:34.115 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 14.6144ms
2025-06-09 19:41:34.115 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:34.116 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:34.116 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 17.6985ms
2025-06-09 19:41:35.116 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:35.117 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:35.117 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:35.125 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:35.127 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 9.3222ms
2025-06-09 19:41:35.127 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:35.128 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:35.128 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 12.7277ms
2025-06-09 19:41:35.982 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:35.983 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:35.983 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:35.992 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:35.993 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 10.5236ms
2025-06-09 19:41:36.012 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:36.012 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:36.013 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 30.8163ms
2025-06-09 19:41:37.176 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:37.177 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:37.177 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:37.181 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:37.182 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.5656ms
2025-06-09 19:41:37.182 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:37.182 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:37.183 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.2844ms
2025-06-09 19:41:37.933 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:37.934 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:37.934 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:37.938 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:37.940 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.7081ms
2025-06-09 19:41:37.940 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:37.941 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:37.941 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.1487ms
2025-06-09 19:41:38.650 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:38.650 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:38.650 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:38.655 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:38.656 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.9232ms
2025-06-09 19:41:38.656 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:38.657 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:38.657 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.4863ms
2025-06-09 19:41:39.324 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:39.325 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:39.325 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:39.329 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:39.330 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.1437ms
2025-06-09 19:41:39.331 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:39.331 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:39.332 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.1275ms
2025-06-09 19:41:39.993 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:39.993 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:39.994 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:40.000 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:40.002 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 7.8254ms
2025-06-09 19:41:40.002 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:40.003 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:40.004 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 10.9069ms
2025-06-09 19:41:40.581 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:40.581 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:40.582 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:40.589 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:40.591 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 8.8586ms
2025-06-09 19:41:40.591 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:40.592 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:40.593 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 11.6704ms
2025-06-09 19:41:41.242 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:41.243 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:41.243 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:41.247 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:41.249 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.7825ms
2025-06-09 19:41:41.249 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:41.250 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:41.251 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.5096ms
2025-06-09 19:41:41.968 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:41.968 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:41.969 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:41.972 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:41.973 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.3825ms
2025-06-09 19:41:41.973 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:41.974 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:41.974 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.4792ms
2025-06-09 19:41:42.626 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:42.627 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:42.627 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:42.631 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:42.632 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.5747ms
2025-06-09 19:41:42.632 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:42.633 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:42.633 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.9357ms
2025-06-09 19:41:43.241 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:43.242 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:43.242 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:43.246 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:43.248 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.6185ms
2025-06-09 19:41:43.249 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:43.249 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:43.250 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.9573ms
2025-06-09 19:41:44.120 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:44.121 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:44.121 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:44.125 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:44.126 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.3323ms
2025-06-09 19:41:44.126 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:44.127 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:44.127 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.8524ms
2025-06-09 19:41:44.928 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:44.930 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:44.930 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:44.937 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:44.938 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 8.0131ms
2025-06-09 19:41:44.939 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:44.939 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:44.940 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 11.2505ms
2025-06-09 19:41:45.504 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:45.505 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:45.505 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:45.509 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:45.510 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.3792ms
2025-06-09 19:41:45.511 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:45.512 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:45.512 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.6937ms
2025-06-09 19:41:46.164 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:46.164 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:46.164 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:46.168 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:46.169 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.9916ms
2025-06-09 19:41:46.169 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:46.169 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:46.170 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.8954ms
2025-06-09 19:41:46.806 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:46.806 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:46.806 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:46.810 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:46.812 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.3053ms
2025-06-09 19:41:46.812 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:46.813 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:46.813 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.7635ms
2025-06-09 19:41:47.633 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:47.634 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:47.634 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:47.637 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:47.639 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.5942ms
2025-06-09 19:41:47.639 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:47.640 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:47.640 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.8179ms
2025-06-09 19:41:48.249 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:48.250 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:48.250 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:48.256 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:48.257 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 6.6478ms
2025-06-09 19:41:48.257 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:48.257 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:48.257 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.1392ms
2025-06-09 19:41:48.861 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:48.862 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:48.862 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:48.866 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:48.867 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.0746ms
2025-06-09 19:41:48.868 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:48.868 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:48.869 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.1892ms
2025-06-09 19:41:49.449 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:49.450 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:49.450 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:49.453 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:49.455 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.4903ms
2025-06-09 19:41:49.456 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:49.456 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:49.456 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.953ms
2025-06-09 19:41:50.053 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:50.053 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:50.054 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:50.061 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:50.062 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 7.7604ms
2025-06-09 19:41:50.062 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:50.062 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:50.063 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 9.95ms
2025-06-09 19:41:50.589 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:50.590 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:50.590 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:50.594 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:50.595 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.8393ms
2025-06-09 19:41:50.595 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:50.596 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:50.597 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.258ms
2025-06-09 19:41:51.127 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:51.128 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:51.128 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:51.131 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:51.132 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.9426ms
2025-06-09 19:41:51.132 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:51.132 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:51.133 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.3611ms
2025-06-09 19:41:51.681 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:51.681 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:51.682 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:51.685 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:51.687 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.9936ms
2025-06-09 19:41:51.687 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:51.688 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:51.689 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.5139ms
2025-06-09 19:41:52.216 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:52.217 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:52.217 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:52.220 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:52.222 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.082ms
2025-06-09 19:41:52.222 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:52.223 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:52.223 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.2242ms
2025-06-09 19:41:52.737 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:52.738 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:52.738 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:52.742 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:52.742 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.0171ms
2025-06-09 19:41:52.742 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:52.743 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:52.744 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.6872ms
2025-06-09 19:41:53.436 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:53.436 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:53.436 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:53.440 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:53.441 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.7607ms
2025-06-09 19:41:53.442 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:53.443 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:53.444 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.1369ms
2025-06-09 19:41:53.919 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:53.920 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:53.920 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:53.924 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:53.925 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.0965ms
2025-06-09 19:41:53.926 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:53.926 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:53.927 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.138ms
2025-06-09 19:41:54.275 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:54.276 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:54.276 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:54.279 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:54.280 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.8104ms
2025-06-09 19:41:54.280 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:54.280 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:54.280 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.0292ms
2025-06-09 19:41:54.782 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:54.783 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:54.783 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:54.786 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:54.787 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.6116ms
2025-06-09 19:41:54.787 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:54.787 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:54.788 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.3612ms
2025-06-09 19:41:55.338 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:55.339 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:55.339 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:55.345 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:55.346 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 6.5991ms
2025-06-09 19:41:55.346 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:55.346 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:55.347 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.5125ms
2025-06-09 19:41:55.967 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:55.967 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:55.968 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:55.971 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:55.972 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.8817ms
2025-06-09 19:41:55.972 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:55.972 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:55.972 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.1774ms
2025-06-09 19:41:56.404 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:56.404 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:56.404 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:56.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:56.408 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.7295ms
2025-06-09 19:41:56.408 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:56.409 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:56.409 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.34ms
2025-06-09 19:41:57.377 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:57.377 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:57.377 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:57.381 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:57.381 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.037ms
2025-06-09 19:41:57.382 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:57.382 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:57.383 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.1083ms
2025-06-09 19:41:58.834 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:58.835 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:58.835 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:58.838 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:58.839 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.1791ms
2025-06-09 19:41:58.840 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:58.840 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:58.840 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.067ms
2025-06-09 19:41:59.404 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:41:59.404 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:59.404 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:41:59.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:41:59.408 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.847ms
2025-06-09 19:41:59.408 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:41:59.409 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:41:59.410 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.0641ms
2025-06-09 19:42:00.041 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:00.042 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:00.042 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:00.050 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:00.051 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 8.4503ms
2025-06-09 19:42:00.051 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:00.052 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:00.052 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 11.0119ms
2025-06-09 19:42:00.496 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:00.496 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:00.496 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:00.500 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:00.501 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.9311ms
2025-06-09 19:42:00.501 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:00.502 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:00.502 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.275ms
2025-06-09 19:42:00.970 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:00.971 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:00.971 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:00.974 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:00.975 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.6886ms
2025-06-09 19:42:00.975 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:00.975 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:00.975 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.367ms
2025-06-09 19:42:01.373 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:01.374 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:01.374 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:01.377 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:01.377 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.2387ms
2025-06-09 19:42:01.377 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:01.378 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:01.378 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 4.4788ms
2025-06-09 19:42:01.775 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:01.775 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:01.776 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:01.779 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:01.780 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.9005ms
2025-06-09 19:42:01.780 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:01.780 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:01.781 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.5354ms
2025-06-09 19:42:02.271 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:02.271 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:02.271 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:02.274 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:02.275 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.4411ms
2025-06-09 19:42:02.275 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:02.276 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:02.276 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.0897ms
2025-06-09 19:42:02.794 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:02.795 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:02.795 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:02.801 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:02.801 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 6.1263ms
2025-06-09 19:42:02.801 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:02.802 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:02.802 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 7.8346ms
2025-06-09 19:42:03.402 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:03.402 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.403 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:03.406 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:03.407 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.099ms
2025-06-09 19:42:03.407 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.408 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:03.408 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.418ms
2025-06-09 19:42:03.637 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:03.637 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.638 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:03.641 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:03.641 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.5301ms
2025-06-09 19:42:03.641 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.642 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:03.642 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.2378ms
2025-06-09 19:42:03.808 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:03.808 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.808 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:03.812 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:03.812 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.8349ms
2025-06-09 19:42:03.812 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.813 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:03.813 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.3789ms
2025-06-09 19:42:03.993 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:03.993 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.993 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:03.998 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:03.998 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 5.0432ms
2025-06-09 19:42:03.999 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:03.999 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:03.999 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.8401ms
2025-06-09 19:42:23.866 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:23.867 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:23.867 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:23.873 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:23.874 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 6.9016ms
2025-06-09 19:42:23.875 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:23.875 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:23.875 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 8.9092ms
2025-06-09 19:42:24.554 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:24.555 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:24.555 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:24.559 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:24.560 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.9094ms
2025-06-09 19:42:24.560 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:24.561 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:24.561 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.9299ms
2025-06-09 19:42:25.181 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:25.181 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:25.182 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:25.188 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:25.189 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 7.512ms
2025-06-09 19:42:25.189 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:25.190 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:25.190 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 9.0247ms
2025-06-09 19:42:26.602 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:26.602 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:26.602 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:26.606 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:26.607 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.5049ms
2025-06-09 19:42:26.607 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:26.607 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:26.608 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 5.9906ms
2025-06-09 19:42:27.125 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:27.125 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.126 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:27.129 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:27.130 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.8325ms
2025-06-09 19:42:27.130 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.131 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:27.131 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.0045ms
2025-06-09 19:42:27.314 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:27.314 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.314 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:27.318 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:27.319 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.0175ms
2025-06-09 19:42:27.319 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.320 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:27.320 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.4528ms
2025-06-09 19:42:27.695 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:27.696 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.696 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:27.699 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:27.700 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.1504ms
2025-06-09 19:42:27.700 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.701 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:27.701 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.3321ms
2025-06-09 19:42:27.871 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:27.872 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.872 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:27.876 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:27.876 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 4.5427ms
2025-06-09 19:42:27.877 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:27.878 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:27.878 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 6.821ms
2025-06-09 19:42:28.032 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:28.032 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:28.033 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:28.035 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:28.035 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 2.3759ms
2025-06-09 19:42:28.035 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:28.035 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:28.036 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 3.3308ms
2025-06-09 19:42:28.231 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:28.231 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:28.231 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:28.234 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:28.235 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 3.0608ms
2025-06-09 19:42:28.235 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:28.235 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:28.235 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 3.9244ms
2025-06-09 19:42:28.425 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:42:28.425 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:28.426 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:42:28.427 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:42:28.428 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 2.1527ms
2025-06-09 19:42:28.428 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:42:28.428 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:42:28.428 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 2.8362ms
2025-06-09 19:43:22.381 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:43:22.383 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:43:22.383 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:43:22.393 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:43:22.395 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 11.0189ms
2025-06-09 19:43:22.395 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:43:22.396 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:43:22.397 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 15.9082ms
2025-06-09 19:43:35.076 +02:00 [INF] Application is shutting down...
2025-06-09 19:43:46.420 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:43:46.476 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:43:46.480 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:43:46.482 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:43:46.490 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:43:46.511 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:43:46.640 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:43:46.640 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:43:46.640 +02:00 [INF] Hosting environment: Development
2025-06-09 19:43:46.640 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:43:50.893 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:43:50.927 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:43:50.933 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:43:51.012 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:43:51.026 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 91.9587ms
2025-06-09 19:43:51.027 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:43:51.031 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:43:51.037 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 144.8217ms
2025-06-09 19:44:11.643 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-09 19:44:11.692 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 49.123ms
2025-06-09 19:44:11.778 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-09 19:44:11.847 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 69.2661ms
2025-06-09 19:44:19.024 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:44:19.031 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:44:19.031 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:44:19.085 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:44:19.086 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 54.3212ms
2025-06-09 19:44:19.086 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:44:19.086 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:44:19.087 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 63.245ms
2025-06-09 19:45:29.793 +02:00 [INF] Application is shutting down...
2025-06-09 19:45:32.488 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:45:32.547 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:45:32.552 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:45:32.555 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:45:32.564 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:45:32.586 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:45:32.713 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:45:32.713 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:45:32.713 +02:00 [INF] Hosting environment: Development
2025-06-09 19:45:32.713 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:45:39.928 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:45:39.962 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:45:39.969 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:45:40.050 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:45:40.110 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 140.4787ms
2025-06-09 19:45:40.112 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:45:40.116 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:45:40.122 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 195.1017ms
2025-06-09 19:56:52.091 +02:00 [INF] Application is shutting down...
2025-06-09 19:56:57.014 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 19:56:57.076 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:56:57.079 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:56:57.082 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 19:56:57.090 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 19:56:57.109 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 19:56:57.242 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 19:56:57.242 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 19:56:57.242 +02:00 [INF] Hosting environment: Development
2025-06-09 19:56:57.242 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 19:57:10.005 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 19:57:10.033 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:57:10.039 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 19:57:10.120 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:57:10.180 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 140.3008ms
2025-06-09 19:57:10.182 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 19:57:10.185 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:57:10.192 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 401 null application/problem+json; charset=utf-8 187.111ms
2025-06-09 19:59:37.578 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 132
2025-06-09 19:59:37.588 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 19:59:37.596 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 19:59:37.652 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 19:59:37.691 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 19:59:37.709 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 19:59:37.724 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 19:59:38.177 +02:00 [ERR] Failed to send email '🔔 Activez votre compte Pulse ERP' to Koumeil.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. 5b1f17b1804b1-452730c73b8sm114270795e9.29 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
2025-06-09 19:59:38.190 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 593.1643ms
2025-06-09 19:59:38.191 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 19:59:38.193 +02:00 [ERR] An unhandled exception has occurred while executing the request.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. 5b1f17b1804b1-452730c73b8sm114270795e9.29 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
   at PulseERP.Application.Handlers.UserCreatedEventHandler.Handle(DomainEventNotification`1 notification, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Handlers/UserCreatedEventHandler.cs:line 21
   at MediatR.Mediator.PublishCore(IEnumerable`1 allHandlers, INotification notification, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Database.CoreDbContext.SaveChangesAndDispatchEventsAsync(IMediator mediator, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Database/CoreDbContext.cs:line 66
   at PulseERP.Application.Services.UserService.CreateAsync(CreateUserCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 80
   at PulseERP.API.Controllers.UsersController.Create(CreateUserCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 49
   at lambda_method244(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 19:59:38.198 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 19:59:38.199 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 621.5037ms
2025-06-09 20:01:40.627 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:01:40.632 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:01:40.633 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:01:40.661 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:01:40.662 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 29.0841ms
2025-06-09 20:01:40.663 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:01:40.666 +02:00 [WRN] ValidationException: {"Email":["Email is already in use."]}
2025-06-09 20:01:40.670 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-09 20:01:40.675 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 400 null application/problem+json; charset=utf-8 47.6131ms
2025-06-09 20:02:13.840 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:02:13.842 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:02:13.842 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:02:13.861 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:02:13.863 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 20.3831ms
2025-06-09 20:02:13.863 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:02:13.864 +02:00 [WRN] ValidationException: {"Email":["Email is already in use."]}
2025-06-09 20:02:13.865 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-06-09 20:02:13.865 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 400 null application/problem+json; charset=utf-8 24.9079ms
2025-06-09 20:02:47.040 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:02:47.041 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:02:47.041 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:02:47.049 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:02:47.062 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:02:47.069 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:02:47.077 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:02:47.501 +02:00 [ERR] Failed to send email '🔔 Activez votre compte Pulse ERP' to Koumeil.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. ffacd0b85a97d-3a53229dea7sm10332717f8f.12 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
2025-06-09 20:02:47.502 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 460.7058ms
2025-06-09 20:02:47.502 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:02:47.503 +02:00 [ERR] An unhandled exception has occurred while executing the request.
MailKit.Net.Smtp.SmtpCommandException: 5.1.3 The recipient address <Koumeil> is not a valid RFC 5321 address. For
5.1.3 more information, go to
5.1.3  https://support.google.com/a/answer/3221692 and review RFC 5321
5.1.3 specifications. ffacd0b85a97d-3a53229dea7sm10332717f8f.12 - gsmtp
   at MailKit.Net.Smtp.SmtpClient.OnRecipientNotAccepted(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.ProcessRcptToResponse(MimeMessage message, MailboxAddress mailbox, SmtpResponse response)
   at MailKit.Net.Smtp.SmtpClient.FlushCommandQueueAsync(MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at MailKit.Net.Smtp.SmtpClient.SendAsync(FormatOptions options, MimeMessage message, MailboxAddress sender, IList`1 recipients, Boolean doAsync, CancellationToken cancellationToken, ITransferProgress progress)
   at PulseERP.Infrastructure.Smtp.SmtpEmailService.SendEmailAsync(String toEmail, String subject, BodyBuilder bodyBuilder) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Smtp/SmtpEmailService.cs:line 92
   at PulseERP.Application.Handlers.UserCreatedEventHandler.Handle(DomainEventNotification`1 notification, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Handlers/UserCreatedEventHandler.cs:line 21
   at MediatR.Mediator.PublishCore(IEnumerable`1 allHandlers, INotification notification, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Database.CoreDbContext.SaveChangesAndDispatchEventsAsync(IMediator mediator, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Database/CoreDbContext.cs:line 66
   at PulseERP.Application.Services.UserService.CreateAsync(CreateUserCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 80
   at PulseERP.API.Controllers.UsersController.Create(CreateUserCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 49
   at lambda_method244(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 20:02:47.505 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 20:02:47.505 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 500 null application/problem+json; charset=utf-8 465.4731ms
2025-06-09 20:04:47.371 +02:00 [INF] Application is shutting down...
2025-06-09 20:04:51.951 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 20:04:52.013 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:04:52.017 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:04:52.020 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:04:52.029 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 20:04:52.051 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 20:04:52.174 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 20:04:52.174 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 20:04:52.174 +02:00 [INF] Hosting environment: Development
2025-06-09 20:04:52.174 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 20:05:01.896 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:05:01.939 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:05:01.946 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:05:02.030 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:05:02.083 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:05:02.102 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:05:02.118 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:05:03.297 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:05:03.2975650Z".
2025-06-09 20:05:03.305 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:05:03.318 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1371.4253ms
2025-06-09 20:05:03.320 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:05:03.323 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1427.961ms
2025-06-09 20:05:50.293 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:05:50.296 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:05:50.302 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:05:50.356 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:05:50.359 +02:00 [WRN] Activation token invalid or expired at "2025-06-09T20:05:50.3594850".
2025-06-09 20:05:50.360 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 57.1807ms
2025-06-09 20:05:50.360 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:05:50.363 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 20:05:50.366 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 401 null application/problem+json; charset=utf-8 73.1034ms
2025-06-09 20:07:32.868 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:07:32.877 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:07:32.878 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:07:32.894 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:07:32.908 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:07:32.916 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:07:32.926 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:07:33.926 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:07:33.9264130Z".
2025-06-09 20:07:33.929 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:07:33.931 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1053.0316ms
2025-06-09 20:07:33.932 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:07:33.932 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1064.8677ms
2025-06-09 20:08:06.546 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:08:06.549 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:08:06.550 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:08:06.559 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:08:06.560 +02:00 [WRN] Activation token invalid or expired at "2025-06-09T20:08:06.5604920".
2025-06-09 20:08:06.561 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 11.4806ms
2025-06-09 20:08:06.562 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:08:06.563 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 20:08:06.563 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 401 null application/problem+json; charset=utf-8 17.452ms
2025-06-09 20:08:58.598 +02:00 [INF] Application is shutting down...
2025-06-09 20:10:06.881 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 20:10:06.943 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:10:06.947 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:10:06.950 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:10:06.960 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 20:10:06.984 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 20:10:07.101 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 20:10:07.101 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 20:10:07.101 +02:00 [INF] Hosting environment: Development
2025-06-09 20:10:07.101 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 20:10:16.082 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:10:16.124 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:10:16.133 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:10:16.210 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:10:16.218 +02:00 [WRN] Activation token invalid or expired at "2025-06-09T20:10:16.2189050".
2025-06-09 20:10:16.221 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 86.8151ms
2025-06-09 20:10:16.222 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:10:16.225 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 20:10:16.231 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 401 null application/problem+json; charset=utf-8 150.632ms
2025-06-09 20:10:40.483 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:10:40.489 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:10:40.497 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:10:40.558 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:10:40.614 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:10:40.629 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:10:40.638 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:10:41.732 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:10:41.7321210Z".
2025-06-09 20:10:41.736 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:10:41.743 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1246.3909ms
2025-06-09 20:10:41.744 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:10:41.744 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1260.5463ms
2025-06-09 20:11:11.935 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:11:11.944 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:11:11.945 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:11:11.959 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:11:11.965 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:11:11.985 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 20:11:11.999 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:11:12.078 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:11:12.078 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:11:12.079 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 133.8531ms
2025-06-09 20:11:12.079 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:11:12.079 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 143.4253ms
2025-06-09 20:11:51.029 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 20:11:51.031 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 20:11:51.035 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:11:51.065 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:11:51.148 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:11:51.157 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
UPDATE [Users] SET [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-06-09 20:11:51.169 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 20:11:51.170 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:11:51.171 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 136.3038ms
2025-06-09 20:11:51.171 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 20:11:51.171 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 142.2398ms
2025-06-09 20:13:06.791 +02:00 [INF] Application is shutting down...
2025-06-09 20:13:09.744 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 20:13:09.804 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:13:09.808 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:13:09.811 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:13:09.820 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 20:13:09.841 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 20:13:09.972 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 20:13:09.972 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 20:13:09.972 +02:00 [INF] Hosting environment: Development
2025-06-09 20:13:09.972 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 20:13:32.638 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:13:32.672 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:13:32.681 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:13:32.761 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:13:32.803 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:13:32.821 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:13:32.836 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:13:33.977 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:13:33.9767840Z".
2025-06-09 20:13:33.990 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:13:34.012 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1329.1174ms
2025-06-09 20:13:34.014 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:13:34.017 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1380.3737ms
2025-06-09 20:13:53.263 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:13:53.267 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:13:53.274 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:13:53.321 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:13:53.326 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:13:53.333 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 20:13:53.340 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:13:53.407 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:13:53.407 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:13:53.408 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 133.7078ms
2025-06-09 20:13:53.408 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:13:53.408 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 145.5715ms
2025-06-09 20:17:03.319 +02:00 [INF] Application is shutting down...
2025-06-09 20:17:06.431 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 20:17:06.488 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:17:06.492 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:17:06.494 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:17:06.503 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 20:17:06.522 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 20:17:06.633 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 20:17:06.633 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 20:17:06.634 +02:00 [INF] Hosting environment: Development
2025-06-09 20:17:06.634 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 20:17:20.816 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:17:20.877 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:17:20.889 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:17:20.976 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:17:21.018 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:17:21.036 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:17:21.053 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:17:22.127 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:17:22.1278020Z".
2025-06-09 20:17:22.136 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:17:22.151 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 1259.8761ms
2025-06-09 20:17:22.153 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:17:22.155 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1340.3822ms
2025-06-09 20:17:43.715 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:17:43.720 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:17:43.727 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:17:43.780 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:17:43.787 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:17:43.798 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 20:17:43.806 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:17:43.874 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:17:43.874 +02:00 [INF] Handling UserPasswordChangedEvent for "dc80e346-9bf8-498d-992f-066abe4b58bb" at "2025-06-09T18:17:43.8652450Z"
2025-06-09 20:17:45.784 +02:00 [INF] Email '✅ Your Pulse ERP password has been changed' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:17:45.7843830Z".
2025-06-09 20:17:45.787 +02:00 [INF] Handling UserActivatedEvent for "dc80e346-9bf8-498d-992f-066abe4b58bb" at "2025-06-09T18:17:43.8653310Z"
2025-06-09 20:17:46.701 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:17:46.7014640Z".
2025-06-09 20:17:46.704 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:17:46.707 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 2979.5827ms
2025-06-09 20:17:46.708 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:17:46.708 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 2993.412ms
2025-06-09 20:20:44.257 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/users - application/json 130
2025-06-09 20:20:44.268 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:20:44.269 +02:00 [INF] Route matched with {action = "Create", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.UserInfo]]] Create(PulseERP.Abstractions.Common.DTOs.Users.Commands.CreateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:20:44.281 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:20:44.293 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (DbType = Int32), @p5='?' (Size = 100), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Id], [CreatedAt], [DeletedAt], [Email], [FailedLoginAttempts], [FirstName], [IsDeleted], [LastLoginDate], [LastName], [LockoutEnd], [PasswordHash], [PasswordLastChangedAt], [PhoneNumber], [RequirePasswordChange], [RoleName], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
2025-06-09 20:20:44.297 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:20:44.302 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:20:45.262 +02:00 [INF] Email '🔔 Activez votre compte Pulse ERP' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:20:45.2622110Z".
2025-06-09 20:20:45.264 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.UserInfo, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:20:45.266 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Create (PulseERP.API) in 996.86ms
2025-06-09 20:20:45.267 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Create (PulseERP.API)'
2025-06-09 20:20:45.267 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/users - 201 null application/json; charset=utf-8 1010.6125ms
2025-06-09 20:21:16.378 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/activate-account - application/json 176
2025-06-09 20:21:16.381 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:21:16.381 +02:00 [INF] Route matched with {action = "ActivateAccount", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] ActivateAccount(PulseERP.Abstractions.Security.DTOs.ActivateAccountRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:21:16.392 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__tokenHash_0='?' (Size = 450), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__tokenHash_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:21:16.397 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:21:16.404 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-06-09 20:21:16.408 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:21:16.484 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:21:16.485 +02:00 [INF] Handling UserPasswordChangedEvent for "2cad3253-6769-439e-b8ff-f0e0225cf6ab" at "2025-06-09T18:21:16.4780230Z"
2025-06-09 20:21:17.522 +02:00 [INF] Email '✅ Your Pulse ERP password has been changed' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:21:17.5222430Z".
2025-06-09 20:21:17.523 +02:00 [INF] Handling UserActivatedEvent for "2cad3253-6769-439e-b8ff-f0e0225cf6ab" at "2025-06-09T18:21:16.4780250Z"
2025-06-09 20:21:18.543 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:21:18.5431980Z".
2025-06-09 20:21:18.544 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:21:18.545 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API) in 2163.1707ms
2025-06-09 20:21:18.545 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.ActivateAccount (PulseERP.API)'
2025-06-09 20:21:18.546 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/activate-account - 200 null application/json; charset=utf-8 2168.4187ms
2025-06-09 20:22:06.515 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 20:22:06.518 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 20:22:06.525 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:22:06.573 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:22:06.649 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:22:06.660 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid), @p14='?' (DbType = Guid), @p13='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
UPDATE [Users] SET [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
2025-06-09 20:22:06.674 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 20:22:06.675 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:22:06.677 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 151.7465ms
2025-06-09 20:22:06.677 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 20:22:06.677 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 162.1155ms
2025-06-09 20:25:54.590 +02:00 [INF] Application is shutting down...
2025-06-09 20:25:59.997 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 20:26:00.055 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:26:00.058 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:26:00.060 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:26:00.069 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 20:26:00.090 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 20:26:00.218 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 20:26:00.218 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 20:26:00.218 +02:00 [INF] Hosting environment: Development
2025-06-09 20:26:00.218 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 20:26:13.992 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/auth/login - application/json 78
2025-06-09 20:26:14.030 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 20:26:14.038 +02:00 [INF] Route matched with {action = "Login", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Security.DTOs.AuthResponse]]] Login(PulseERP.Abstractions.Security.DTOs.LoginRequest) on controller PulseERP.API.Controllers.AuthenticationController (PulseERP.API).
2025-06-09 20:26:14.120 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Email] = @__email_0
2025-06-09 20:26:14.195 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Guid), @__tokenType_1='?' (Size = 4000), @__nowUtc_2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[CreatedAt], [r].[CreatedByIp], [r].[CreatedByUserAgent], [r].[DeletedAt], [r].[Expires], [r].[IsActive], [r].[IsDeleted], [r].[Revoked], [r].[Token], [r].[TokenType], [r].[UpdatedAt], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[TokenType] = @__tokenType_1 AND [r].[Revoked] IS NULL AND [r].[Expires] > @__nowUtc_2
2025-06-09 20:26:14.240 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Boolean), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p7='?' (DbType = Guid), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [DeletedAt] = @p0, [IsActive] = @p1, [IsDeleted] = @p2, [Revoked] = @p3, [UpdatedAt] = @p4
OUTPUT 1
WHERE [Id] = @p5;
UPDATE [Users] SET [UpdatedAt] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2025-06-09 20:26:14.266 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([Id], [CreatedAt], [CreatedByIp], [CreatedByUserAgent], [DeletedAt], [Expires], [IsActive], [IsDeleted], [Revoked], [Token], [TokenType], [UpdatedAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-06-09 20:26:14.271 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLoginDate] = @p0, [UpdatedAt] = @p1
OUTPUT 1
WHERE [Id] = @p2;
2025-06-09 20:26:14.276 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Security.DTOs.AuthResponse, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:26:14.283 +02:00 [INF] Executed action PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API) in 243.883ms
2025-06-09 20:26:14.284 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.AuthenticationController.Login (PulseERP.API)'
2025-06-09 20:26:14.286 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/auth/login - 200 null application/json; charset=utf-8 295.2627ms
2025-06-09 20:26:54.179 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab - null null
2025-06-09 20:26:54.186 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetById (PulseERP.API)'
2025-06-09 20:26:54.190 +02:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] GetById(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:26:54.238 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:26:54.241 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:26:54.244 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetById (PulseERP.API) in 53.4849ms
2025-06-09 20:26:54.244 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetById (PulseERP.API)'
2025-06-09 20:26:54.244 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab - 200 null application/json; charset=utf-8 65.5385ms
2025-06-09 20:27:06.352 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab - application/json 22
2025-06-09 20:27:06.356 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 20:27:06.362 +02:00 [INF] Route matched with {action = "Update", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Users.Commands.UpdateUserCommand) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:27:06.378 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:27:06.396 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:27:06.398 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:27:06.399 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Update (PulseERP.API) in 36.536ms
2025-06-09 20:27:06.399 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Update (PulseERP.API)'
2025-06-09 20:27:06.399 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab - 200 null application/json; charset=utf-8 47.3767ms
2025-06-09 20:27:12.622 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab - null null
2025-06-09 20:27:12.624 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.GetById (PulseERP.API)'
2025-06-09 20:27:12.624 +02:00 [INF] Route matched with {action = "GetById", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails]]] GetById(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:27:12.636 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:27:12.637 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Users.Models.UserDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 20:27:12.637 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.GetById (PulseERP.API) in 12.6143ms
2025-06-09 20:27:12.638 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.GetById (PulseERP.API)'
2025-06-09 20:27:12.638 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab - 200 null application/json; charset=utf-8 15.6654ms
2025-06-09 20:27:26.990 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - null null
2025-06-09 20:27:26.991 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 20:27:26.997 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:27:27.004 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:27:27.013 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:27:27.014 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:27:27.016 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 19.2341ms
2025-06-09 20:27:27.016 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 20:27:27.017 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - 200 null application/json; charset=utf-8 26.3189ms
2025-06-09 20:29:59.629 +02:00 [INF] Application is shutting down...
2025-06-09 20:30:03.359 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 20:30:03.420 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:30:03.423 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:30:03.425 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 20:30:03.434 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 20:30:03.455 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 20:30:03.584 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 20:30:03.584 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 20:30:03.584 +02:00 [INF] Hosting environment: Development
2025-06-09 20:30:03.584 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 20:30:16.027 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - null null
2025-06-09 20:30:16.074 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 20:30:16.081 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:30:16.152 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:30:16.168 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 85.7706ms
2025-06-09 20:30:16.169 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 20:30:16.172 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: L'utilisateur (2cad3253-6769-439e-b8ff-f0e0225cf6ab) est déjà désactivé.
   at PulseERP.Application.Services.UserService.DeactivateUserAsync(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 176
   at PulseERP.API.Controllers.UsersController.Deactivate(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 93
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 20:30:16.178 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 20:30:16.185 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - 500 null application/problem+json; charset=utf-8 158.7892ms
2025-06-09 20:30:30.934 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/activate - null null
2025-06-09 20:30:30.941 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Activate (PulseERP.API)'
2025-06-09 20:30:30.949 +02:00 [INF] Route matched with {action = "Activate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Activate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:30:30.989 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:30:31.032 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:30:31.037 +02:00 [INF] Handling UserActivatedEvent for "2cad3253-6769-439e-b8ff-f0e0225cf6ab" at "2025-06-09T18:30:30.9904740Z"
2025-06-09 20:30:32.229 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:30:32.2294620Z".
2025-06-09 20:30:32.232 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:30:32.237 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Activate (PulseERP.API) in 1287.1946ms
2025-06-09 20:30:32.237 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Activate (PulseERP.API)'
2025-06-09 20:30:32.238 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/activate - 200 null application/json; charset=utf-8 1303.4992ms
2025-06-09 20:30:57.248 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - null null
2025-06-09 20:30:57.253 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 20:30:57.254 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 20:30:57.265 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 20:30:57.276 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 20:30:57.279 +02:00 [INF] Handling UserDeactivatedEvent for "2cad3253-6769-439e-b8ff-f0e0225cf6ab" at "2025-06-09T18:30:57.2676020Z"
2025-06-09 20:30:58.235 +02:00 [INF] Email '🔒 Your Pulse ERP account is temporarily locked' sent to koumeil.messaoudi@outlook.com at "2025-06-09T18:30:58.2353440Z".
2025-06-09 20:30:58.236 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 20:30:58.237 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 982.9778ms
2025-06-09 20:30:58.237 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 20:30:58.238 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - 200 null application/json; charset=utf-8 990.2769ms
2025-06-09 20:31:37.572 +02:00 [INF] Application is shutting down...
2025-06-09 22:20:12.858 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:20:12.919 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:20:12.922 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:20:12.925 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:20:12.933 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:20:12.954 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:20:13.100 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:20:13.100 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:20:13.100 +02:00 [INF] Hosting environment: Development
2025-06-09 22:20:13.100 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:20:37.707 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - null null
2025-06-09 22:20:37.750 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 22:20:37.760 +02:00 [INF] Route matched with {action = "Deactivate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Deactivate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 22:20:37.838 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 22:20:37.854 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API) in 92.8261ms
2025-06-09 22:20:37.856 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Deactivate (PulseERP.API)'
2025-06-09 22:20:37.858 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: L'utilisateur (2cad3253-6769-439e-b8ff-f0e0225cf6ab) est déjà désactivé.
   at PulseERP.Application.Services.UserService.DeactivateUserAsync(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/UserService.cs:line 176
   at PulseERP.API.Controllers.UsersController.Deactivate(Guid id) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/UsersController.cs:line 93
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:20:37.866 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:20:37.873 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/deactivate - 500 null application/problem+json; charset=utf-8 166.5285ms
2025-06-09 22:20:45.443 +02:00 [INF] Request starting HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/activate - null null
2025-06-09 22:20:45.449 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.UsersController.Activate (PulseERP.API)'
2025-06-09 22:20:45.457 +02:00 [INF] Route matched with {action = "Activate", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[System.Object]]] Activate(System.Guid) on controller PulseERP.API.Controllers.UsersController (PulseERP.API).
2025-06-09 22:20:45.503 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[DeletedAt], [u].[Email], [u].[FailedLoginAttempts], [u].[FirstName], [u].[IsActive], [u].[IsDeleted], [u].[LastLoginDate], [u].[LastName], [u].[LockoutEnd], [u].[PasswordHash], [u].[PasswordLastChangedAt], [u].[PhoneNumber], [u].[RequirePasswordChange], [u].[RoleName], [u].[UpdatedAt]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0
2025-06-09 22:20:45.543 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p16='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 255), @p3='?' (DbType = Int32), @p4='?' (Size = 100), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (Size = 100), @p9='?' (DbType = DateTime2), @p10='?' (Size = 4000), @p11='?' (DbType = DateTime2), @p12='?' (Size = 20), @p13='?' (DbType = Boolean), @p14='?' (Size = 50), @p15='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [Email] = @p2, [FailedLoginAttempts] = @p3, [FirstName] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [LastLoginDate] = @p7, [LastName] = @p8, [LockoutEnd] = @p9, [PasswordHash] = @p10, [PasswordLastChangedAt] = @p11, [PhoneNumber] = @p12, [RequirePasswordChange] = @p13, [RoleName] = @p14, [UpdatedAt] = @p15
OUTPUT 1
WHERE [Id] = @p16;
2025-06-09 22:20:45.548 +02:00 [INF] Handling UserActivatedEvent for "2cad3253-6769-439e-b8ff-f0e0225cf6ab" at "2025-06-09T20:20:45.5038330Z"
2025-06-09 22:20:46.928 +02:00 [INF] Email '🎉 Welcome to Pulse ERP!' sent to koumeil.messaoudi@outlook.com at "2025-06-09T20:20:46.9282020Z".
2025-06-09 22:20:46.932 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[System.Object, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-06-09 22:20:46.940 +02:00 [INF] Executed action PulseERP.API.Controllers.UsersController.Activate (PulseERP.API) in 1482.2577ms
2025-06-09 22:20:46.941 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.UsersController.Activate (PulseERP.API)'
2025-06-09 22:20:46.942 +02:00 [INF] Request finished HTTP/2 PATCH https://localhost:7232/api/users/2cad3253-6769-439e-b8ff-f0e0225cf6ab/activate - 200 null application/json; charset=utf-8 1498.6745ms
2025-06-09 22:20:59.023 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 22:20:59.033 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:20:59.053 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:20:59.099 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 46.3931ms
2025-06-09 22:20:59.100 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:20:59.100 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderBy(p => p.Name.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 81
   at PulseERP.Application.Services.ProductService.GetAllProductsAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 32
   at PulseERP.API.Controllers.ProductsController.GetAll(ProductFilter productFilter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 25
   at lambda_method325(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:20:59.108 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:20:59.109 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 86.1092ms
2025-06-09 22:23:54.665 +02:00 [INF] Application is shutting down...
2025-06-09 22:23:57.097 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:23:57.155 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:23:57.161 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:23:57.163 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:23:57.172 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:23:57.192 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:23:57.319 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:23:57.320 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:23:57.320 +02:00 [INF] Hosting environment: Development
2025-06-09 22:23:57.320 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:23:58.075 +02:00 [INF] Application is shutting down...
2025-06-09 22:31:41.669 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:31:41.727 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:31:41.730 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:31:41.733 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:31:41.741 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:31:41.766 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:31:41.907 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:31:41.907 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:31:41.907 +02:00 [INF] Hosting environment: Development
2025-06-09 22:31:41.907 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:31:45.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 22:31:45.318 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:31:45.338 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:31:45.398 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 58.7448ms
2025-06-09 22:31:45.399 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:31:45.401 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderBy(p => p.Name.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 81
   at PulseERP.Application.Services.ProductService.GetAllProductsAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 32
   at PulseERP.API.Controllers.ProductsController.GetAll(ProductFilter productFilter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 25
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:31:45.409 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:31:45.415 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 136.7991ms
2025-06-09 22:31:46.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 22:31:46.557 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:31:46.558 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:31:46.603 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 45.5893ms
2025-06-09 22:31:46.604 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:31:46.604 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderBy(p => p.Name.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 81
   at PulseERP.Application.Services.ProductService.GetAllProductsAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 32
   at PulseERP.API.Controllers.ProductsController.GetAll(ProductFilter productFilter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 25
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:31:46.611 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:31:46.611 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 60.4254ms
2025-06-09 22:31:47.256 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 22:31:47.258 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:31:47.259 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:31:47.265 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 6.7142ms
2025-06-09 22:31:47.266 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:31:47.266 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Product>()
    .OrderBy(p => p.Name.Value)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.CountAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.ProductRepository.GetAllAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/ProductRepository.cs:line 81
   at PulseERP.Application.Services.ProductService.GetAllProductsAsync(ProductFilter filter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 32
   at PulseERP.API.Controllers.ProductsController.GetAll(ProductFilter productFilter) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 25
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:31:47.269 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:31:47.269 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 13.6869ms
2025-06-09 22:32:39.849 +02:00 [INF] Application is shutting down...
2025-06-09 22:32:55.955 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:32:56.014 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:32:56.017 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:32:56.019 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:32:56.028 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:32:56.050 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:32:56.191 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:32:56.191 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:32:56.191 +02:00 [INF] Hosting environment: Development
2025-06-09 22:32:56.191 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:33:57.194 +02:00 [INF] Application is shutting down...
2025-06-09 22:34:13.821 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:34:13.878 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:34:13.881 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:34:13.883 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:34:13.892 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:34:13.913 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:34:14.047 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:34:14.047 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:34:14.047 +02:00 [INF] Hosting environment: Development
2025-06-09 22:34:14.047 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:34:16.194 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products - null null
2025-06-09 22:34:16.231 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:34:16.250 +02:00 [INF] Route matched with {action = "GetAll", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.Pagination.PagedResult`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary]]]] GetAll(PulseERP.Abstractions.Common.Filters.ProductFilter) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:34:16.342 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-06-09 22:34:16.406 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p0].[Id], [p0].[BrandId], [p0].[CreatedAt], [p0].[DeletedAt], [p0].[Description], [p0].[IsActive], [p0].[IsDeleted], [p0].[IsService], [p0].[LastSoldAt], [p0].[Name], [p0].[Status], [p0].[UpdatedAt], [p0].[PriceAmount], [p0].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM (
    SELECT [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency]
    FROM [Products] AS [p]
    ORDER BY [p].[Name]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [p0]
INNER JOIN [Brands] AS [b] ON [p0].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p0].[Id] = [i].[ProductId]
ORDER BY [p0].[Name]
2025-06-09 22:34:16.415 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.Pagination.PagedResult`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductSummary, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 22:34:16.424 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API) in 171.7492ms
2025-06-09 22:34:16.425 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetAll (PulseERP.API)'
2025-06-09 22:34:16.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products - 200 null application/json; charset=utf-8 234.2647ms
2025-06-09 22:35:24.827 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 149
2025-06-09 22:35:24.834 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Create (PulseERP.API)'
2025-06-09 22:35:24.840 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Create(PulseERP.Abstractions.Common.DTOs.Products.Commands.CreateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:35:24.892 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Create (PulseERP.API) in 50.9204ms
2025-06-09 22:35:24.892 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Create (PulseERP.API)'
2025-06-09 22:35:24.895 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The LINQ expression 'DbSet<Brand>()
    .Where(b => b.Name.Trim().Equals(
        value: __normalized_0, 
        comparisonType: CurrentCultureIgnoreCase))' could not be translated. Additional information: Translation of the 'string.Equals' overload with a 'StringComparison' parameter is not supported. See https://go.microsoft.com/fwlink/?linkid=2129535 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteCore[TResult](Expression query, Boolean async, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Repositories.BrandRepository.FindByNameAsync(String name) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Repositories/BrandRepository.cs:line 42
   at PulseERP.Application.Services.ProductService.GetOrCreateBrandAsync(String brandName) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 488
   at PulseERP.Application.Services.ProductService.CreateProductAsync(CreateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 67
   at PulseERP.API.Controllers.ProductsController.Create(CreateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 47
   at lambda_method195(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:35:24.902 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:35:24.905 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 500 null application/problem+json; charset=utf-8 77.6249ms
2025-06-09 22:39:51.589 +02:00 [INF] Application is shutting down...
2025-06-09 22:39:54.152 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:39:54.210 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:39:54.214 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:39:54.217 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:39:54.225 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:39:54.245 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:39:54.392 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:39:54.392 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:39:54.392 +02:00 [INF] Hosting environment: Development
2025-06-09 22:39:54.392 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:39:59.220 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7232/api/products - application/json 149
2025-06-09 22:39:59.254 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Create (PulseERP.API)'
2025-06-09 22:39:59.261 +02:00 [INF] Route matched with {action = "Create", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Create(PulseERP.Abstractions.Common.DTOs.Products.Commands.CreateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:39:59.361 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:39:59.451 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500) (DbType = AnsiString), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 200), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Size = 4000), @p12='?' (DbType = Guid), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Boolean), @p16='?' (DbType = Boolean), @p17='?' (DbType = Guid), @p18='?' (DbType = Int32), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Guid), @p21='?' (DbType = DateTime2), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Guid), @p24='?' (DbType = Boolean), @p25='?' (DbType = Boolean), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (Size = 4000), @p29='?' (DbType = Int32), @p30='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([Id], [BrandId], [CreatedAt], [DeletedAt], [Description], [IsDeleted], [LastSoldAt], [Name], [Status], [UpdatedAt], [PriceAmount], [PriceCurrency])
OUTPUT INSERTED.[IsActive], INSERTED.[IsService]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
INSERT INTO [Inventories] ([Id], [CreatedAt], [DeletedAt], [IsActive], [IsDeleted], [ProductId], [Quantity], [UpdatedAt])
VALUES (@p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);
INSERT INTO [InventoryMovements] ([Id], [CreatedAt], [DeletedAt], [InventoryId], [IsActive], [IsDeleted], [OccurredAt], [QuantityChange], [Reason], [Type], [UpdatedAt])
VALUES (@p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
2025-06-09 22:39:59.464 +02:00 [INF] Product created: {"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":"e89508ef-e9ba-4a96-b01e-28158c279a65","Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"QuantityChange":3,"Type":"InitialStock","OccurredAt":"2025-06-09T20:39:59.3631450Z","Reason":"Initial stock","Id":"ca97a44c-7e0c-45b4-9055-c0e4c1b2a35e","CreatedAt":"2025-06-09T20:39:59.3632180Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":"e89508ef-e9ba-4a96-b01e-28158c279a65","Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":"e89508ef-e9ba-4a96-b01e-28158c279a65","Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"QuantityChange":3,"Type":"InitialStock","OccurredAt":"2025-06-09T20:39:59.3631450Z","Reason":"Initial stock","Id":"ca97a44c-7e0c-45b4-9055-c0e4c1b2a35e","CreatedAt":"2025-06-09T20:39:59.3632180Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"QuantityChange":3,"Type":"InitialStock","OccurredAt":"2025-06-09T20:39:59.3631450Z","Reason":"Initial stock","Id":"ca97a44c-7e0c-45b4-9055-c0e4c1b2a35e","CreatedAt":"2025-06-09T20:39:59.3632180Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":"e89508ef-e9ba-4a96-b01e-28158c279a65","Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"QuantityChange":3,"Type":"InitialStock","OccurredAt":"2025-06-09T20:39:59.3631450Z","Reason":"Initial stock","Id":"ca97a44c-7e0c-45b4-9055-c0e4c1b2a35e","CreatedAt":"2025-06-09T20:39:59.3632180Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":{"Value":"Macbook Air M4","$type":"ProductName"},"Description":{"Value":"Laptop ultra leger","$type":"ProductDescription"},"Brand":{"Name":"Apple","Products":[{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"}],"Id":"cd6eaaff-395f-45ac-b8df-f957a36139e7","CreatedAt":"2025-06-09T17:36:02.2295390+02:00","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Brand"},"BrandId":"cd6eaaff-395f-45ac-b8df-f957a36139e7","Price":{"Amount":1054,"Currency":{"Code":"EUR","$type":"Currency"},"$type":"Money"},"IsService":false,"Status":"LowStock","LastSoldAt":null,"Inventory":{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","Quantity":3,"Movements":[{"InventoryId":null,"Inventory":null,"QuantityChange":null,"Type":null,"OccurredAt":null,"Reason":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"InventoryMovement"}],"Id":"e89508ef-e9ba-4a96-b01e-28158c279a65","CreatedAt":"2025-06-09T20:39:59.3630940Z","IsActive":false,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[],"$type":"Inventory"},"Id":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","CreatedAt":"2025-06-09T20:39:59.3629380Z","IsActive":true,"UpdatedAt":null,"IsDeleted":false,"DeletedAt":null,"DomainEvents":[{"OccurredOn":"2025-06-09T20:39:59.3633450Z","Entity":{"Name":null,"Description":null,"Brand":null,"BrandId":null,"Price":null,"IsService":null,"Status":null,"LastSoldAt":null,"Inventory":null,"Id":null,"CreatedAt":null,"IsActive":null,"UpdatedAt":null,"IsDeleted":null,"DeletedAt":null,"DomainEvents":null,"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"},"$type":"EntityActivatedEvent"},{"ProductId":"6b3126ec-ba5e-46e5-9cfc-13f82022f1cf","OccurredOn":"2025-06-09T20:39:59.3634370Z","$type":"ProductCreatedEvent"}],"$type":"Product"}
2025-06-09 22:39:59.488 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 22:39:59.498 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Create (PulseERP.API) in 235.9035ms
2025-06-09 22:39:59.499 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Create (PulseERP.API)'
2025-06-09 22:39:59.501 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7232/api/products - 201 null application/json; charset=utf-8 282.8082ms
2025-06-09 22:40:24.122 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - null null
2025-06-09 22:40:24.132 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.GetById (PulseERP.API)'
2025-06-09 22:40:24.149 +02:00 [INF] Route matched with {action = "GetById", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] GetById(System.Guid) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:40:24.255 +02:00 [INF] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:40:24.258 +02:00 [INF] Executing OkObjectResult, writing value of type 'PulseERP.API.Contracts.ApiResponse`1[[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails, PulseERP.Abstractions, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-06-09 22:40:24.259 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.GetById (PulseERP.API) in 109.3507ms
2025-06-09 22:40:24.259 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.GetById (PulseERP.API)'
2025-06-09 22:40:24.259 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 200 null application/json; charset=utf-8 136.8979ms
2025-06-09 22:41:53.355 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 22:41:53.359 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:41:53.365 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:41:53.390 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:41:53.394 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:41:53.413 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Brands] ([Id], [CreatedAt], [DeletedAt], [IsDeleted], [Name], [UpdatedAt])
OUTPUT INSERTED.[IsActive]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-06-09 22:41:53.418 +02:00 [INF] Brand created: AppleInc
2025-06-09 22:41:53.477 +02:00 [INF] Executed DbCommand (36ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p14='?' (DbType = Int32), @p26='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p39='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = DateTime2), @p29='?' (DbType = DateTime2), @p30='?' (Size = 500) (DbType = AnsiString), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (DbType = DateTime2), @p35='?' (Size = 200), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [IsActive] = @p2, [IsDeleted] = @p3, [Name] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
UPDATE [Brands] SET [CreatedAt] = @p7, [DeletedAt] = @p8, [IsActive] = @p9, [IsDeleted] = @p10, [Name] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [Id] = @p13;
UPDATE [Inventories] SET [Quantity] = @p14
OUTPUT 1
WHERE [Id] = @p15;
UPDATE [InventoryMovements] SET [CreatedAt] = @p16, [DeletedAt] = @p17, [InventoryId] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [OccurredAt] = @p21, [QuantityChange] = @p22, [Reason] = @p23, [Type] = @p24, [UpdatedAt] = @p25
OUTPUT 1
WHERE [Id] = @p26;
UPDATE [Products] SET [BrandId] = @p27, [CreatedAt] = @p28, [DeletedAt] = @p29, [Description] = @p30, [IsActive] = @p31, [IsDeleted] = @p32, [IsService] = @p33, [LastSoldAt] = @p34, [Name] = @p35, [Status] = @p36, [UpdatedAt] = @p37, [PriceAmount] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2025-06-09 22:41:53.490 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 124.4788ms
2025-06-09 22:41:53.490 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:41:53.494 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 135
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method582(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:41:53.506 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:41:53.509 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 154.1662ms
2025-06-09 22:46:44.430 +02:00 [INF] Application is shutting down...
2025-06-09 22:46:47.601 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:46:47.659 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:46:47.662 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:46:47.664 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:46:47.672 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:46:47.692 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:46:47.817 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:46:47.817 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:46:47.817 +02:00 [INF] Hosting environment: Development
2025-06-09 22:46:47.817 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:46:55.770 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 22:46:55.817 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:46:55.828 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:46:55.937 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:46:55.966 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:46:56.026 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p14='?' (DbType = Int32), @p26='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p39='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = DateTime2), @p29='?' (DbType = DateTime2), @p30='?' (Size = 500) (DbType = AnsiString), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (DbType = DateTime2), @p35='?' (Size = 200), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [IsActive] = @p2, [IsDeleted] = @p3, [Name] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
UPDATE [Brands] SET [CreatedAt] = @p7, [DeletedAt] = @p8, [IsActive] = @p9, [IsDeleted] = @p10, [Name] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [Id] = @p13;
UPDATE [Inventories] SET [Quantity] = @p14
OUTPUT 1
WHERE [Id] = @p15;
UPDATE [InventoryMovements] SET [CreatedAt] = @p16, [DeletedAt] = @p17, [InventoryId] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [OccurredAt] = @p21, [QuantityChange] = @p22, [Reason] = @p23, [Type] = @p24, [UpdatedAt] = @p25
OUTPUT 1
WHERE [Id] = @p26;
UPDATE [Products] SET [BrandId] = @p27, [CreatedAt] = @p28, [DeletedAt] = @p29, [Description] = @p30, [IsActive] = @p31, [IsDeleted] = @p32, [IsService] = @p33, [LastSoldAt] = @p34, [Name] = @p35, [Status] = @p36, [UpdatedAt] = @p37, [PriceAmount] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2025-06-09 22:46:56.035 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 205.8887ms
2025-06-09 22:46:56.037 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:46:56.039 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 135
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:46:56.048 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:46:56.053 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 285.1784ms
2025-06-09 22:49:07.850 +02:00 [INF] Application is shutting down...
2025-06-09 22:49:10.770 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:49:10.833 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:49:10.835 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:49:10.837 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:49:10.845 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:49:10.864 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:49:11.001 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:49:11.001 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:49:11.001 +02:00 [INF] Hosting environment: Development
2025-06-09 22:49:11.002 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:49:14.158 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 22:49:14.198 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:49:14.209 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:49:14.327 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:49:14.353 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:49:14.418 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p6='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p13='?' (DbType = Guid), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p15='?' (DbType = Guid), @p14='?' (DbType = Int32), @p26='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Guid), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 4000), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p39='?' (DbType = Guid), @p27='?' (DbType = Guid), @p28='?' (DbType = DateTime2), @p29='?' (DbType = DateTime2), @p30='?' (Size = 500) (DbType = AnsiString), @p31='?' (DbType = Boolean), @p32='?' (DbType = Boolean), @p33='?' (DbType = Boolean), @p34='?' (DbType = DateTime2), @p35='?' (Size = 200), @p36='?' (DbType = Int32), @p37='?' (DbType = DateTime2), @p38='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [CreatedAt] = @p0, [DeletedAt] = @p1, [IsActive] = @p2, [IsDeleted] = @p3, [Name] = @p4, [UpdatedAt] = @p5
OUTPUT 1
WHERE [Id] = @p6;
UPDATE [Brands] SET [CreatedAt] = @p7, [DeletedAt] = @p8, [IsActive] = @p9, [IsDeleted] = @p10, [Name] = @p11, [UpdatedAt] = @p12
OUTPUT 1
WHERE [Id] = @p13;
UPDATE [Inventories] SET [Quantity] = @p14
OUTPUT 1
WHERE [Id] = @p15;
UPDATE [InventoryMovements] SET [CreatedAt] = @p16, [DeletedAt] = @p17, [InventoryId] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [OccurredAt] = @p21, [QuantityChange] = @p22, [Reason] = @p23, [Type] = @p24, [UpdatedAt] = @p25
OUTPUT 1
WHERE [Id] = @p26;
UPDATE [Products] SET [BrandId] = @p27, [CreatedAt] = @p28, [DeletedAt] = @p29, [Description] = @p30, [IsActive] = @p31, [IsDeleted] = @p32, [IsService] = @p33, [LastSoldAt] = @p34, [Name] = @p35, [Status] = @p36, [UpdatedAt] = @p37, [PriceAmount] = @p38
OUTPUT 1
WHERE [Id] = @p39;
2025-06-09 22:49:14.430 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 219.5726ms
2025-06-09 22:49:14.432 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:49:14.434 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Infrastructure.Database.CoreDbContext.SaveChangesAndDispatchEventsAsync(IMediator mediator, CancellationToken cancellationToken) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Infrastructure/Database/CoreDbContext.cs:line 58
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:49:14.440 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:49:14.446 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 288.8151ms
2025-06-09 22:55:45.697 +02:00 [INF] Application is shutting down...
2025-06-09 22:55:48.997 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:55:49.057 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:55:49.064 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:55:49.067 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:55:49.076 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:55:49.095 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:55:49.238 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:55:49.238 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:55:49.239 +02:00 [INF] Hosting environment: Development
2025-06-09 22:55:49.239 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:55:54.418 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 22:55:54.463 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:55:54.471 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:55:54.578 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:55:54.604 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:55:54.686 +02:00 [INF] Executed DbCommand (45ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p8='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (Size = 100), @p7='?' (DbType = DateTime2), @p11='?' (DbType = Guid), @p9='?' (DbType = Guid), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Brands] SET [CreatedAt] = @p2, [DeletedAt] = @p3, [IsActive] = @p4, [IsDeleted] = @p5, [Name] = @p6, [UpdatedAt] = @p7
OUTPUT 1
WHERE [Id] = @p8;
UPDATE [Products] SET [BrandId] = @p9, [UpdatedAt] = @p10
OUTPUT 1
WHERE [Id] = @p11;
2025-06-09 22:55:54.725 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p12='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 500) (DbType = AnsiString), @p17='?' (DbType = Boolean), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 200), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Inventories] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [InventoryMovements] SET [CreatedAt] = @p2, [DeletedAt] = @p3, [InventoryId] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [OccurredAt] = @p7, [QuantityChange] = @p8, [Reason] = @p9, [Type] = @p10, [UpdatedAt] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Products] SET [BrandId] = @p13, [CreatedAt] = @p14, [DeletedAt] = @p15, [Description] = @p16, [IsActive] = @p17, [IsDeleted] = @p18, [IsService] = @p19, [LastSoldAt] = @p20, [Name] = @p21, [Status] = @p22, [UpdatedAt] = @p23, [PriceAmount] = @p24
OUTPUT 1
WHERE [Id] = @p25;
2025-06-09 22:55:54.730 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 258.2087ms
2025-06-09 22:55:54.732 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:55:54.734 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method121(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:55:54.741 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:55:54.749 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 331.6601ms
2025-06-09 22:57:34.455 +02:00 [INF] Application is shutting down...
2025-06-09 22:57:37.287 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:57:37.344 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:57:37.347 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:57:37.350 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:57:37.359 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:57:37.380 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:57:37.500 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:57:37.500 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:57:37.500 +02:00 [INF] Hosting environment: Development
2025-06-09 22:57:37.500 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:57:42.053 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 22:57:42.095 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:57:42.104 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:57:42.207 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:57:42.231 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:57:42.273 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Products] SET [UpdatedAt] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-06-09 22:57:42.306 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p12='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 500) (DbType = AnsiString), @p17='?' (DbType = Boolean), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 200), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Inventories] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [InventoryMovements] SET [CreatedAt] = @p2, [DeletedAt] = @p3, [InventoryId] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [OccurredAt] = @p7, [QuantityChange] = @p8, [Reason] = @p9, [Type] = @p10, [UpdatedAt] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Products] SET [BrandId] = @p13, [CreatedAt] = @p14, [DeletedAt] = @p15, [Description] = @p16, [IsActive] = @p17, [IsDeleted] = @p18, [IsService] = @p19, [LastSoldAt] = @p20, [Name] = @p21, [Status] = @p22, [UpdatedAt] = @p23, [PriceAmount] = @p24
OUTPUT 1
WHERE [Id] = @p25;
2025-06-09 22:57:42.311 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 205.7067ms
2025-06-09 22:57:42.313 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:57:42.315 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:57:42.322 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:57:42.328 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 275.084ms
2025-06-09 22:57:55.009 +02:00 [INF] Application is shutting down...
2025-06-09 22:57:58.210 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 22:57:58.268 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:57:58.272 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:57:58.274 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 22:57:58.282 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 22:57:58.301 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 22:57:58.454 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 22:57:58.454 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 22:57:58.454 +02:00 [INF] Hosting environment: Development
2025-06-09 22:57:58.454 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 22:58:11.673 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 22:58:11.705 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:58:11.717 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 22:58:11.821 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 22:58:11.845 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 22:58:11.929 +02:00 [INF] Executed DbCommand (35ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 500) (DbType = AnsiString), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [BrandId] = @p15, [CreatedAt] = @p16, [DeletedAt] = @p17, [Description] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [IsService] = @p21, [LastSoldAt] = @p22, [Name] = @p23, [Status] = @p24, [UpdatedAt] = @p25, [PriceAmount] = @p26
OUTPUT 1
WHERE [Id] = @p27;
2025-06-09 22:58:11.938 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 219.4054ms
2025-06-09 22:58:11.940 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 22:58:11.942 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 22:58:11.951 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 22:58:11.956 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 283.4575ms
2025-06-09 23:01:58.208 +02:00 [INF] Application is shutting down...
2025-06-09 23:02:01.379 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:02:01.436 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:02:01.439 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:02:01.442 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:02:01.451 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:02:01.470 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:02:01.611 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:02:01.611 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:02:01.611 +02:00 [INF] Hosting environment: Development
2025-06-09 23:02:01.611 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:02:05.728 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 23:02:05.759 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:02:05.766 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:02:05.865 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:02:05.893 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:02:05.954 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 500) (DbType = AnsiString), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [BrandId] = @p15, [CreatedAt] = @p16, [DeletedAt] = @p17, [Description] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [IsService] = @p21, [LastSoldAt] = @p22, [Name] = @p23, [Status] = @p24, [UpdatedAt] = @p25, [PriceAmount] = @p26
OUTPUT 1
WHERE [Id] = @p27;
2025-06-09 23:02:05.964 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 196.5505ms
2025-06-09 23:02:05.965 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:02:05.968 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:02:05.974 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:02:05.979 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 252.0321ms
2025-06-09 23:06:58.601 +02:00 [INF] Application is shutting down...
2025-06-09 23:07:01.347 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:07:01.405 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:07:01.409 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:07:01.412 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:07:01.420 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:07:01.440 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:07:01.572 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:07:01.573 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:07:01.573 +02:00 [INF] Hosting environment: Development
2025-06-09 23:07:01.573 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:07:04.632 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 23:07:04.690 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:07:04.704 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:07:04.817 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:07:04.843 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:07:04.906 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 500) (DbType = AnsiString), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [BrandId] = @p15, [CreatedAt] = @p16, [DeletedAt] = @p17, [Description] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [IsService] = @p21, [LastSoldAt] = @p22, [Name] = @p23, [Status] = @p24, [UpdatedAt] = @p25, [PriceAmount] = @p26
OUTPUT 1
WHERE [Id] = @p27;
2025-06-09 23:07:04.916 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 211.2027ms
2025-06-09 23:07:04.918 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:07:04.920 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:07:04.927 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:07:04.934 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 303.862ms
2025-06-09 23:07:11.753 +02:00 [INF] Application is shutting down...
2025-06-09 23:07:56.626 +02:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:07:56.780 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:07:56.791 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:07:56.795 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:07:56.813 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:07:56.900 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:07:57.133 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:07:57.133 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:07:57.134 +02:00 [INF] Hosting environment: Development
2025-06-09 23:07:57.134 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:08:02.274 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 23:08:02.347 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:08:02.354 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:08:02.473 +02:00 [INF] Executing action method PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) - Validation state: "Valid"
2025-06-09 23:08:37.902 +02:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:08:59.575 +02:00 [INF] Executed DbCommand (47ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:11:24.484 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 500) (DbType = AnsiString), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [BrandId] = @p15, [CreatedAt] = @p16, [DeletedAt] = @p17, [Description] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [IsService] = @p21, [LastSoldAt] = @p22, [Name] = @p23, [Status] = @p24, [UpdatedAt] = @p25, [PriceAmount] = @p26
OUTPUT 1
WHERE [Id] = @p27;
2025-06-09 23:11:27.764 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 205406.4236ms
2025-06-09 23:11:27.768 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:11:27.783 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:11:27.810 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:11:27.846 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 205572.3735ms
2025-06-09 23:20:22.457 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:20:22.522 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:20:22.525 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:20:22.528 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:20:22.537 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:20:22.560 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:20:22.715 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:20:22.716 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:20:22.716 +02:00 [INF] Hosting environment: Development
2025-06-09 23:20:22.716 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:20:26.771 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 23:20:26.797 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:20:26.805 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:20:26.949 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:20:26.977 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:20:27.044 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p27='?' (DbType = Guid), @p15='?' (DbType = Guid), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (Size = 500) (DbType = AnsiString), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = DateTime2), @p23='?' (Size = 200), @p24='?' (DbType = Int32), @p25='?' (DbType = DateTime2), @p26='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [BrandId] = @p15, [CreatedAt] = @p16, [DeletedAt] = @p17, [Description] = @p18, [IsActive] = @p19, [IsDeleted] = @p20, [IsService] = @p21, [LastSoldAt] = @p22, [Name] = @p23, [Status] = @p24, [UpdatedAt] = @p25, [PriceAmount] = @p26
OUTPUT 1
WHERE [Id] = @p27;
2025-06-09 23:20:27.054 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 248.2902ms
2025-06-09 23:20:27.056 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:20:27.058 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 136
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:20:27.068 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:20:27.075 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 304.8001ms
2025-06-09 23:26:40.040 +02:00 [INF] Application is shutting down...
2025-06-09 23:26:44.068 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:26:44.132 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:26:44.135 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:26:44.140 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:26:44.149 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:26:44.171 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:26:44.305 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:26:44.306 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:26:44.306 +02:00 [INF] Hosting environment: Development
2025-06-09 23:26:44.306 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:26:49.066 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 148
2025-06-09 23:26:49.089 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:26:49.095 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:26:49.220 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:26:49.248 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:26:49.335 +02:00 [INF] Executed DbCommand (34ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p15='?' (Size = 200), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [Name] = @p15, [Status] = @p16, [UpdatedAt] = @p17, [PriceAmount] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-06-09 23:26:49.346 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 249.9839ms
2025-06-09 23:26:49.347 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:26:49.350 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 134
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:26:49.358 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:26:49.364 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 298.2934ms
2025-06-09 23:28:52.229 +02:00 [INF] Application is shutting down...
2025-06-09 23:29:25.386 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:29:25.447 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:29:25.450 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:29:25.453 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:29:25.462 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:29:25.485 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:29:25.628 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:29:25.628 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:29:25.628 +02:00 [INF] Hosting environment: Development
2025-06-09 23:29:25.628 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:29:30.094 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/index.html - null null
2025-06-09 23:29:30.133 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/index.html - 200 null text/html;charset=utf-8 41.0967ms
2025-06-09 23:29:30.248 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - null null
2025-06-09 23:29:30.307 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7232/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.7171ms
2025-06-09 23:29:42.188 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 150
2025-06-09 23:29:42.220 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:29:42.230 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:29:42.354 +02:00 [INF] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:29:42.378 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:29:42.433 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p15='?' (Size = 200), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [Name] = @p15, [Status] = @p16, [UpdatedAt] = @p17, [PriceAmount] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-06-09 23:29:42.442 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 211.0793ms
2025-06-09 23:29:42.442 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:29:42.445 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 134
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:29:42.452 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:29:42.456 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 267.7094ms
2025-06-09 23:30:59.307 +02:00 [INF] Application is shutting down...
2025-06-09 23:31:02.618 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:31:02.692 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:31:02.697 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:31:02.700 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:31:02.710 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:31:02.738 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:31:02.887 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:31:02.888 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:31:02.888 +02:00 [INF] Hosting environment: Development
2025-06-09 23:31:02.888 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:31:08.896 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 150
2025-06-09 23:31:08.929 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:31:08.936 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:31:09.061 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:31:09.087 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:31:09.146 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p15='?' (Size = 200), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [Name] = @p15, [Status] = @p16, [UpdatedAt] = @p17, [PriceAmount] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-06-09 23:31:09.156 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 218.8494ms
2025-06-09 23:31:09.158 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:31:09.160 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 134
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:31:09.166 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:31:09.172 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 277.9251ms
2025-06-09 23:40:34.746 +02:00 [INF] Application is shutting down...
2025-06-09 23:40:38.127 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:40:38.195 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:40:38.198 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:40:38.202 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:40:38.211 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:40:38.234 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:40:38.364 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:40:38.364 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:40:38.364 +02:00 [INF] Hosting environment: Development
2025-06-09 23:40:38.364 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:40:42.602 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 150
2025-06-09 23:40:42.630 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:40:42.640 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:40:42.754 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:40:42.780 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:40:42.839 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p15='?' (Size = 200), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [Name] = @p15, [Status] = @p16, [UpdatedAt] = @p17, [PriceAmount] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-06-09 23:40:42.850 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 209.3034ms
2025-06-09 23:40:42.852 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:40:42.855 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 134
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:40:42.861 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:40:42.867 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 265.8605ms
2025-06-09 23:49:18.076 +02:00 [INF] Application is shutting down...
2025-06-09 23:49:21.403 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:49:21.472 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:49:21.476 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:49:21.479 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:49:21.489 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:49:21.528 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:49:21.694 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:49:21.694 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:49:21.694 +02:00 [INF] Hosting environment: Development
2025-06-09 23:49:21.694 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:49:26.115 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 150
2025-06-09 23:49:26.139 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:49:26.146 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:49:26.272 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:49:26.300 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:49:26.372 +02:00 [INF] Executed DbCommand (10ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p2='?' (DbType = Int32), @p14='?' (DbType = Guid), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Guid), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (DbType = Int32), @p13='?' (DbType = DateTime2), @p19='?' (DbType = Guid), @p15='?' (Size = 200), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Brands] SET [UpdatedAt] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [Inventories] SET [Quantity] = @p2
OUTPUT 1
WHERE [Id] = @p3;
UPDATE [InventoryMovements] SET [CreatedAt] = @p4, [DeletedAt] = @p5, [InventoryId] = @p6, [IsActive] = @p7, [IsDeleted] = @p8, [OccurredAt] = @p9, [QuantityChange] = @p10, [Reason] = @p11, [Type] = @p12, [UpdatedAt] = @p13
OUTPUT 1
WHERE [Id] = @p14;
UPDATE [Products] SET [Name] = @p15, [Status] = @p16, [UpdatedAt] = @p17, [PriceAmount] = @p18
OUTPUT 1
WHERE [Id] = @p19;
2025-06-09 23:49:26.382 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 234.8694ms
2025-06-09 23:49:26.384 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:49:26.386 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 129
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:49:26.393 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:49:26.399 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 284.6496ms
2025-06-09 23:56:18.030 +02:00 [INF] Application is shutting down...
2025-06-09 23:56:21.668 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:56:21.742 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:56:21.746 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:56:21.752 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:56:21.763 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:56:21.786 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:56:21.934 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:56:21.935 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:56:21.935 +02:00 [INF] Hosting environment: Development
2025-06-09 23:56:21.935 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:56:27.846 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 150
2025-06-09 23:56:27.897 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:56:27.906 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:56:28.030 +02:00 [INF] Executed DbCommand (23ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:56:28.060 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:56:28.142 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p12='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p17='?' (DbType = Guid), @p13='?' (Size = 200), @p14='?' (DbType = Int32), @p15='?' (DbType = DateTime2), @p16='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Inventories] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [InventoryMovements] SET [CreatedAt] = @p2, [DeletedAt] = @p3, [InventoryId] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [OccurredAt] = @p7, [QuantityChange] = @p8, [Reason] = @p9, [Type] = @p10, [UpdatedAt] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Products] SET [Name] = @p13, [Status] = @p14, [UpdatedAt] = @p15, [PriceAmount] = @p16
OUTPUT 1
WHERE [Id] = @p17;
2025-06-09 23:56:28.151 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 244.3743ms
2025-06-09 23:56:28.153 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:56:28.155 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 129
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:56:28.163 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:56:28.168 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 324.0788ms
2025-06-09 23:59:00.996 +02:00 [INF] Application is shutting down...
2025-06-09 23:59:04.077 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
2025-06-09 23:59:04.147 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:59:04.151 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Customers] AS [c]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:59:04.154 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-06-09 23:59:04.164 +02:00 [INF] Seed data successfully inserted (if needed).
2025-06-09 23:59:04.189 +02:00 [INF] User profile is available. Using '/Users/kouumss/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-06-09 23:59:04.333 +02:00 [INF] Now listening on: https://localhost:7232
2025-06-09 23:59:04.333 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-06-09 23:59:04.333 +02:00 [INF] Hosting environment: Development
2025-06-09 23:59:04.333 +02:00 [INF] Content root path: /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API
2025-06-09 23:59:10.311 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - application/json 150
2025-06-09 23:59:10.360 +02:00 [INF] Executing endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:59:10.367 +02:00 [INF] Route matched with {action = "Update", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PulseERP.API.Contracts.ApiResponse`1[PulseERP.Abstractions.Common.DTOs.Products.Models.ProductDetails]]] Update(System.Guid, PulseERP.Abstractions.Common.DTOs.Products.Commands.UpdateProductCommand) on controller PulseERP.API.Controllers.ProductsController (PulseERP.API).
2025-06-09 23:59:10.495 +02:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [p].[Id], [p].[BrandId], [p].[CreatedAt], [p].[DeletedAt], [p].[Description], [p].[IsActive], [p].[IsDeleted], [p].[IsService], [p].[LastSoldAt], [p].[Name], [p].[Status], [p].[UpdatedAt], [p].[PriceAmount], [p].[PriceCurrency], [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt], [i].[Id], [i].[CreatedAt], [i].[DeletedAt], [i].[IsActive], [i].[IsDeleted], [i].[ProductId], [i].[Quantity], [i].[UpdatedAt]
FROM [Products] AS [p]
INNER JOIN [Brands] AS [b] ON [p].[BrandId] = [b].[Id]
LEFT JOIN [Inventories] AS [i] ON [p].[Id] = [i].[ProductId]
WHERE [p].[Id] = @__id_0
2025-06-09 23:59:10.523 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalized_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [b].[Id], [b].[CreatedAt], [b].[DeletedAt], [b].[IsActive], [b].[IsDeleted], [b].[Name], [b].[UpdatedAt]
FROM [Brands] AS [b]
WHERE [b].[Name] = @__normalized_0
2025-06-09 23:59:10.580 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Int32), @p12='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p25='?' (DbType = Guid), @p13='?' (DbType = Guid), @p14='?' (DbType = DateTime2), @p15='?' (DbType = DateTime2), @p16='?' (Size = 500) (DbType = AnsiString), @p17='?' (DbType = Boolean), @p18='?' (DbType = Boolean), @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime2), @p21='?' (Size = 200), @p22='?' (DbType = Int32), @p23='?' (DbType = DateTime2), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Inventories] SET [Quantity] = @p0
OUTPUT 1
WHERE [Id] = @p1;
UPDATE [InventoryMovements] SET [CreatedAt] = @p2, [DeletedAt] = @p3, [InventoryId] = @p4, [IsActive] = @p5, [IsDeleted] = @p6, [OccurredAt] = @p7, [QuantityChange] = @p8, [Reason] = @p9, [Type] = @p10, [UpdatedAt] = @p11
OUTPUT 1
WHERE [Id] = @p12;
UPDATE [Products] SET [BrandId] = @p13, [CreatedAt] = @p14, [DeletedAt] = @p15, [Description] = @p16, [IsActive] = @p17, [IsDeleted] = @p18, [IsService] = @p19, [LastSoldAt] = @p20, [Name] = @p21, [Status] = @p22, [UpdatedAt] = @p23, [PriceAmount] = @p24
OUTPUT 1
WHERE [Id] = @p25;
2025-06-09 23:59:10.599 +02:00 [INF] Executed action PulseERP.API.Controllers.ProductsController.Update (PulseERP.API) in 231.5193ms
2025-06-09 23:59:10.601 +02:00 [INF] Executed endpoint 'PulseERP.API.Controllers.ProductsController.Update (PulseERP.API)'
2025-06-09 23:59:10.604 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See https://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at PulseERP.Application.Services.ProductService.UpdateProductAsync(Guid id, UpdateProductCommand cmd) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.Application/Services/ProductService.cs:line 130
   at PulseERP.API.Controllers.ProductsController.Update(Guid id, UpdateProductCommand request) in /Users/kouumss/Desktop/Projects/PulseERP/PulseERP.API/Controllers/ProductsController.cs:line 62
   at lambda_method123(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Hellang.Middleware.ProblemDetails.ProblemDetailsMiddleware.Invoke(HttpContext context)
2025-06-09 23:59:10.611 +02:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-06-09 23:59:10.616 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7232/api/products/6b3126ec-ba5e-46e5-9cfc-13f82022f1cf - 500 null application/problem+json; charset=utf-8 306.631ms
